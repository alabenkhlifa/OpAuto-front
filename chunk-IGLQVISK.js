import{a as B}from"./chunk-AMH2FIFE.js";import{a as pe,b as R,c as h,d as U,e as $,i as H,j as Y,l as W,o as Q,p as K,q as N,r as L,t as J,x as X,y as me,z as Z}from"./chunk-O3CTDYVO.js";import{b as ee,c as ue}from"./chunk-ECECQ7NF.js";import{f as de}from"./chunk-5NENZ4M5.js";import{$ as _,$a as g,Ab as v,Ca as O,Fb as z,Ha as y,Ja as F,U as I,Wb as j,Xb as V,Ya as s,Z as k,Za as i,Zb as ce,_ as S,_a as n,a as ae,aa as M,ab as T,ac as A,b as oe,bb as b,cb as x,ga as p,hb as le,ib as ie,jb as C,kb as o,lb as d,mb as m,nb as E,ob as q,sa as a,tb as se,wb as G,zb as u}from"./chunk-DMTVNCDT.js";function _e(l,e){if(l&1&&(i(0,"option",38),o(1),n()),l&2){let t=e.$implicit,r=x();s("value",t),a(),m(" ",r.getCategoryLabel(t)," ")}}function ye(l,e){if(l&1&&(i(0,"option",38),o(1),n()),l&2){let t=e.$implicit;s("value",t.id),a(),m(" ",t.name," ")}}function he(l,e){if(l&1&&(i(0,"option",38),o(1),n()),l&2){let t=e.$implicit,r=x();s("value",t),a(),m(" ",r.getUnitLabel(t)," ")}}function ke(l,e){if(l&1&&(i(0,"span"),o(1),n()),l&2){let t=x();a(),d(t.isEditMode()?t.updatePartText():t.createPartText())}}function Se(l,e){if(l&1&&(i(0,"span",39),g(1,"div",40),o(2),n()),l&2){let t=x();a(2),m(" ",t.isEditMode()?t.updatingText():t.creatingText()," ")}}var te=class l{part=null;isOpen=!1;close=new F;save=new F;fb=I(X);partService=I(B);translationService=I(ee);suppliers=p([]);isSubmitting=p(!1);translationsReady=p(!1);addNewPartText=p("Add New Part");editPartText=p("Edit Part");managePartInventoryText=p("Manage part inventory");basicInformationText=p("Basic Information");partNameText=p("Part Name");enterPartNameText=p("Enter part name");partNumberText=p("Part Number");enterPartNumberText=p("Enter part number");descriptionText=p("Description");enterDescriptionText=p("Enter description");categoryAndClassificationText=p("Category and Classification");categoryText=p("Category");selectCategoryText=p("Select category");brandText=p("Brand");enterBrandText=p("Enter brand");supplierAndPricingText=p("Supplier and Pricing");supplierText=p("Supplier");selectSupplierText=p("Select supplier");unitText=p("Unit");selectUnitText=p("Select unit");priceText=p("Price");stockManagementText=p("Stock Management");currentStockText=p("Current Stock");minStockLevelText=p("Min Stock Level");maxStockLevelText=p("Max Stock Level");optionalText=p("Optional");storageLocationText=p("Storage Location");locationPlaceholderText=p("e.g., Shelf A-1, Row B, etc.");statusText=p("Status");activePartText=p("Active part");cancelText=p("Cancel");createPartText=p("Create Part");updatePartText=p("Update Part");creatingText=p("Creating...");updatingText=p("Updating...");translationSubscription;partForm;availableCategories=["engine","transmission","brakes","suspension","electrical","filters","fluids","tires","body","accessories","consumables"];availableUnits=["piece","liter","kg","meter","pair","set","bottle","box"];constructor(){this.partForm=this.fb.group({name:["",[h.required,h.minLength(2)]],partNumber:["",[h.required,h.minLength(2)]],description:[""],category:["",h.required],brand:["",[h.required,h.minLength(2)]],supplierId:["",h.required],unit:["",h.required],price:[0,[h.required,h.min(0)]],stockLevel:[0,[h.required,h.min(0)]],minStockLevel:[0,[h.required,h.min(0)]],maxStockLevel:[null,h.min(0)],location:[""],isActive:[!0]})}ngOnInit(){this.initializeTranslations(),this.loadSuppliers(),this.part&&this.populateForm()}ngOnDestroy(){this.translationSubscription?.unsubscribe()}initializeTranslations(){let e=this.translationService.getCurrentTranslations();if(this.hasRequiredTranslations(e)){this.updateTranslationSignals(),this.translationsReady.set(!0);return}this.setFallbackTranslations(),this.translationsReady.set(!0),(!e||Object.keys(e).length===0)&&this.translationService.forceReloadTranslations(),this.translationSubscription=this.translationService.translations$.subscribe(t=>{this.hasRequiredTranslations(t)&&this.updateTranslationSignals()})}hasRequiredTranslations(e){return e&&e.inventory&&e.inventory.parts&&e.common&&e.inventory.categories&&e.inventory.units}setFallbackTranslations(){this.addNewPartText.set("Add New Part"),this.editPartText.set("Edit Part"),this.managePartInventoryText.set("Manage part inventory"),this.basicInformationText.set("Basic Information"),this.partNameText.set("Part Name"),this.enterPartNameText.set("Enter part name"),this.partNumberText.set("Part Number"),this.enterPartNumberText.set("Enter part number"),this.descriptionText.set("Description"),this.enterDescriptionText.set("Enter description"),this.categoryAndClassificationText.set("Category and Classification"),this.categoryText.set("Category"),this.selectCategoryText.set("Select category"),this.brandText.set("Brand"),this.enterBrandText.set("Enter brand"),this.supplierAndPricingText.set("Supplier and Pricing"),this.supplierText.set("Supplier"),this.selectSupplierText.set("Select supplier"),this.unitText.set("Unit"),this.selectUnitText.set("Select unit"),this.priceText.set("Price"),this.stockManagementText.set("Stock Management"),this.currentStockText.set("Current Stock"),this.minStockLevelText.set("Min Stock Level"),this.maxStockLevelText.set("Max Stock Level"),this.optionalText.set("Optional"),this.storageLocationText.set("Storage Location"),this.locationPlaceholderText.set("e.g., Shelf A-1, Row B, etc."),this.statusText.set("Status"),this.activePartText.set("Active part"),this.cancelText.set("Cancel"),this.createPartText.set("Create Part"),this.updatePartText.set("Update Part"),this.creatingText.set("Creating..."),this.updatingText.set("Updating...")}updateTranslationSignals(){this.addNewPartText.set(this.translationService.instant("inventory.parts.addNewPart")),this.editPartText.set(this.translationService.instant("inventory.parts.editPart")),this.managePartInventoryText.set(this.translationService.instant("inventory.parts.managePartInventory")),this.basicInformationText.set(this.translationService.instant("inventory.parts.basicInformation")),this.partNameText.set(this.translationService.instant("inventory.parts.partName")),this.enterPartNameText.set(this.translationService.instant("inventory.parts.enterPartName")),this.partNumberText.set(this.translationService.instant("inventory.parts.partNumber")),this.enterPartNumberText.set(this.translationService.instant("inventory.parts.enterPartNumber")),this.descriptionText.set(this.translationService.instant("inventory.parts.description")),this.enterDescriptionText.set(this.translationService.instant("inventory.parts.enterDescription")),this.categoryAndClassificationText.set(this.translationService.instant("inventory.parts.categoryAndClassification")),this.categoryText.set(this.translationService.instant("inventory.parts.category")),this.selectCategoryText.set(this.translationService.instant("inventory.parts.selectCategory")),this.brandText.set(this.translationService.instant("inventory.parts.brand")),this.enterBrandText.set(this.translationService.instant("inventory.parts.enterBrand")),this.supplierAndPricingText.set(this.translationService.instant("inventory.parts.supplierAndPricing")),this.supplierText.set(this.translationService.instant("inventory.parts.supplier")),this.selectSupplierText.set(this.translationService.instant("inventory.parts.selectSupplier")),this.unitText.set(this.translationService.instant("inventory.parts.unit")),this.selectUnitText.set(this.translationService.instant("inventory.parts.selectUnit")),this.priceText.set(this.translationService.instant("inventory.parts.price")),this.stockManagementText.set(this.translationService.instant("inventory.parts.stockManagement")),this.currentStockText.set(this.translationService.instant("inventory.parts.currentStock")),this.minStockLevelText.set(this.translationService.instant("inventory.parts.minStockLevel")),this.maxStockLevelText.set(this.translationService.instant("inventory.parts.maxStockLevel")),this.optionalText.set(this.translationService.instant("inventory.parts.optional")),this.storageLocationText.set(this.translationService.instant("inventory.parts.storageLocation")),this.locationPlaceholderText.set(this.translationService.instant("inventory.parts.locationPlaceholder")),this.statusText.set(this.translationService.instant("inventory.parts.status")),this.activePartText.set(this.translationService.instant("inventory.parts.activePart")),this.cancelText.set(this.translationService.instant("common.cancel")),this.createPartText.set(this.translationService.instant("inventory.parts.createPart")),this.updatePartText.set(this.translationService.instant("inventory.parts.updatePart")),this.creatingText.set(this.translationService.instant("inventory.parts.creating")),this.updatingText.set(this.translationService.instant("inventory.parts.updating"))}isEditMode(){return this.part!==null}getCategoryLabel(e){return this.translationService.instant(`inventory.categories.${e}`)}getUnitLabel(e){return this.translationService.instant(`inventory.units.${e}`)}loadSuppliers(){this.partService.getSuppliers().subscribe({next:e=>{this.suppliers.set(e.filter(t=>t.isActive))},error:e=>console.error("Failed to load suppliers:",e)})}populateForm(){this.part&&this.partForm.patchValue({name:this.part.name,partNumber:this.part.partNumber,description:this.part.description||"",category:this.part.category,brand:this.part.brand,supplierId:this.part.supplierId,unit:this.part.unit,price:this.part.price,stockLevel:this.part.stockLevel,minStockLevel:this.part.minStockLevel,maxStockLevel:this.part.maxStockLevel,location:this.part.location||"",isActive:this.part.isActive})}onSubmit(){if(this.partForm.valid&&!this.isSubmitting()){this.isSubmitting.set(!0);let e=this.partForm.value,t={name:e.name,partNumber:e.partNumber,description:e.description||void 0,category:e.category,brand:e.brand,supplierId:e.supplierId,unit:e.unit,price:parseFloat(e.price),currency:"TND",stockLevel:parseInt(e.stockLevel),minStockLevel:parseInt(e.minStockLevel),maxStockLevel:e.maxStockLevel?parseInt(e.maxStockLevel):void 0,location:e.location||void 0,isActive:e.isActive};this.isEditMode()&&this.part?this.partService.updatePart(this.part.id,t).subscribe({next:r=>{this.save.emit(r),this.isSubmitting.set(!1),this.onClose()},error:r=>{console.error("Failed to update part:",r),this.isSubmitting.set(!1)}}):this.partService.createPart(t).subscribe({next:r=>{this.save.emit(r),this.isSubmitting.set(!1),this.onClose()},error:r=>{console.error("Failed to create part:",r),this.isSubmitting.set(!1)}})}else Object.keys(this.partForm.controls).forEach(e=>{this.partForm.get(e)?.markAsTouched()})}onClose(){this.close.emit(),this.partForm.reset(),this.isSubmitting.set(!1)}onBackdropClick(e){e.target===e.currentTarget&&this.onClose()}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=O({type:l,selectors:[["app-part-modal"]],inputs:{part:"part",isOpen:"isOpen"},outputs:{close:"close",save:"save"},decls:100,vars:37,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title-section"],[1,"modal-title"],[1,"modal-subtitle"],[1,"modal-close-btn",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"modal-form",3,"formGroup"],[1,"form-section"],[1,"section-title"],[1,"form-row"],[1,"form-group","flex-1"],[1,"form-label"],["type","text","formControlName","name",1,"form-input",3,"placeholder"],["type","text","formControlName","partNumber",1,"form-input",3,"placeholder"],[1,"form-group"],["formControlName","description","rows","3",1,"form-textarea",3,"placeholder"],["formControlName","category",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","brand",1,"form-input",3,"placeholder"],["formControlName","supplierId",1,"form-select"],["formControlName","unit",1,"form-select"],["type","number","formControlName","price","placeholder","0.00","step","0.01","min","0",1,"form-input"],["type","number","formControlName","stockLevel","placeholder","0","min","0",1,"form-input"],["type","number","formControlName","minStockLevel","placeholder","0","min","0",1,"form-input"],["type","number","formControlName","maxStockLevel","min","0",1,"form-input",3,"placeholder"],["type","text","formControlName","location",1,"form-input",3,"placeholder"],[1,"flex","items-center","gap-3","mt-2"],["type","checkbox","id","isActive","formControlName","isActive",1,"h-4","w-4","text-blue-600","focus:ring-blue-500","border-gray-300","dark:border-gray-600","rounded"],["for","isActive",1,"text-sm","font-medium","text-white"],[1,"modal-footer"],["type","button",1,"modal-btn","secondary",3,"click"],["type","button",1,"modal-btn","primary",3,"click","disabled"],[4,"ngIf"],["class","flex items-center gap-2",4,"ngIf"],[3,"value"],[1,"flex","items-center","gap-2"],[1,"submit-spinner"]],template:function(t,r){t&1&&(i(0,"div",0),b("click",function(f){return r.onBackdropClick(f)}),i(1,"div",1),b("click",function(f){return f.stopPropagation()}),i(2,"header",2)(3,"div",3)(4,"h2",4),o(5),n(),i(6,"p",5),o(7),n()(),i(8,"button",6),b("click",function(){return r.onClose()}),_(),i(9,"svg",7),g(10,"path",8),n()()(),M(),i(11,"form",9)(12,"div",10)(13,"h3",11),o(14),n(),i(15,"div",12)(16,"div",13)(17,"label",14),o(18),n(),g(19,"input",15),n(),i(20,"div",13)(21,"label",14),o(22),n(),g(23,"input",16),n()(),i(24,"div",17)(25,"label",14),o(26),n(),i(27,"textarea",18),o(28,"              "),n()()(),i(29,"div",10)(30,"h3",11),o(31),n(),i(32,"div",12)(33,"div",13)(34,"label",14),o(35),n(),i(36,"select",19)(37,"option",20),o(38),n(),y(39,_e,2,2,"option",21),n()(),i(40,"div",13)(41,"label",14),o(42),n(),g(43,"input",22),n()()(),i(44,"div",10)(45,"h3",11),o(46),n(),i(47,"div",12)(48,"div",13)(49,"label",14),o(50),n(),i(51,"select",23)(52,"option",20),o(53),n(),y(54,ye,2,2,"option",21),n()(),i(55,"div",17)(56,"label",14),o(57),n(),i(58,"select",24)(59,"option",20),o(60),n(),y(61,he,2,2,"option",21),n()(),i(62,"div",17)(63,"label",14),o(64),n(),g(65,"input",25),n()()(),i(66,"div",10)(67,"h3",11),o(68),n(),i(69,"div",12)(70,"div",17)(71,"label",14),o(72),n(),g(73,"input",26),n(),i(74,"div",17)(75,"label",14),o(76),n(),g(77,"input",27),n(),i(78,"div",17)(79,"label",14),o(80),n(),g(81,"input",28),n()(),i(82,"div",12)(83,"div",13)(84,"label",14),o(85),n(),g(86,"input",29),n(),i(87,"div",17)(88,"label",14),o(89),n(),i(90,"div",30),g(91,"input",31),i(92,"label",32),o(93),n()()()()()(),i(94,"footer",33)(95,"button",34),b("click",function(){return r.onClose()}),o(96),n(),i(97,"button",35),b("click",function(){return r.onSubmit()}),y(98,ke,2,1,"span",36)(99,Se,3,1,"span",37),n()()()()),t&2&&(a(5),d(r.isEditMode()?r.editPartText():r.addNewPartText()),a(2),d(r.managePartInventoryText()),a(4),s("formGroup",r.partForm),a(3),d(r.basicInformationText()),a(4),m("",r.partNameText()," *"),a(),s("placeholder",r.enterPartNameText()),a(3),m("",r.partNumberText()," *"),a(),s("placeholder",r.enterPartNumberText()),a(3),d(r.descriptionText()),a(),s("placeholder",r.enterDescriptionText()),a(4),d(r.categoryAndClassificationText()),a(4),m("",r.categoryText()," *"),a(3),d(r.selectCategoryText()),a(),s("ngForOf",r.availableCategories),a(3),m("",r.brandText()," *"),a(),s("placeholder",r.enterBrandText()),a(3),d(r.supplierAndPricingText()),a(4),m("",r.supplierText()," *"),a(3),d(r.selectSupplierText()),a(),s("ngForOf",r.suppliers()),a(3),m("",r.unitText()," *"),a(3),d(r.selectUnitText()),a(),s("ngForOf",r.availableUnits),a(3),m("",r.priceText()," (TND) *"),a(4),d(r.stockManagementText()),a(4),m("",r.currentStockText()," *"),a(4),m("",r.minStockLevelText()," *"),a(4),d(r.maxStockLevelText()),a(),s("placeholder",r.optionalText()),a(4),d(r.storageLocationText()),a(),s("placeholder",r.locationPlaceholderText()),a(3),d(r.statusText()),a(4),m(" ",r.activePartText()," "),a(3),m(" ",r.cancelText()," "),a(),s("disabled",!r.partForm.valid||r.isSubmitting()),a(),s("ngIf",!r.isSubmitting()),a(),s("ngIf",r.isSubmitting()))},dependencies:[A,j,V,Z,H,N,L,R,Y,pe,K,U,$,J,W,Q],styles:[`.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000c;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);z-index:50;display:flex;align-items:center;justify-content:center;padding:1rem;animation:_ngcontent-%COMP%_overlayFadeIn .2s ease-out}@keyframes _ngcontent-%COMP%_overlayFadeIn{0%{opacity:0;-webkit-backdrop-filter:blur(0px);backdrop-filter:blur(0px)}to{opacity:1;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}}.modal-content[_ngcontent-%COMP%]{background:#111827f2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:24px;width:100%;max-width:600px;max-height:90vh;overflow-y:auto;box-shadow:0 25px 80px #0009;animation:_ngcontent-%COMP%_modalSlideIn .3s cubic-bezier(.4,0,.2,1)}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:2rem 2rem 1rem;border-bottom:1px solid rgba(255,255,255,.1)}.modal-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;margin:0 0 .25rem}.modal-subtitle[_ngcontent-%COMP%]{color:#d1d5db;font-size:.875rem;margin:0}.modal-close-btn[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border:none;background:#ffffff1a;border-radius:12px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#d1d5db;transition:all .3s cubic-bezier(.4,0,.2,1)}.modal-close-btn[_ngcontent-%COMP%]:hover{background:#fff3;transform:scale(1.05);color:#fff}.modal-form[_ngcontent-%COMP%]{padding:2rem}.form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.section-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#fff;margin:0 0 1rem;display:flex;align-items:center;gap:.5rem}.section-title[_ngcontent-%COMP%]:before{content:"";width:4px;height:1.5rem;background:linear-gradient(135deg,#3b82f6,#1d4ed8);border-radius:2px}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:flex-end}@media (max-width: 767px){.form-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#d1d5db}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{padding:.875rem 1rem;border:1px solid rgba(255,255,255,.2);border-radius:12px;background:#ffffff0d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);color:#fff;font-size:.875rem;transition:all .3s cubic-bezier(.4,0,.2,1)}.form-input[_ngcontent-%COMP%]::placeholder, .form-textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;background:#ffffff1a;box-shadow:0 0 0 3px #3b82f633;transform:translateY(-1px)}.form-input[_ngcontent-%COMP%]:hover:not(:focus), .form-select[_ngcontent-%COMP%]:hover:not(:focus), .form-textarea[_ngcontent-%COMP%]:hover:not(:focus){border-color:#ffffff4d;background-color:#ffffff14}.form-select[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23ffffff' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");background-position:right .75rem center;background-repeat:no-repeat;background-size:1.5em 1.5em;padding-right:2.5rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.modal-footer[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1.5rem 2rem 2rem;border-top:1px solid rgba(255,255,255,.1)}@media (max-width: 767px){.modal-footer[_ngcontent-%COMP%]{flex-direction:column}}.modal-btn[_ngcontent-%COMP%]{flex:1;padding:1rem 1.5rem;border-radius:12px;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;justify-content:center;gap:.5rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.modal-btn.secondary[_ngcontent-%COMP%]{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);color:#d1d5db}.modal-btn.secondary[_ngcontent-%COMP%]:hover{background:#ffffff26;border-color:#ffffff4d;transform:translateY(-1px);box-shadow:0 4px 12px #0000004d}.modal-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#059669,#047857);border:1px solid #059669;color:#fff;box-shadow:0 4px 15px #0596694d}.modal-btn.primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#047857,#065f46);transform:translateY(-1px);box-shadow:0 6px 20px #05966966}.modal-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none!important}.submit-spinner[_ngcontent-%COMP%]{width:1rem;height:1rem;border:2px solid rgba(255,255,255,.3);border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff1a;border-radius:3px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:3px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff80}`]})};function Ce(l,e){l&1&&(i(0,"div",35),o(1," Adjustment type is required "),n())}function we(l,e){l&1&&(i(0,"span"),o(1,"Quantity is required"),n())}function Pe(l,e){l&1&&(i(0,"span"),o(1,"Quantity must be positive"),n())}function Ie(l,e){l&1&&(i(0,"span"),o(1,"Not enough stock available"),n())}function Me(l,e){if(l&1&&(i(0,"div",35),y(1,we,2,0,"span",36)(2,Pe,2,0,"span",36)(3,Ie,2,0,"span",36),n()),l&2){let t,r,c,f=x();a(),s("ngIf",(t=f.stockForm.get("quantity"))==null||t.errors==null?null:t.errors.required),a(),s("ngIf",(r=f.stockForm.get("quantity"))==null||r.errors==null?null:r.errors.min),a(),s("ngIf",(c=f.stockForm.get("quantity"))==null||c.errors==null?null:c.errors.max)}}function Te(l,e){if(l&1&&(i(0,"option",37),o(1),n()),l&2){let t=e.$implicit;s("value",t),a(),m(" ",t," ")}}function Ee(l,e){l&1&&(i(0,"div",35),o(1," Reason is required "),n())}function Oe(l,e){if(l&1&&(i(0,"div",38)(1,"h4",39),o(2,"Preview"),n(),i(3,"div",40)(4,"p",41)(5,"span",42),o(6,"Current stock:"),n(),o(7),n(),i(8,"p",41)(9,"span",42),o(10,"After adjustment:"),n(),o(11),i(12,"span",43),o(13),n()()()()),l&2){let t=x();a(7),E(" ",(t.part==null?null:t.part.stockLevel)||0," ",t.part==null?null:t.part.unit,"s "),a(4),E(" ",t.calculateNewStock()," ",t.part==null?null:t.part.unit,"s "),a(),C(t.getPreviewStockStatusClass()),a(),m(" ",t.getPreviewStockStatus()," ")}}function Fe(l,e){l&1&&g(0,"div",44)}var ne=class l{part=null;isOpen=!1;close=new F;adjust=new F;fb=I(X);partService=I(B);isSubmitting=p(!1);stockForm;constructor(){this.stockForm=this.fb.group({type:["",h.required],quantity:[1,[h.required,h.min(1)]],reason:["",h.required],reference:[""],notes:[""]})}ngOnInit(){this.stockForm.reset({type:"",quantity:1,reason:"",reference:"",notes:""})}onTypeChange(){let e=this.stockForm.get("type")?.value,t=this.stockForm.get("quantity");if(e==="out"||e==="return"){let r=this.part?.stockLevel||0;t?.setValidators([h.required,h.min(1),h.max(r)])}else t?.setValidators([h.required,h.min(1)]);t?.updateValueAndValidity()}getAvailableReasons(){let e=this.stockForm.get("type")?.value;return{in:["Purchase delivery","Stock replenishment","Return from customer","Transfer from another location","Initial stock entry"],out:["Used in service job","Sold to customer","Transfer to another location","Damaged/Defective","Testing/Quality check"],adjustment:["Stock count correction","System error correction","Damaged inventory write-off","Expired products removal"],return:["Return to supplier","Warranty return","Wrong part received","Quality issue"]}[e]||[]}calculateNewStock(){let e=this.part?.stockLevel||0,t=this.stockForm.get("quantity")?.value||0,r=this.stockForm.get("type")?.value;return r==="in"?e+t:r==="out"||r==="return"?Math.max(0,e-t):r==="adjustment"?t:e}getPreviewStockStatus(){let e=this.calculateNewStock(),t=this.part?.minStockLevel||0;return e===0?"Out of Stock":e<=t?"Low Stock":"In Stock"}getPreviewStockStatusClass(){let e=this.getPreviewStockStatus().toLowerCase().replace(" ","-");return this.partService.getStockStatusBadgeClass(e)}getStockStatusBadgeClass(e){return this.partService.getStockStatusBadgeClass(e)}onSubmit(){if(this.stockForm.valid&&!this.isSubmitting()&&this.part){this.isSubmitting.set(!0);let e=this.stockForm.value,t=e.type,r=e.quantity;t==="out"||t==="return"?r=-r:t==="adjustment"&&(r=r-(this.part.stockLevel||0)),this.partService.adjustStock(this.part.id,r,e.reason,"current-user").subscribe({next:c=>{this.adjust.emit({partId:this.part.id,quantity:r,reason:e.reason,reference:e.reference||void 0,notes:e.notes||void 0}),this.isSubmitting.set(!1),this.onClose()},error:c=>{console.error("Failed to adjust stock:",c),this.isSubmitting.set(!1)}})}else Object.keys(this.stockForm.controls).forEach(e=>{this.stockForm.get(e)?.markAsTouched()})}onClose(){this.close.emit(),this.stockForm.reset(),this.isSubmitting.set(!1)}onBackdropClick(e){e.target===e.currentTarget&&this.onClose()}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=O({type:l,selectors:[["app-stock-adjustment-modal"]],inputs:{part:"part",isOpen:"isOpen"},outputs:{close:"close",adjust:"adjust"},decls:72,vars:20,consts:[[1,"fixed","inset-0","bg-black/50","backdrop-blur-sm","flex","items-center","justify-center","z-50","p-4",3,"click"],[1,"bg-white/90","dark:bg-gray-800/90","backdrop-blur-md","rounded-xl","border","border-gray-200","dark:border-gray-700","w-full","max-w-lg",3,"click"],[1,"flex","items-center","justify-between","p-6","border-b","border-gray-200","dark:border-gray-700"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],[1,"h-8","w-8","rounded-lg","bg-gray-100","dark:bg-gray-700","hover:bg-gray-200","dark:hover:bg-gray-600","flex","items-center","justify-center","transition-colors",3,"click"],[1,"text-gray-500","dark:text-gray-400"],[1,"p-6","border-b","border-gray-200","dark:border-gray-700","bg-gray-50","dark:bg-gray-700/30"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"text-right"],[1,"text-lg","font-medium","text-gray-900","dark:text-white"],[1,"mt-3"],[1,"px-2","py-1","rounded-full","text-xs","font-medium","border"],[1,"p-6","space-y-4",3,"ngSubmit","formGroup"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["formControlName","type",1,"w-full","px-3","py-2","bg-white/50","dark:bg-gray-700/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","text-gray-900","dark:text-white","backdrop-blur-sm",3,"change"],["value",""],["value","in"],["value","out"],["value","adjustment"],["value","return"],["class","text-red-500 text-xs mt-1",4,"ngIf"],[1,"relative"],["type","number","formControlName","quantity","placeholder","Enter quantity","min","1",1,"w-full","px-3","py-2","bg-white/50","dark:bg-gray-700/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400","backdrop-blur-sm"],[1,"absolute","right-3","top-2","text-sm","text-gray-500","dark:text-gray-400"],["formControlName","reason",1,"w-full","px-3","py-2","bg-white/50","dark:bg-gray-700/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","text-gray-900","dark:text-white","backdrop-blur-sm"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","reference","placeholder","e.g., Job #SJ001, Invoice #INV123",1,"w-full","px-3","py-2","bg-white/50","dark:bg-gray-700/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400","backdrop-blur-sm"],["formControlName","notes","placeholder","Additional notes or comments","rows","3",1,"w-full","px-3","py-2","bg-white/50","dark:bg-gray-700/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400","backdrop-blur-sm","resize-none"],["class","p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",4,"ngIf"],[1,"flex","items-center","justify-end","gap-3","p-6","border-t","border-gray-200","dark:border-gray-700"],["type","button",1,"px-4","py-2","bg-gray-100","dark:bg-gray-700","text-gray-700","dark:text-gray-300","rounded-lg","hover:bg-gray-200","dark:hover:bg-gray-600","transition-colors",3,"click"],["type","button",1,"px-6","py-2","bg-blue-600","hover:bg-blue-700","disabled:bg-gray-400","disabled:cursor-not-allowed","text-white","rounded-lg","transition-colors","flex","items-center","gap-2",3,"click","disabled"],["class","animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full",4,"ngIf"],[1,"text-red-500","text-xs","mt-1"],[4,"ngIf"],[3,"value"],[1,"p-4","bg-blue-50","dark:bg-blue-900/20","rounded-lg","border","border-blue-200","dark:border-blue-700"],[1,"font-medium","text-blue-900","dark:text-blue-300","mb-2"],[1,"text-sm","space-y-1"],[1,"text-blue-800","dark:text-blue-400"],[1,"font-medium"],[1,"ml-2","px-2","py-1","rounded","text-xs"],[1,"animate-spin","h-4","w-4","border-2","border-white","border-t-transparent","rounded-full"]],template:function(t,r){if(t&1&&(i(0,"div",0),b("click",function(f){return r.onBackdropClick(f)}),i(1,"div",1),b("click",function(f){return f.stopPropagation()}),i(2,"div",2)(3,"h2",3),o(4),n(),i(5,"button",4),b("click",function(){return r.onClose()}),i(6,"span",5),o(7,"\u2715"),n()()(),i(8,"div",6)(9,"div",7)(10,"div")(11,"p",8),o(12,"Current Stock"),n(),i(13,"p",9),o(14),n()(),i(15,"div",10)(16,"p",8),o(17,"Min Stock"),n(),i(18,"p",11),o(19),n()()(),i(20,"div",12)(21,"span",13),o(22),u(23,"titlecase"),n()()(),i(24,"form",14),b("ngSubmit",function(){return r.onSubmit()}),i(25,"div")(26,"label",15),o(27," Adjustment Type * "),n(),i(28,"select",16),b("change",function(){return r.onTypeChange()}),i(29,"option",17),o(30,"Select adjustment type"),n(),i(31,"option",18),o(32,"Add Stock (Incoming)"),n(),i(33,"option",19),o(34,"Remove Stock (Outgoing)"),n(),i(35,"option",20),o(36,"Stock Correction"),n(),i(37,"option",21),o(38,"Return to Supplier"),n()(),y(39,Ce,2,0,"div",22),n(),i(40,"div")(41,"label",15),o(42," Quantity * "),n(),i(43,"div",23),g(44,"input",24),i(45,"span",25),o(46),n()(),y(47,Me,4,3,"div",22),n(),i(48,"div")(49,"label",15),o(50," Reason * "),n(),i(51,"select",26)(52,"option",17),o(53,"Select reason"),n(),y(54,Te,2,2,"option",27),n(),y(55,Ee,2,0,"div",22),n(),i(56,"div")(57,"label",15),o(58," Reference "),n(),g(59,"input",28),n(),i(60,"div")(61,"label",15),o(62," Notes "),n(),i(63,"textarea",29),o(64,"            "),n()(),y(65,Oe,14,7,"div",30),n(),i(66,"div",31)(67,"button",32),b("click",function(){return r.onClose()}),o(68," Cancel "),n(),i(69,"button",33),b("click",function(){return r.onSubmit()}),y(70,Fe,1,0,"div",34),o(71," Apply Adjustment "),n()()()()),t&2){let c,f,P,w,D;a(4),m(" Adjust Stock: ",r.part==null?null:r.part.name," "),a(10),q(" ",(r.part==null?null:r.part.stockLevel)||0," ",r.part==null?null:r.part.unit,"",((r.part==null?null:r.part.stockLevel)||0)!==1?"s":""," "),a(5),d((r.part==null?null:r.part.minStockLevel)||0),a(2),C(r.getStockStatusBadgeClass((r.part==null?null:r.part.stockStatus)||"in-stock")),a(),m(" ",v(23,18,r.part==null?null:r.part.stockStatus)," "),a(2),s("formGroup",r.stockForm),a(15),s("ngIf",((c=r.stockForm.get("type"))==null?null:c.errors)&&((c=r.stockForm.get("type"))==null?null:c.touched)),a(7),E(" ",r.part==null?null:r.part.unit,"",(((f=r.stockForm.get("quantity"))==null?null:f.value)||0)!==1?"s":""," "),a(),s("ngIf",((P=r.stockForm.get("quantity"))==null?null:P.errors)&&((P=r.stockForm.get("quantity"))==null?null:P.touched)),a(7),s("ngForOf",r.getAvailableReasons()),a(),s("ngIf",((w=r.stockForm.get("reason"))==null?null:w.errors)&&((w=r.stockForm.get("reason"))==null?null:w.touched)),a(10),s("ngIf",((D=r.stockForm.get("quantity"))==null?null:D.value)&&((D=r.stockForm.get("type"))==null?null:D.value)),a(4),s("disabled",!r.stockForm.valid||r.isSubmitting()),a(),s("ngIf",r.isSubmitting())}},dependencies:[A,j,V,ce,Z,H,N,L,R,Y,K,U,$,J,W,Q],styles:['.modal-backdrop[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideIn .2s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:scale(.95) translateY(-10px)}to{opacity:1;transform:scale(1) translateY(0)}}.form-input[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);transition:all .2s ease}.form-input[_ngcontent-%COMP%]:focus{background:#ffffffe6;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.dark[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{background:#374151e6;border-color:#60a5fa;box-shadow:0 0 0 3px #60a5fa1a}.preview-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f61a,#93c5fd0d);border:1px solid rgba(59,130,246,.2)}.dark[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f633,#93c5fd1a);border:1px solid rgba(59,130,246,.3)}.stock-indicator[_ngcontent-%COMP%]{position:relative;overflow:hidden}.stock-indicator[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);transition:left .5s}.stock-indicator[_ngcontent-%COMP%]:hover:before{left:100%}.btn-adjust[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);box-shadow:0 4px 14px #3b82f64d;transition:all .2s ease}.btn-adjust[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#1d4ed8,#1e40af);box-shadow:0 6px 20px #3b82f666;transform:translateY(-1px)}.btn-adjust[_ngcontent-%COMP%]:disabled{background:#9ca3af;box-shadow:none;transform:none}.quantity-input-container[_ngcontent-%COMP%]{position:relative}.unit-indicator[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);pointer-events:none;font-size:.875rem;color:#6b7280}.dark[_ngcontent-%COMP%]   .unit-indicator[_ngcontent-%COMP%]{color:#9ca3af}@media (max-width: 767px){.modal-content[_ngcontent-%COMP%]{margin:1rem;max-height:calc(100vh - 2rem)}.stock-info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}input[_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible, textarea[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3b82f6;outline-offset:2px}.error-input[_ngcontent-%COMP%]{border-color:#ef4444;background-color:#fef2f280}.dark[_ngcontent-%COMP%]   .error-input[_ngcontent-%COMP%]{border-color:#f87171;background-color:#7f1d1d33}.valid-input[_ngcontent-%COMP%]{border-color:#10b981}.dark[_ngcontent-%COMP%]   .valid-input[_ngcontent-%COMP%]{border-color:#34d399}']})};var re=()=>["engine","filters","fluids","brakes","tires"];function je(l,e){l&1&&(_(),i(0,"svg",53),g(1,"path",54),n())}function Ve(l,e){l&1&&(_(),i(0,"svg",55),g(1,"path",56),n())}function Ae(l,e){if(l&1){let t=T();i(0,"div",45)(1,"div",46),y(2,je,2,0,"svg",47)(3,Ve,2,0,"svg",48),n(),i(4,"div",49)(5,"p",50),o(6),n(),i(7,"p",51),o(8),n()(),i(9,"button",52),b("click",function(){let c=k(t).$implicit,f=x(3);return S(f.onMarkAlertRead(c))}),o(10),u(11,"translate"),n()()}if(l&2){let t=e.$implicit,r=x(3);C(r.getAlertSeverityClass(t.severity)),a(2),s("ngIf",t.type==="out-of-stock"),a(),s("ngIf",t.type==="low-stock"),a(3),d(t.message),a(2),d(r.formatDate(t.createdAt)),a(2),m(" ",v(11,7,"inventory.dashboard.markRead")," ")}}function Ne(l,e){if(l&1&&(i(0,"div",21)(1,"div",41)(2,"h2",42),o(3),u(4,"translate"),i(5,"span",43),o(6),n()()(),i(7,"div",39),y(8,Ae,12,9,"div",44),n()()),l&2){let t=x(2);a(3),m(" ",v(4,3,"inventory.dashboard.recentAlerts")," "),a(3),m(" ",t.unreadAlerts().length," "),a(2),s("ngForOf",t.unreadAlerts().slice(0,5))}}function Le(l,e){l&1&&(_(),i(0,"svg",66),g(1,"path",67),n())}function Be(l,e){l&1&&(_(),i(0,"svg",68),g(1,"path",69),n())}function De(l,e){l&1&&(_(),i(0,"svg",68),g(1,"path",70),n())}function qe(l,e){l&1&&(_(),i(0,"svg",68),g(1,"path",71)(2,"path",72),n())}function Ge(l,e){l&1&&(_(),i(0,"svg",68),g(1,"path",71),n())}function ze(l,e){l&1&&(_(),i(0,"svg",68),g(1,"path",73)(2,"path",74),n())}function Re(l,e){if(l&1&&(i(0,"div",57)(1,"div",58)(2,"div",59),y(3,Le,2,0,"svg",60)(4,Be,2,0,"svg",61)(5,De,2,0,"svg",61)(6,qe,3,0,"svg",61)(7,Ge,2,0,"svg",61)(8,ze,3,0,"svg",61),n(),i(9,"div")(10,"p",50),o(11),n(),i(12,"p",62),o(13),n()()(),i(14,"div",63)(15,"p",64),o(16),n(),i(17,"p",65),o(18),u(19,"translate"),n()()()),l&2){let t=e.$implicit,r=x(2);a(2),C(r.getCategoryColor(t.category)),a(),s("ngIf",t.category==="engine"),a(),s("ngIf",t.category==="filters"),a(),s("ngIf",t.category==="fluids"),a(),s("ngIf",t.category==="brakes"),a(),s("ngIf",t.category==="tires"),a(),s("ngIf",!G(14,re).includes(t.category)),a(3),d(t.name),a(2),d(t.partNumber),a(3),d(t.totalUsageThisMonth),a(2),d(v(19,12,"inventory.dashboard.used"))}}function Ue(l,e){l&1&&(_(),i(0,"svg",66),g(1,"path",67),n())}function $e(l,e){l&1&&(_(),i(0,"svg",68),g(1,"path",69),n())}function He(l,e){l&1&&(_(),i(0,"svg",68),g(1,"path",70),n())}function Ye(l,e){l&1&&(_(),i(0,"svg",68),g(1,"path",71)(2,"path",72),n())}function We(l,e){l&1&&(_(),i(0,"svg",68),g(1,"path",71),n())}function Qe(l,e){l&1&&(_(),i(0,"svg",68),g(1,"path",73)(2,"path",74),n())}function Ke(l,e){if(l&1&&(i(0,"div",57)(1,"div",58)(2,"div",59),y(3,Ue,2,0,"svg",60)(4,$e,2,0,"svg",61)(5,He,2,0,"svg",61)(6,Ye,3,0,"svg",61)(7,We,2,0,"svg",61)(8,Qe,3,0,"svg",61),n(),i(9,"span",75),o(10),n()(),i(11,"span",76),o(12),n()()),l&2){let t,r=e.$implicit,c=x(2);a(2),C(c.getCategoryColor(r)),a(),s("ngIf",r==="engine"),a(),s("ngIf",r==="filters"),a(),s("ngIf",r==="fluids"),a(),s("ngIf",r==="brakes"),a(),s("ngIf",r==="tires"),a(),s("ngIf",!G(10,re).includes(r)),a(2),d(c.getCategoryLabel(r)),a(2),m(" ",((t=c.stats())==null||t.categoryCounts==null?null:t.categoryCounts[r])||0," ")}}function Je(l,e){if(l&1){let t=T();i(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22)(4,"div")(5,"p",23),o(6),u(7,"translate"),n(),i(8,"p",24),o(9),n()(),i(10,"div",25)(11,"span",26),o(12,"\u{1F4E6}"),n()()()(),i(13,"div",21)(14,"div",22)(15,"div")(16,"p",23),o(17),u(18,"translate"),n(),i(19,"p",24),o(20),n()(),i(21,"div",27)(22,"span",28),o(23,"\u{1F4B0}"),n()()()(),i(24,"div",21)(25,"div",22)(26,"div")(27,"p",23),o(28),u(29,"translate"),n(),i(30,"p",29),o(31),n()(),i(32,"div",30)(33,"span",31),o(34,"\u26A0\uFE0F"),n()()(),i(35,"button",32),b("click",function(){k(t);let c=x();return S(c.setStockStatusFilter("low-stock"))}),o(36),u(37,"translate"),n()(),i(38,"div",21)(39,"div",22)(40,"div")(41,"p",23),o(42),u(43,"translate"),n(),i(44,"p",33),o(45),n()(),i(46,"div",34)(47,"span",35),o(48,"\u274C"),n()()(),i(49,"button",32),b("click",function(){k(t);let c=x();return S(c.setStockStatusFilter("out-of-stock"))}),o(50),u(51,"translate"),n()()(),y(52,Ne,9,5,"div",36),i(53,"div",37)(54,"div",21)(55,"h3",38),o(56),u(57,"translate"),n(),i(58,"div",39),y(59,Re,20,15,"div",40),n()(),i(60,"div",21)(61,"h3",38),o(62),u(63,"translate"),n(),i(64,"div",39),y(65,Ke,13,11,"div",40),n()()()()}if(l&2){let t,r,c,f,P,w=x();a(6),d(v(7,15,"inventory.dashboard.totalParts")),a(3),d(((t=w.stats())==null?null:t.totalParts)||0),a(8),d(v(18,17,"inventory.dashboard.totalValue")),a(3),d(w.formatCurrency(((r=w.stats())==null?null:r.totalValue)||0)),a(8),d(v(29,19,"inventory.dashboard.lowStock")),a(3),d(((c=w.stats())==null?null:c.lowStockCount)||0),a(5),m(" ",v(37,21,"inventory.dashboard.viewDetails")," "),a(6),d(v(43,23,"inventory.dashboard.outOfStock")),a(3),d(((f=w.stats())==null?null:f.outOfStockCount)||0),a(5),m(" ",v(51,25,"inventory.dashboard.viewDetails")," "),a(2),s("ngIf",w.unreadAlerts().length>0),a(4),d(v(57,27,"inventory.dashboard.mostUsedThisMonth")),a(3),s("ngForOf",(P=w.stats())==null||P.topUsedParts==null?null:P.topUsedParts.slice(0,5)),a(3),d(v(63,29,"inventory.dashboard.partsByCategory")),a(3),s("ngForOf",w.partService.getAvailableCategories())}}function Xe(l,e){if(l&1&&(i(0,"option",92),o(1),n()),l&2){let t=e.$implicit,r=x(2);s("value",t),a(),m(" ",r.getCategoryLabel(t)," ")}}function Ze(l,e){if(l&1&&(i(0,"option",92),o(1),n()),l&2){let t=e.$implicit;s("value",t.id),a(),m(" ",t.name," ")}}function et(l,e){l&1&&(_(),i(0,"svg",110),g(1,"path",67),n())}function tt(l,e){l&1&&(_(),i(0,"svg",111),g(1,"path",69),n())}function nt(l,e){l&1&&(_(),i(0,"svg",111),g(1,"path",70),n())}function it(l,e){l&1&&(_(),i(0,"svg",111),g(1,"path",71)(2,"path",72),n())}function rt(l,e){l&1&&(_(),i(0,"svg",111),g(1,"path",71),n())}function at(l,e){l&1&&(_(),i(0,"svg",111),g(1,"path",73)(2,"path",74),n())}function ot(l,e){if(l&1){let t=T();i(0,"div",93),b("click",function(){let c=k(t).$implicit,f=x(2);return S(f.onPartSelect(c))}),i(1,"div",94)(2,"div",58)(3,"div",95),y(4,et,2,0,"svg",96)(5,tt,2,0,"svg",97)(6,nt,2,0,"svg",97)(7,it,3,0,"svg",97)(8,rt,2,0,"svg",97)(9,at,3,0,"svg",97),n(),i(10,"div")(11,"h3",98),o(12),n(),i(13,"p",62),o(14),n()()(),i(15,"span",99),o(16),n()(),i(17,"div",100)(18,"div",101)(19,"span",102),o(20),u(21,"translate"),n(),i(22,"span",50),o(23),n()(),i(24,"div",101)(25,"span",102),o(26),u(27,"translate"),n(),i(28,"span",103),o(29),n()(),i(30,"div",101)(31,"span",102),o(32),u(33,"translate"),n(),i(34,"span",50),o(35),n()(),i(36,"div",101)(37,"span",102),o(38),u(39,"translate"),n(),i(40,"span",50),o(41),n()()(),i(42,"div",78)(43,"div",104)(44,"span"),o(45),u(46,"translate"),n(),i(47,"span"),o(48),n()(),i(49,"div",105),g(50,"div",106),n()(),i(51,"div",107)(52,"button",108),b("click",function(c){let f=k(t).$implicit;return x(2).onEditPart(f),S(c.stopPropagation())}),o(53),u(54,"translate"),n(),i(55,"button",109),b("click",function(c){let f=k(t).$implicit;return x(2).onAdjustStock(f),S(c.stopPropagation())}),o(56),u(57,"translate"),n()()()}if(l&2){let t=e.$implicit,r=x(2);a(3),C(r.getCategoryColor(t.category)),a(),s("ngIf",t.category==="engine"),a(),s("ngIf",t.category==="filters"),a(),s("ngIf",t.category==="fluids"),a(),s("ngIf",t.category==="brakes"),a(),s("ngIf",t.category==="tires"),a(),s("ngIf",!G(48,re).includes(t.category)),a(3),m(" ",t.name," "),a(2),d(t.partNumber),a(),C(r.getStockStatusBadgeClass(t.stockStatus)),a(),m(" ",r.getStockStatusLabel(t.stockStatus)," "),a(4),m("",v(21,34,"inventory.partsCatalog.brand"),":"),a(3),d(t.brand),a(3),m("",v(27,36,"inventory.partsCatalog.stock"),":"),a(2),C(r.getStockStatusColor(t.stockStatus)),a(),q(" ",t.stockLevel," ",t.unit,"",t.stockLevel!==1?"s":""," "),a(3),m("",v(33,38,"inventory.partsCatalog.price"),":"),a(3),d(r.formatCurrency(t.price)),a(3),m("",v(39,40,"inventory.partsCatalog.supplier"),":"),a(3),d(r.getSupplierName(t.supplierId)),a(4),d(v(46,42,"inventory.partsCatalog.stockLevel")),a(3),E("",t.stockLevel,"/",t.maxStockLevel||"N/A"),a(2),C(t.stockStatus==="out-of-stock"?"bg-red-500":t.stockStatus==="low-stock"?"bg-amber-500":"bg-green-500"),le("width",t.maxStockLevel?t.stockLevel/t.maxStockLevel*100:0,"%"),a(3),m(" ",v(54,44,"inventory.partsCatalog.edit")," "),a(3),m(" ",v(57,46,"inventory.partsCatalog.adjustStock")," ")}}function lt(l,e){if(l&1){let t=T();i(0,"div",112)(1,"div",113)(2,"span",114),o(3,"\u{1F4E6}"),n()(),i(4,"h3",115),o(5),u(6,"translate"),n(),i(7,"p",116),o(8),u(9,"translate"),n(),i(10,"button",117),b("click",function(){k(t);let c=x(2);return S(c.onAddNewPart())}),o(11),u(12,"translate"),n()()}l&2&&(a(5),d(v(6,3,"inventory.partsCatalog.noPartsFound")),a(3),d(v(9,5,"inventory.partsCatalog.noPartsMessage")),a(3),m(" ",v(12,7,"inventory.partsCatalog.addNewPart")," "))}function st(l,e){if(l&1){let t=T();i(0,"div",19)(1,"div",21)(2,"button",77),b("click",function(){k(t);let c=x();return S(c.toggleMobileFilters())}),o(3),u(4,"translate"),u(5,"translate"),n(),i(6,"div",78)(7,"input",79),u(8,"translate"),b("input",function(c){k(t);let f=x();return S(f.onSearchChange(c))}),n()(),i(9,"div",20)(10,"select",80),b("change",function(c){k(t);let f=x();return S(f.onCategoryChange(c))}),i(11,"option",81),o(12),u(13,"translate"),n(),y(14,Xe,2,2,"option",82),n(),i(15,"select",80),b("change",function(c){k(t);let f=x();return S(f.onSupplierChange(c))}),i(16,"option",81),o(17),u(18,"translate"),n(),y(19,Ze,2,2,"option",82),n(),i(20,"select",80),b("change",function(c){k(t);let f=x();return S(f.onStockStatusChange(c))}),i(21,"option",81),o(22),u(23,"translate"),n(),i(24,"option",83),o(25),u(26,"translate"),n(),i(27,"option",84),o(28),u(29,"translate"),n(),i(30,"option",85),o(31),u(32,"translate"),n(),i(33,"option",86),o(34),u(35,"translate"),n()(),i(36,"button",87),b("click",function(){k(t);let c=x();return S(c.clearFilters())}),_(),i(37,"svg",68),g(38,"path",88),n(),o(39),u(40,"translate"),n()()(),M(),i(41,"div",89),y(42,ot,58,49,"div",90),n(),y(43,lt,13,9,"div",91),n()}if(l&2){let t=x();a(2),ie("active",t.showMobileFilters()),a(),m(" ",t.showMobileFilters()?v(4,23,"inventory.partsCatalog.hideFilters"):v(5,25,"inventory.partsCatalog.showFilters")," "),a(4),s("placeholder",se(v(8,27,"inventory.partsCatalog.searchPlaceholder")))("value",t.searchQuery()),a(2),ie("hidden",!t.showMobileFilters()),a(),s("value",t.selectedCategory()),a(2),d(v(13,29,"inventory.partsCatalog.allCategories")),a(2),s("ngForOf",t.partService.getAvailableCategories()),a(),s("value",t.selectedSupplier()),a(2),d(v(18,31,"inventory.partsCatalog.allSuppliers")),a(2),s("ngForOf",t.suppliers()),a(),s("value",t.selectedStockStatus()),a(2),d(v(23,33,"inventory.partsCatalog.allStockStatus")),a(3),d(v(26,35,"inventory.stockStatus.inStock")),a(3),d(v(29,37,"inventory.stockStatus.lowStock")),a(3),d(v(32,39,"inventory.stockStatus.outOfStock")),a(3),d(v(35,41,"inventory.stockStatus.ordered")),a(5),m(" ",v(40,43,"inventory.partsCatalog.clearFilters")," "),a(3),s("ngForOf",t.filteredParts()),a(),s("ngIf",t.filteredParts().length===0)}}function ct(l,e){if(l&1&&(i(0,"div",121)(1,"div",122)(2,"h4",64),o(3),n(),i(4,"span",123),o(5),u(6,"translate"),n()(),i(7,"div",124)(8,"p",102)(9,"span",103),o(10),u(11,"translate"),n(),o(12),n(),i(13,"p",102)(14,"span",103),o(15),u(16,"translate"),n(),o(17),n(),i(18,"p",102)(19,"span",103),o(20),u(21,"translate"),n(),o(22),u(23,"translate"),n(),i(24,"p",102)(25,"span",103),o(26),u(27,"translate"),n(),o(28),n()()()),l&2){let t=e.$implicit;a(3),d(t.name),a(2),m(" ",v(6,11,"inventory.suppliers.active")," "),a(5),m("",v(11,13,"inventory.suppliers.contact"),":"),a(2),m(" ",t.contactPerson," "),a(3),m("",v(16,15,"inventory.suppliers.phone"),":"),a(2),m(" ",t.phone," "),a(3),m("",v(21,17,"inventory.suppliers.delivery"),":"),a(2),E(" ",t.deliveryTime," ",v(23,19,"inventory.suppliers.days")," "),a(4),m("",v(27,21,"inventory.suppliers.payment"),":"),a(2),m(" ",t.paymentTerms," ")}}function dt(l,e){if(l&1&&(i(0,"div",19)(1,"div",21)(2,"h2",118),o(3),u(4,"translate"),n(),i(5,"div",119),y(6,ct,29,23,"div",120),n()()()),l&2){let t=x();a(3),d(v(4,2,"inventory.suppliers.title")),a(3),s("ngForOf",t.suppliers())}}function pt(l,e){l&1&&(i(0,"div",125)(1,"div",126),g(2,"div",127),i(3,"span",128),o(4),u(5,"translate"),n()()()),l&2&&(a(4),d(v(5,1,"inventory.loading")))}function mt(l,e){if(l&1){let t=T();i(0,"app-part-modal",129),b("close",function(){k(t);let c=x();return S(c.onPartModalClose())})("save",function(c){k(t);let f=x();return S(f.onPartModalSave(c))}),n()}if(l&2){let t=x();s("part",t.selectedPart())("isOpen",t.showPartModal())}}function ut(l,e){if(l&1){let t=T();i(0,"app-stock-adjustment-modal",130),b("close",function(){k(t);let c=x();return S(c.onStockAdjustmentModalClose())})("adjust",function(c){k(t);let f=x();return S(f.onStockAdjustmentApply(c))}),n()}if(l&2){let t=x();s("part",t.selectedPart())("isOpen",t.showStockAdjustmentModal())}}var be=class l{partService=I(B);translationService=I(ee);parts=p([]);alerts=p([]);stats=p(null);suppliers=p([]);isLoading=p(!1);searchQuery=p("");selectedCategory=p("all");selectedSupplier=p("all");selectedStockStatus=p("all");showMobileFilters=p(!1);currentView=p("dashboard");showPartModal=p(!1);showStockAdjustmentModal=p(!1);selectedPart=p(null);filteredParts=z(()=>{let e=[...this.parts()],t=this.searchQuery().toLowerCase();return t&&(e=e.filter(r=>r.name.toLowerCase().includes(t)||r.partNumber.toLowerCase().includes(t)||r.brand.toLowerCase().includes(t)||r.description?.toLowerCase().includes(t))),this.selectedCategory()!=="all"&&(e=e.filter(r=>r.category===this.selectedCategory())),this.selectedSupplier()!=="all"&&(e=e.filter(r=>r.supplierId===this.selectedSupplier())),this.selectedStockStatus()!=="all"&&(e=e.filter(r=>r.stockStatus===this.selectedStockStatus())),e});unreadAlerts=z(()=>this.alerts().filter(e=>!e.isRead));criticalAlerts=z(()=>this.alerts().filter(e=>e.severity==="critical"));ngOnInit(){this.loadData()}loadData(){this.isLoading.set(!0),this.partService.getParts().subscribe({next:e=>{this.parts.set(e)},error:e=>console.error("Failed to load parts:",e)}),this.partService.getAlerts().subscribe({next:e=>{this.alerts.set(e)},error:e=>console.error("Failed to load alerts:",e)}),this.partService.getInventoryStats().subscribe({next:e=>{this.stats.set(e),this.isLoading.set(!1)},error:e=>{console.error("Failed to load stats:",e),this.isLoading.set(!1)}}),this.partService.getSuppliers().subscribe({next:e=>{this.suppliers.set(e)},error:e=>console.error("Failed to load suppliers:",e)})}setView(e){this.currentView.set(e)}onSearchChange(e){let t=e.target;this.searchQuery.set(t.value)}onCategoryChange(e){let t=e.target;this.selectedCategory.set(t.value)}onSupplierChange(e){let t=e.target;this.selectedSupplier.set(t.value)}onStockStatusChange(e){let t=e.target;this.selectedStockStatus.set(t.value)}setStockStatusFilter(e){this.selectedStockStatus.set(e),this.setView("parts")}toggleMobileFilters(){this.showMobileFilters.set(!this.showMobileFilters())}clearFilters(){this.searchQuery.set(""),this.selectedCategory.set("all"),this.selectedSupplier.set("all"),this.selectedStockStatus.set("all")}getStockStatusColor(e){return this.partService.getStockStatusColor(e)}getStockStatusBadgeClass(e){return this.partService.getStockStatusBadgeClass(e)}getCategoryIcon(e){return this.partService.getCategoryIcon(e)}getCategoryColor(e){return{engine:"bg-red-600",transmission:"bg-purple-600",brakes:"bg-orange-600",suspension:"bg-indigo-600",electrical:"bg-yellow-600",filters:"bg-green-600",fluids:"bg-blue-600",tires:"bg-gray-600",body:"bg-pink-600",accessories:"bg-teal-600",consumables:"bg-cyan-600"}[e]||"bg-gray-600"}getSupplierName(e){return this.suppliers().find(r=>r.id===e)?.name||"Unknown Supplier"}onPartSelect(e){this.selectedPart.set(e),this.showPartModal.set(!0)}onEditPart(e){this.selectedPart.set(e),this.showPartModal.set(!0)}onAdjustStock(e){this.selectedPart.set(e),this.showStockAdjustmentModal.set(!0)}onAddNewPart(){this.selectedPart.set(null),this.showPartModal.set(!0)}onPartModalClose(){this.showPartModal.set(!1),this.selectedPart.set(null)}onPartModalSave(e){this.loadData()}onStockAdjustmentModalClose(){this.showStockAdjustmentModal.set(!1),this.selectedPart.set(null)}onStockAdjustmentApply(e){this.loadData()}onMarkAlertRead(e){this.partService.markAlertAsRead(e.id).subscribe({next:()=>{let t=this.alerts().map(r=>r.id===e.id?oe(ae({},r),{isRead:!0}):r);this.alerts.set(t)},error:t=>console.error("Failed to mark alert as read:",t)})}getAlertIcon(e){return{"low-stock":"alert-triangle","out-of-stock":"x-circle","reorder-point":"shopping-cart",expired:"clock","price-change":"trending-up"}[e]||"info"}getAlertSeverityClass(e){let t={info:"alert-info",warning:"alert-warning",critical:"alert-critical"};return t[e]||t.info}formatCurrency(e,t="TND"){return new Intl.NumberFormat("fr-TN",{style:"currency",currency:t}).format(e)}formatDate(e){return new Intl.DateTimeFormat("fr-TN",{year:"numeric",month:"short",day:"numeric"}).format(e)}isMobile(){return typeof window<"u"&&window.innerWidth<1024}getStockStatusLabel(e){let r={"in-stock":"inStock","low-stock":"lowStock","out-of-stock":"outOfStock",ordered:"ordered"}[e]||"inStock";return this.translationService.instant(`inventory.stockStatus.${r}`)}getCategoryLabel(e){let r={engine:"engine",transmission:"transmission",brakes:"brakes",suspension:"suspension",electrical:"electrical",filters:"filters",fluids:"fluids",tires:"tires",body:"body",accessories:"accessories",consumables:"consumables"}[e]||e;return this.translationService.instant(`inventory.categories.${r}`)}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=O({type:l,selectors:[["app-inventory"]],decls:42,vars:30,consts:[[1,"min-h-screen","inventory-container","p-4","lg:p-6"],[1,"mb-6"],[1,"flex","flex-col","lg:flex-row","lg:items-center","lg:justify-between","gap-4"],[1,"text-2xl","lg:text-3xl","font-bold","text-white"],[1,"mt-1","text-gray-300"],[1,"flex","flex-wrap","items-center","gap-2","justify-start","sm:justify-end"],[1,"nav-button","flex","items-center","gap-2","px-4","py-2","rounded-lg","backdrop-blur-sm","border-2","transition-all","duration-300","font-medium","hover:scale-105",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 5a2 2 0 012-2h4a2 2 0 012 2v6a2 2 0 01-2 2H10a2 2 0 01-2-2V5zM16 7h.01M16 11h.01M8 21l8-8"],[1,"text-sm"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"btn-primary",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],["class","space-y-6",4,"ngIf"],["class","fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",4,"ngIf"],[3,"part","isOpen","close","save",4,"ngIf"],[3,"part","isOpen","close","adjust",4,"ngIf"],[1,"space-y-6"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"glass-card"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium",2,"color","var(--color-text-secondary)"],[1,"text-2xl","font-bold",2,"color","var(--color-text-primary)"],[1,"h-12","w-12","rounded-lg","flex","items-center","justify-center",2,"background-color","rgba(59, 130, 246, 0.1)"],[1,"text-xl",2,"color","#3b82f6"],[1,"h-12","w-12","rounded-lg","flex","items-center","justify-center",2,"background-color","rgba(34, 197, 94, 0.1)"],[1,"text-xl",2,"color","#22c55e"],[1,"text-2xl","font-bold",2,"color","#f59e0b"],[1,"h-12","w-12","rounded-lg","flex","items-center","justify-center",2,"background-color","rgba(245, 158, 11, 0.1)"],[1,"text-xl",2,"color","#f59e0b"],[1,"btn-tertiary","btn-sm","mt-2",3,"click"],[1,"text-2xl","font-bold",2,"color","#ef4444"],[1,"h-12","w-12","rounded-lg","flex","items-center","justify-center",2,"background-color","rgba(239, 68, 68, 0.1)"],[1,"text-xl",2,"color","#ef4444"],["class","glass-card",4,"ngIf"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"text-lg","font-semibold","mb-4",2,"color","var(--color-text-primary)"],[1,"space-y-3"],["class","flex items-center justify-between p-3 inventory-list-item rounded-lg",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold",2,"color","var(--color-text-primary)"],[1,"ml-2","px-2","py-1","text-xs","rounded-full",2,"background-color","rgba(239, 68, 68, 0.1)","color","#ef4444"],["class","flex items-center gap-4 p-4 rounded-lg border transition-all hover:shadow-sm",3,"class",4,"ngFor","ngForOf"],[1,"flex","items-center","gap-4","p-4","rounded-lg","border","transition-all","hover:shadow-sm"],[1,"flex-shrink-0","w-8","h-8","flex","items-center","justify-center"],["class","w-5 h-5 text-red-500","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["class","w-5 h-5 text-amber-500","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],[1,"flex-1","min-w-0"],[1,"font-medium","text-primary-themed"],[1,"text-sm","text-tertiary-themed","mt-1"],[1,"flex-shrink-0","text-xs","px-3","py-1","rounded-md","mark-read-button","transition-colors","font-medium",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5","text-amber-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z"],[1,"flex","items-center","justify-between","p-3","inventory-list-item","rounded-lg"],[1,"flex","items-center","gap-3"],[1,"w-8","h-8","rounded-lg","flex","items-center","justify-center","text-white","font-bold","text-sm"],["class","w-4 h-4","fill","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","w-4 h-4","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],[1,"text-sm","text-secondary-themed"],[1,"text-right"],[1,"font-semibold","text-primary-themed"],[1,"text-xs","text-secondary-themed"],["fill","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["d","M12 2.5L8.42 6.07c-.58.58-.42 1.61.35 1.97L10 8.5v2l-1.23.46c-.77.36-.93 1.39-.35 1.97L12 16.5l3.58-3.57c.58-.58.42-1.61-.35-1.97L14 10.5v-2l1.23-.46c.77-.36.93-1.39.35-1.97L12 2.5z"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547A1.001 1.001 0 004 17v4a1 1 0 001.053.999l1.864-.218a1 1 0 01.17-.014h8.826c.06 0 .119.005.17.014l1.864.218A1 1 0 0020 21v-4a1.001 1.001 0 00-.572-1.428z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"font-medium","text-primary-themed","capitalize"],[1,"text-sm","font-semibold","text-secondary-themed"],[1,"w-full","lg:w-auto","mb-4","btn-filter-toggle",3,"click"],[1,"mb-4"],["type","text",1,"w-full","px-4","py-3","bg-white/50","dark:bg-gray-700/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","dark:focus:ring-blue-400","text-primary-themed","placeholder-gray-500","dark:placeholder-gray-400","backdrop-blur-sm",3,"input","placeholder","value"],[1,"filter-select",3,"change","value"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["value","in-stock"],["value","low-stock"],["value","out-of-stock"],["value","ordered"],[1,"btn-clear-filters",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"grid","grid-cols-1","md:grid-cols-2","xl:grid-cols-3","gap-6"],["class","glass-card hover:shadow-lg transition-all cursor-pointer group",3,"click",4,"ngFor","ngForOf"],["class","glass-card p-12 text-center",4,"ngIf"],[3,"value"],[1,"glass-card","hover:shadow-lg","transition-all","cursor-pointer","group",3,"click"],[1,"flex","items-start","justify-between","mb-4"],[1,"h-10","w-10","rounded-lg","flex","items-center","justify-center","text-white","font-bold","text-sm"],["class","w-5 h-5","fill","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","w-5 h-5","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],[1,"font-semibold","text-primary-themed","group-hover:text-blue-600","dark:group-hover:text-blue-400","transition-colors"],[1,"px-2","py-1","rounded-full","text-xs","font-medium","border"],[1,"space-y-2","mb-4"],[1,"flex","justify-between","text-sm"],[1,"text-secondary-themed"],[1,"font-medium"],[1,"flex","justify-between","text-xs","text-secondary-themed","mb-1"],[1,"w-full","bg-gray-200","dark:bg-gray-700","rounded-full","h-2"],[1,"h-2","rounded-full","transition-all"],[1,"flex","gap-2"],[1,"btn-primary","flex-1",3,"click"],[1,"btn-tertiary","flex-1",3,"click"],["fill","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5"],[1,"glass-card","p-12","text-center"],[1,"h-16","w-16","bg-gray-100","dark:bg-gray-700","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-2xl","text-gray-400","dark:text-gray-600"],[1,"text-lg","font-medium","text-primary-themed","mb-2"],[1,"text-secondary-themed","mb-4"],[1,"px-4","py-2","bg-blue-600","hover:bg-blue-700","text-white","rounded-lg","transition-colors",3,"click"],[1,"text-lg","font-semibold","text-primary-themed","mb-4"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-4"],["class","supplier-card p-4 rounded-lg transition-all",4,"ngFor","ngForOf"],[1,"supplier-card","p-4","rounded-lg","transition-all"],[1,"flex","items-start","justify-between","mb-3"],[1,"badge","badge-active"],[1,"space-y-1","text-sm"],[1,"fixed","inset-0","bg-black/20","backdrop-blur-sm","flex","items-center","justify-center","z-50"],[1,"bg-white","dark:bg-gray-800","rounded-xl","p-6","flex","items-center","gap-3"],[1,"animate-spin","h-5","w-5","border-2","border-blue-600","border-t-transparent","rounded-full"],[1,"text-primary-themed"],[3,"close","save","part","isOpen"],[3,"close","adjust","part","isOpen"]],template:function(t,r){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),o(5),u(6,"translate"),n(),i(7,"p",4),o(8),u(9,"translate"),n()(),i(10,"div",5)(11,"button",6),b("click",function(){return r.setView("dashboard")}),_(),i(12,"svg",7),g(13,"path",8)(14,"path",9),n(),M(),i(15,"span",10),o(16),u(17,"translate"),n()(),i(18,"button",6),b("click",function(){return r.setView("parts")}),_(),i(19,"svg",7),g(20,"path",11),n(),M(),i(21,"span",10),o(22),u(23,"translate"),n()(),i(24,"button",6),b("click",function(){return r.setView("suppliers")}),_(),i(25,"svg",7),g(26,"path",12),n(),M(),i(27,"span",10),o(28),u(29,"translate"),n()(),i(30,"button",13),b("click",function(){return r.onAddNewPart()}),_(),i(31,"svg",7),g(32,"path",14),n(),M(),i(33,"span"),o(34),u(35,"translate"),n()()()()(),y(36,Je,66,31,"div",15)(37,st,44,45,"div",15)(38,dt,7,4,"div",15)(39,pt,6,3,"div",16)(40,mt,1,2,"app-part-modal",17)(41,ut,1,2,"app-stock-adjustment-modal",18),n()),t&2&&(a(5),d(v(6,18,"inventory.title")),a(3),d(v(9,20,"inventory.subtitle")),a(3),C(r.currentView()==="dashboard"?"nav-button-active":"nav-button-inactive"),a(5),d(v(17,22,"inventory.navigation.dashboard")),a(2),C(r.currentView()==="parts"?"nav-button-active":"nav-button-inactive"),a(4),d(v(23,24,"inventory.navigation.partsCatalog")),a(2),C(r.currentView()==="suppliers"?"nav-button-active":"nav-button-inactive"),a(4),d(v(29,26,"inventory.navigation.suppliers")),a(6),d(v(35,28,"inventory.navigation.addPart")),a(2),s("ngIf",r.currentView()==="dashboard"),a(),s("ngIf",r.currentView()==="parts"),a(),s("ngIf",r.currentView()==="suppliers"),a(),s("ngIf",r.isLoading()),a(),s("ngIf",r.showPartModal()),a(),s("ngIf",r.showStockAdjustmentModal()))},dependencies:[A,j,V,me,N,L,de,te,ne,ue],styles:[".nav-button-active[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-primary),var(--color-primary-hover))!important;border-color:var(--color-primary)!important;color:#fff!important;box-shadow:0 4px 15px #2563eb4d}.nav-button-inactive[_ngcontent-%COMP%]{background-color:var(--color-bg-primary)!important;border-color:var(--color-border)!important;color:var(--color-text-secondary)!important}.nav-button-inactive[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-tertiary)!important;border-color:var(--color-primary)!important;color:var(--color-text-primary)!important;box-shadow:0 2px 8px #2563eb33}.nav-button-add[_ngcontent-%COMP%]{background:linear-gradient(135deg,#059669,#047857)!important;border-color:#059669!important;color:#fff!important;box-shadow:0 4px 15px #0596694d}.nav-button-add[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#047857,#065f46)!important;box-shadow:0 6px 20px #05966966;transform:translateY(-1px)}.glass-card[_ngcontent-%COMP%]{background:#111827f2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(75,85,99,.6);border-radius:20px;padding:1.5rem;box-shadow:0 8px 32px #000000b3;transition:all .3s cubic-bezier(.4,0,.2,1)}.glass-card[_ngcontent-%COMP%]:hover{background:#1f2937fa;box-shadow:0 12px 40px #000c;border-color:#3b82f6b3;transform:translateY(-2px)}.stock-bar[_ngcontent-%COMP%]{transition:width .3s ease}@media (max-width: 767px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.parts-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.part-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px #0000001a}@media (prefers-color-scheme: dark){.part-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 25px #0000004d}}.alert-enter[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(-100%);opacity:0}to{transform:translate(0);opacity:1}}*[_ngcontent-%COMP%]{transition:background-color .2s ease,border-color .2s ease,color .2s ease}.inventory-container[_ngcontent-%COMP%]{background:transparent;color:#fff;min-height:100vh}.inventory-card[_ngcontent-%COMP%]{background:#111827f2;border:1px solid rgba(75,85,99,.6);color:#fff;border-radius:20px;padding:1.5rem;box-shadow:0 8px 32px #000000b3;transition:all .3s cubic-bezier(.4,0,.2,1)}.inventory-card[_ngcontent-%COMP%]:hover{background:#1f2937fa;border-color:#3b82f6b3;transform:translateY(-2px);box-shadow:0 12px 40px #000c}.inventory-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .inventory-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .inventory-card[_ngcontent-%COMP%]   .font-bold[_ngcontent-%COMP%], .inventory-card[_ngcontent-%COMP%]   .font-semibold[_ngcontent-%COMP%]{color:#fff!important}.inventory-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .inventory-card[_ngcontent-%COMP%]   .text-gray-600[_ngcontent-%COMP%]{color:#d1d5db!important}.inventory-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6cc,#1d4ed8cc);border:1px solid rgba(59,130,246,.3);color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;text-align:center}.inventory-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3b82f6e6,#1d4ed8e6);transform:translateY(-1px)}.text-primary-themed[_ngcontent-%COMP%]{color:var(--color-text-primary)}.text-secondary-themed[_ngcontent-%COMP%]{color:var(--color-text-secondary)}.text-tertiary-themed[_ngcontent-%COMP%]{color:var(--color-text-tertiary)}.inventory-card-bg[_ngcontent-%COMP%]{background-color:var(--color-bg-primary)}.inventory-border[_ngcontent-%COMP%]{border-color:var(--color-border)}.alert-info[_ngcontent-%COMP%]{background:#3b82f633;border:1px solid rgba(59,130,246,.4);color:#93c5fd;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.alert-warning[_ngcontent-%COMP%]{background:#f59e0b33;border:1px solid rgba(245,158,11,.4);color:#fcd34d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.alert-critical[_ngcontent-%COMP%]{background:#ef444433;border:1px solid rgba(239,68,68,.4);color:#fca5a5;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.mark-read-button[_ngcontent-%COMP%]{background-color:var(--color-bg-secondary);border-color:var(--color-border);color:var(--color-text-secondary)}.mark-read-button[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-tertiary)}.inventory-list-item[_ngcontent-%COMP%]{background:#1f293799!important;-webkit-backdrop-filter:blur(10px)!important;backdrop-filter:blur(10px)!important;border:1px solid rgba(75,85,99,.4)!important;transition:all .2s ease!important}.inventory-list-item[_ngcontent-%COMP%]:hover{background:#1f2937cc!important;border-color:#4b556399!important;transform:translateY(-1px)!important;box-shadow:0 4px 12px #0000004d!important}.supplier-card[_ngcontent-%COMP%]{background:#1f293799;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(75,85,99,.4)}.supplier-card[_ngcontent-%COMP%]:hover{background:#1f2937cc;border-color:#4b556399;transform:translateY(-1px);box-shadow:0 4px 12px #0000004d}button[_ngcontent-%COMP%]:focus-visible, input[_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3b82f6;outline-offset:2px}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};export{be as InventoryComponent};
