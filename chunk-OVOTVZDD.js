import{a as Y}from"./chunk-CLYTSMXZ.js";import{b as ee,c as C,d as te,e as ne,h as ie,i as oe,k as ae,n as re,o as pe,p as le,q as se,r as de,s as ce,u as me,v as ue,w as ge}from"./chunk-7OTNPXYV.js";import{a as fe,b as be,c as R}from"./chunk-T7UWPKEK.js";import{$ as D,$a as Z,A as k,B as b,C as _,Da as p,Ea as l,F as v,I as q,Ia as L,Ja as $,K as o,M as X,N,P as U,Pa as z,S as P,T as O,Ta as j,aa as B,ba as x,ca as t,da as i,ea as u,fa as E,ga as g,ha as h,ia as Q,ja as W,ka as K,ma as V,na as I,pa as r,qa as d,ra as M,sa as A,ta as J,x as y,z as w}from"./chunk-4Y4AIMEU.js";var ve=(c,e)=>e.id;function ke(c,e){if(c&1&&(t(0,"option",17),r(1),i()),c&2){let n=e.$implicit;x("value",n.id),o(),J("",n.make," ",n.model," - ",n.licensePlate)}}function Me(c,e){if(c&1&&(t(0,"option",17),r(1),i()),c&2){let n=e.$implicit;x("value",n.id),o(),d(n.name)}}function Se(c,e){if(c&1&&(t(0,"span"),r(1),p(2,"translate"),p(3,"translate"),p(4,"translate"),i()),c&2){let n=h();o(),A("",n.editMode()?l(2,2,"appointments.update"):l(3,4,"appointments.schedule")," ",l(4,6,"appointments.title"))}}function Ce(c,e){c&1&&(t(0,"span",60),u(1,"div",61),r(2),p(3,"translate"),i()),c&2&&(o(2),M(" ",l(3,1,"appointments.saving")," "))}var F=class c{fb=y(me);appointmentService=y(Y);router=y(Z);closed=$();saved=$();editMode=v(!1);isSubmitting=v(!1);cars=v([]);customers=v([]);mechanics=v([]);currentAppointmentId=v(null);appointmentForm=this.fb.group({carId:["",C.required],serviceType:["",C.required],serviceName:["",C.required],scheduledDate:[new Date().toISOString().split("T")[0],C.required],scheduledTime:["",C.required],estimatedDuration:[60,[C.required,C.min(15)]],mechanicId:[""],priority:["medium",C.required],notes:[""]});constructor(){this.loadFormData()}loadFormData(){this.appointmentService.getCars().subscribe(e=>{this.cars.set(e)}),this.appointmentService.getCustomers().subscribe(e=>{this.customers.set(e)}),this.appointmentService.getMechanics().subscribe(e=>{this.mechanics.set(e)})}saveAppointment(){if(this.appointmentForm.valid&&!this.isSubmitting()){this.isSubmitting.set(!0);let e=this.appointmentForm.value,n=new Date(e.scheduledDate),[a,s]=e.scheduledTime.split(":").map(Number);n.setHours(a,s,0,0);let m={carId:e.carId,customerId:"customer1",mechanicId:e.mechanicId||"mechanic1",serviceType:e.serviceType,serviceName:e.serviceName,scheduledDate:n,estimatedDuration:e.estimatedDuration,status:"scheduled",priority:e.priority,notes:e.notes||void 0};(this.editMode()&&this.currentAppointmentId()?this.appointmentService.updateAppointment(this.currentAppointmentId(),m):this.appointmentService.createAppointment(m)).subscribe({next:S=>{this.saved.emit(S),this.closeModal(),this.isSubmitting.set(!1)},error:S=>{console.error("Failed to save appointment:",S),this.isSubmitting.set(!1)}})}}closeModal(){this.editMode.set(!1),this.currentAppointmentId.set(null),this.appointmentForm.reset(),this.closed.emit()}setEditAppointment(e){this.editMode.set(!0),this.currentAppointmentId.set(e.id);let n=new Date(e.scheduledDate),a=n.toISOString().split("T")[0],s=n.toTimeString().slice(0,5);this.appointmentForm.patchValue({carId:e.carId,serviceType:e.serviceType,serviceName:e.serviceName,scheduledDate:a,scheduledTime:s,estimatedDuration:e.estimatedDuration,mechanicId:e.mechanicId,priority:e.priority,notes:e.notes||""})}openQuickAddCar(){this.closeModal(),this.router.navigate(["/cars"])}static \u0275fac=function(n){return new(n||c)};static \u0275cmp=N({type:c,selectors:[["app-appointment-modal"]],outputs:{closed:"closed",saved:"saved"},decls:164,vars:102,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title-section"],[1,"modal-title"],[1,"modal-subtitle"],[1,"modal-close-btn",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"modal-form",3,"formGroup"],[1,"form-section"],[1,"section-title"],[1,"form-row","car-selection-row"],[1,"form-group","flex-1"],[1,"form-label"],["formControlName","carId",1,"form-select"],["value",""],[3,"value"],["type","button",1,"quick-add-btn",3,"click","title"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"form-row"],["formControlName","serviceType",1,"form-select"],["value","oil-change"],["value","brake-repair"],["value","inspection"],["value","transmission"],["value","engine"],["value","tires"],[1,"form-group"],["type","number","formControlName","estimatedDuration","min","15","max","480","step","15",1,"form-input"],["type","text","formControlName","serviceName",1,"form-input",3,"placeholder"],["type","date","formControlName","scheduledDate",1,"form-input"],["formControlName","scheduledTime",1,"form-select"],["value","08:00"],["value","08:30"],["value","09:00"],["value","09:30"],["value","10:00"],["value","10:30"],["value","11:00"],["value","11:30"],["value","14:00"],["value","14:30"],["value","15:00"],["value","15:30"],["value","16:00"],["value","16:30"],["value","17:00"],["formControlName","mechanicId",1,"form-select"],["formControlName","priority",1,"form-select"],["value","low"],["value","medium"],["value","high"],["formControlName","notes","rows","3",1,"form-textarea",3,"placeholder"],[1,"modal-footer"],["type","button",1,"modal-btn","secondary",3,"click"],["type","button",1,"modal-btn","primary",3,"click","disabled"],[4,"ngIf"],["class","flex items-center gap-2",4,"ngIf"],[1,"flex","items-center","gap-2"],[1,"submit-spinner"]],template:function(n,a){n&1&&(t(0,"div",0),g("click",function(){return a.closeModal()}),t(1,"div",1),g("click",function(m){return m.stopPropagation()}),t(2,"header",2)(3,"div",3)(4,"h2",4),r(5),p(6,"translate"),p(7,"translate"),p(8,"translate"),i(),t(9,"p",5),r(10),p(11,"translate"),i()(),t(12,"button",6),g("click",function(){return a.closeModal()}),b(),t(13,"svg",7),u(14,"path",8),i()()(),_(),t(15,"form",9)(16,"div",10)(17,"h3",11),r(18),p(19,"translate"),i(),t(20,"div",12)(21,"div",13)(22,"label",14),r(23),p(24,"translate"),i(),t(25,"select",15)(26,"option",16),r(27),p(28,"translate"),i(),D(29,ke,2,4,"option",17,ve),i()(),t(31,"button",18),p(32,"translate"),g("click",function(){return a.openQuickAddCar()}),b(),t(33,"svg",19),u(34,"path",20),i()()()(),_(),t(35,"div",10)(36,"h3",11),r(37),p(38,"translate"),i(),t(39,"div",21)(40,"div",13)(41,"label",14),r(42),p(43,"translate"),i(),t(44,"select",22)(45,"option",16),r(46),p(47,"translate"),i(),t(48,"option",23),r(49),p(50,"translate"),i(),t(51,"option",24),r(52),p(53,"translate"),i(),t(54,"option",25),r(55),p(56,"translate"),i(),t(57,"option",26),r(58),p(59,"translate"),i(),t(60,"option",27),r(61),p(62,"translate"),i(),t(63,"option",28),r(64),p(65,"translate"),i()()(),t(66,"div",29)(67,"label",14),r(68),p(69,"translate"),i(),u(70,"input",30),i()(),t(71,"div",29)(72,"label",14),r(73),p(74,"translate"),i(),u(75,"input",31),p(76,"translate"),i()(),t(77,"div",10)(78,"h3",11),r(79),p(80,"translate"),i(),t(81,"div",21)(82,"div",29)(83,"label",14),r(84),p(85,"translate"),i(),u(86,"input",32),i(),t(87,"div",29)(88,"label",14),r(89),p(90,"translate"),i(),t(91,"select",33)(92,"option",16),r(93),p(94,"translate"),i(),t(95,"option",34),r(96,"8:00 AM"),i(),t(97,"option",35),r(98,"8:30 AM"),i(),t(99,"option",36),r(100,"9:00 AM"),i(),t(101,"option",37),r(102,"9:30 AM"),i(),t(103,"option",38),r(104,"10:00 AM"),i(),t(105,"option",39),r(106,"10:30 AM"),i(),t(107,"option",40),r(108,"11:00 AM"),i(),t(109,"option",41),r(110,"11:30 AM"),i(),t(111,"option",42),r(112,"2:00 PM"),i(),t(113,"option",43),r(114,"2:30 PM"),i(),t(115,"option",44),r(116,"3:00 PM"),i(),t(117,"option",45),r(118,"3:30 PM"),i(),t(119,"option",46),r(120,"4:00 PM"),i(),t(121,"option",47),r(122,"4:30 PM"),i(),t(123,"option",48),r(124,"5:00 PM"),i()()()(),t(125,"div",21)(126,"div",13)(127,"label",14),r(128),p(129,"translate"),i(),t(130,"select",49)(131,"option",16),r(132),p(133,"translate"),i(),D(134,Me,2,2,"option",17,ve),i()(),t(136,"div",29)(137,"label",14),r(138),p(139,"translate"),i(),t(140,"select",50)(141,"option",51),r(142),p(143,"translate"),i(),t(144,"option",52),r(145),p(146,"translate"),i(),t(147,"option",53),r(148),p(149,"translate"),i()()()()(),t(150,"div",10)(151,"div",29)(152,"label",14),r(153),p(154,"translate"),i(),u(155,"textarea",54),p(156,"translate"),i()()(),t(157,"footer",55)(158,"button",56),g("click",function(){return a.closeModal()}),r(159),p(160,"translate"),i(),t(161,"button",57),g("click",function(){return a.saveAppointment()}),P(162,Se,5,8,"span",58)(163,Ce,4,3,"span",59),i()()()()),n&2&&(o(5),A("",a.editMode()?l(6,36,"appointments.edit"):l(7,38,"appointments.new")," ",l(8,40,"appointments.title")),o(5),d(l(11,42,"appointments.scheduleServiceAppointment")),o(5),x("formGroup",a.appointmentForm),o(3),d(l(19,44,"appointments.vehicleInformation")),o(5),d(l(24,46,"appointments.car")),o(4),d(l(28,48,"appointments.selectCar")),o(2),B(a.cars()),o(2),x("title",l(32,50,"appointments.quickAddCar")),o(6),d(l(38,52,"appointments.serviceDetails")),o(5),d(l(43,54,"appointments.serviceType")),o(4),d(l(47,56,"appointments.selectService")),o(3),d(l(50,58,"appointments.oilChange")),o(3),d(l(53,60,"appointments.brakeRepair")),o(3),d(l(56,62,"appointments.inspection")),o(3),d(l(59,64,"appointments.transmission")),o(3),d(l(62,66,"appointments.engineWork")),o(3),d(l(65,68,"appointments.tireService")),o(4),d(l(69,70,"appointments.durationMin")),o(5),d(l(74,72,"appointments.serviceName")),o(2),x("placeholder",l(76,74,"appointments.serviceNamePlaceholder")),o(4),d(l(80,76,"appointments.schedule")),o(5),d(l(85,78,"appointments.date")),o(5),d(l(90,80,"appointments.time")),o(4),d(l(94,82,"appointments.selectTime")),o(35),d(l(129,84,"appointments.assignedMechanic")),o(4),d(l(133,86,"appointments.autoAssign")),o(2),B(a.mechanics()),o(4),d(l(139,88,"appointments.priority")),o(4),d(l(143,90,"appointments.low")),o(3),d(l(146,92,"appointments.medium")),o(3),d(l(149,94,"appointments.high")),o(5),d(l(154,96,"appointments.notesOptional")),o(2),x("placeholder",l(156,98,"appointments.additionalNotes")),o(4),M(" ",l(160,100,"appointments.cancel")," "),o(2),x("disabled",!a.appointmentForm.valid||a.isSubmitting()),o(),x("ngIf",!a.isSubmitting()),o(),x("ngIf",a.isSubmitting()))},dependencies:[j,z,ge,ie,le,se,ee,oe,pe,te,ne,ce,de,ae,re,R],styles:[`.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000c;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);z-index:50;display:flex;align-items:center;justify-content:center;padding:1rem;animation:_ngcontent-%COMP%_overlayFadeIn .2s ease-out}@keyframes _ngcontent-%COMP%_overlayFadeIn{0%{opacity:0;-webkit-backdrop-filter:blur(0px);backdrop-filter:blur(0px)}to{opacity:1;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}}.modal-content[_ngcontent-%COMP%]{background:#111827f2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:24px;width:100%;max-width:600px;max-height:90vh;overflow-y:auto;box-shadow:0 25px 80px #0009;animation:_ngcontent-%COMP%_modalSlideIn .3s cubic-bezier(.4,0,.2,1)}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:2rem 2rem 1rem;border-bottom:1px solid rgba(255,255,255,.1)}.modal-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;margin:0 0 .25rem}.modal-subtitle[_ngcontent-%COMP%]{color:#d1d5db;font-size:.875rem;margin:0}.modal-close-btn[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border:none;background:#ffffff1a;border-radius:12px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#d1d5db;transition:all .3s cubic-bezier(.4,0,.2,1)}.modal-close-btn[_ngcontent-%COMP%]:hover{background:#fff3;transform:scale(1.05);color:#fff}.modal-form[_ngcontent-%COMP%]{padding:2rem}.form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.section-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#fff;margin:0 0 1rem;display:flex;align-items:center;gap:.5rem}.section-title[_ngcontent-%COMP%]:before{content:"";width:4px;height:1.5rem;background:linear-gradient(135deg,#3b82f6,#1d4ed8);border-radius:2px}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:flex-end}.car-selection-row[_ngcontent-%COMP%]{align-items:flex-end}.car-selection-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0}.car-selection-row[_ngcontent-%COMP%]   .quick-add-btn[_ngcontent-%COMP%]{width:3.125rem;height:3.125rem;margin-bottom:0;flex-shrink:0;align-self:flex-end}@media (max-width: 767px){.form-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.car-selection-row[_ngcontent-%COMP%]{flex-direction:row!important;align-items:end!important}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#d1d5db}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{padding:.875rem 1rem;border:1px solid rgba(255,255,255,.2);border-radius:12px;background:#ffffff0d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);color:#fff;font-size:.875rem;transition:all .3s cubic-bezier(.4,0,.2,1)}.form-input[_ngcontent-%COMP%]::placeholder, .form-textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;background:#ffffff1a;box-shadow:0 0 0 3px #3b82f633;transform:translateY(-1px)}.form-input[_ngcontent-%COMP%]:hover:not(:focus), .form-select[_ngcontent-%COMP%]:hover:not(:focus), .form-textarea[_ngcontent-%COMP%]:hover:not(:focus){border-color:#ffffff4d;background-color:#ffffff14}.form-select[_ngcontent-%COMP%]:hover:not(:focus){background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23ffffff' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");background-position:right .75rem center;background-repeat:no-repeat;background-size:1.5em 1.5em}.form-input[type=date][_ngcontent-%COMP%]:hover:not(:focus){background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='1.5'%3e%3cpath d='M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z'/%3e%3c/svg%3e");background-position:right .75rem center;background-repeat:no-repeat;background-size:1.25em 1.25em}.quick-add-btn[_ngcontent-%COMP%]{width:3.125rem;height:3.125rem;border:1px dashed rgba(255,255,255,.3);background:transparent;border-radius:12px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#d1d5db;transition:all .3s cubic-bezier(.4,0,.2,1);flex-shrink:0}.quick-add-btn[_ngcontent-%COMP%]:hover{border-color:#3b82f6;border-style:solid;color:#3b82f6;background:#3b82f61a;transform:scale(1.05)}.modal-footer[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1.5rem 2rem 2rem;border-top:1px solid rgba(255,255,255,.1)}@media (max-width: 767px){.modal-footer[_ngcontent-%COMP%]{flex-direction:column}}.modal-btn[_ngcontent-%COMP%]{flex:1;padding:1rem 1.5rem;border-radius:12px;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;justify-content:center;gap:.5rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.modal-btn.secondary[_ngcontent-%COMP%]{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);color:#d1d5db}.modal-btn.secondary[_ngcontent-%COMP%]:hover{background:#ffffff26;border-color:#ffffff4d;transform:translateY(-1px);box-shadow:0 4px 12px #0000004d}.modal-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#059669,#047857);border:1px solid #059669;color:#fff;box-shadow:0 4px 15px #0596694d}.modal-btn.primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#047857,#065f46);transform:translateY(-1px);box-shadow:0 6px 20px #05966966}.modal-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none!important}.submit-spinner[_ngcontent-%COMP%]{width:1rem;height:1rem;border:2px solid rgba(255,255,255,.3);border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff1a;border-radius:3px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:3px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff80}.form-select[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23ffffff' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");background-position:right .75rem center;background-repeat:no-repeat;background-size:1.5em 1.5em;padding-right:2.5rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.form-input[type=date][_ngcontent-%COMP%]{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='1.5'%3e%3cpath d='M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z'/%3e%3c/svg%3e");background-position:right .75rem center;background-repeat:no-repeat;background-size:1.25em 1.25em;padding-right:2.5rem}.form-input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{opacity:0;position:absolute;left:0;top:0;width:100%;height:100%;cursor:pointer;margin:0;padding:0}.form-input[type=date][_ngcontent-%COMP%]::-moz-calendar-picker-indicator{display:none}`]})};var G=class c{constructor(e){this.elementRef=e}swipe=new O;swipeLeft=new O;swipeRight=new O;swipeUp=new O;swipeDown=new O;startX=0;startY=0;startTime=0;isTracking=!1;SWIPE_THRESHOLD=50;TIME_THRESHOLD=500;onTouchStart(e){e.touches.length===1&&this.startTracking(e.touches[0].clientX,e.touches[0].clientY)}onMouseDown(e){this.startTracking(e.clientX,e.clientY),e.preventDefault()}onTouchEnd(e){this.isTracking&&e.changedTouches.length===1&&this.endTracking(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}onMouseUp(e){this.isTracking&&this.endTracking(e.clientX,e.clientY)}onTouchMove(e){if(this.isTracking){let n=e.touches[0],a=Math.abs(n.clientX-this.startX),s=Math.abs(n.clientY-this.startY);a>s&&a>20&&e.preventDefault()}}startTracking(e,n){this.startX=e,this.startY=n,this.startTime=Date.now(),this.isTracking=!0}endTracking(e,n){if(!this.isTracking)return;let a=e-this.startX,s=n-this.startY,m=Date.now()-this.startTime;if(this.isTracking=!1,m>this.TIME_THRESHOLD)return;let f=Math.abs(a),S=Math.abs(s);if(f>this.SWIPE_THRESHOLD||S>this.SWIPE_THRESHOLD){let H;f>S?H=a>0?"right":"left":H=s>0?"down":"up";let T={direction:H,deltaX:a,deltaY:s,duration:m};switch(H){case"left":this.swipeLeft.emit(T);break;case"right":this.swipeRight.emit(T);break;case"up":this.swipeUp.emit(T);break;case"down":this.swipeDown.emit(T);break}this.swipe.emit(T)}}static \u0275fac=function(n){return new(n||c)(X(q))};static \u0275dir=U({type:c,selectors:[["","appSwipe",""]],hostBindings:function(n,a){n&1&&g("touchstart",function(m){return a.onTouchStart(m)})("mousedown",function(m){return a.onMouseDown(m)})("touchend",function(m){return a.onTouchEnd(m)})("mouseup",function(m){return a.onMouseUp(m)})("touchmove",function(m){return a.onTouchMove(m)})},outputs:{swipe:"swipe",swipeLeft:"swipeLeft",swipeRight:"swipeRight",swipeUp:"swipeUp",swipeDown:"swipeDown"}})};var ye=(c,e)=>e.id;function Pe(c,e){if(c&1){let n=E();t(0,"button",36),g("click",function(){w(n);let s=h();return k(s.goToToday())}),r(1),p(2,"translate"),i()}c&2&&(o(),M(" ",l(2,1,"appointments.today")," "))}function Ee(c,e){c&1&&(t(0,"div",37),u(1,"div",38),t(2,"p",39),r(3),p(4,"translate"),i()()),c&2&&(o(3),d(l(4,1,"appointments.loadingAppointments")))}function Ie(c,e){if(c&1){let n=E();t(0,"div",40)(1,"div",41),b(),t(2,"svg",42),u(3,"path",43),i()(),_(),t(4,"h3",44),r(5),p(6,"translate"),i(),t(7,"p",45),r(8),p(9,"translate"),p(10,"translate"),i(),t(11,"button",46),g("click",function(){w(n);let s=h();return k(s.openAddModal())}),b(),t(12,"svg",24),u(13,"path",47),i(),r(14),p(15,"translate"),i()()}if(c&2){let n=h();o(5),d(l(6,3,"appointments.noAppointments")),o(3),d(n.isToday()?l(9,5,"appointments.noAppointmentsToday"):l(10,7,"appointments.noAppointmentsDate")),o(6),M(" ",l(15,9,"appointments.scheduleAppointment")," ")}}function Oe(c,e){c&1&&(t(0,"div",48)(1,"div",49),b(),t(2,"svg",24),u(3,"path",50),i(),_(),t(4,"span"),r(5),p(6,"translate"),i()(),t(7,"div",51)(8,"div",52),u(9,"div",53),t(10,"span",54),r(11),p(12,"translate"),i()(),t(13,"div",52),u(14,"div",55),t(15,"span",54),r(16),p(17,"translate"),i()(),t(18,"div",52),u(19,"div",56),t(20,"span",54),r(21),p(22,"translate"),i()(),t(23,"div",52),u(24,"div",57),t(25,"span",54),r(26),p(27,"translate"),i()()()()),c&2&&(o(5),d(l(6,5,"appointments.statusIndicators")),o(6),d(l(12,7,"appointments.status.scheduled")),o(5),d(l(17,9,"appointments.status.in-progress")),o(5),d(l(22,11,"appointments.status.completed")),o(5),d(l(27,13,"appointments.status.cancelled")))}function Ae(c,e){if(c&1){let n=E();t(0,"button",95),g("click",function(s){w(n);let m=h().$implicit;return h(2).updateAppointmentStatus(m.id,"completed"),k(s.stopPropagation())}),b(),t(1,"svg",24),u(2,"path",96),i(),_(),t(3,"span"),r(4),p(5,"translate"),i()()}c&2&&(o(4),d(l(5,1,"appointments.complete")))}function Te(c,e){if(c&1){let n=E();t(0,"button",97),g("click",function(s){w(n);let m=h().$implicit;return h(2).updateAppointmentStatus(m.id,"completed"),k(s.stopPropagation())}),r(1),p(2,"translate"),i()}c&2&&(o(),M(" ",l(2,1,"appointments.complete")," "))}function De(c,e){if(c&1){let n=E();t(0,"div",60),g("click",function(){let s=w(n).$implicit,m=h(2);return k(m.selectAppointment(s))})("swipeRight",function(s){let m=w(n).$implicit,f=h(2);return k(f.onAppointmentSwipeRight(m,s))})("swipeLeft",function(s){let m=w(n).$implicit,f=h(2);return k(f.onAppointmentSwipeLeft(m,s))}),t(1,"div",61)(2,"div",62)(3,"div",63)(4,"div",64)(5,"div",14)(6,"div",65),r(7),i(),t(8,"div",66),r(9),p(10,"translate"),i()(),u(11,"div",67),i(),t(12,"div",68),r(13),p(14,"translate"),i()(),t(15,"h3",69),r(16),i(),t(17,"div",70),b(),t(18,"svg",71),u(19,"path",72),i(),_(),t(20,"span"),r(21),i()(),t(22,"div",70),b(),t(23,"svg",73),u(24,"path",74),i(),_(),t(25,"span"),r(26),i()(),t(27,"div",75),b(),t(28,"svg",73),u(29,"path",76)(30,"path",77),i(),_(),t(31,"span"),r(32),i()()(),t(33,"div",78)(34,"div",79)(35,"div",80)(36,"div",81)(37,"div",14)(38,"div",65),r(39),i(),t(40,"div",66),r(41),p(42,"translate"),i()(),t(43,"div",80)(44,"h3",82),r(45),i(),t(46,"div",83),b(),t(47,"svg",71),u(48,"path",72),i(),_(),t(49,"span",84),r(50),i()()()(),t(51,"div",85)(52,"div",86)(53,"div",87),b(),t(54,"svg",24),u(55,"path",74),i(),_(),t(56,"span"),r(57),i()(),t(58,"div",87),b(),t(59,"svg",24),u(60,"path",76)(61,"path",77),i(),_(),t(62,"span"),r(63),i()()(),t(64,"div",52)(65,"div",68),r(66),p(67,"translate"),i(),u(68,"div",67),i()()()()()(),t(69,"div",88),P(70,Ae,6,3,"button",89),t(71,"button",90),g("click",function(s){let m=w(n).$implicit;return h(2).selectAppointment(m),k(s.stopPropagation())}),b(),t(72,"svg",24),u(73,"path",91),i(),_(),t(74,"span"),r(75),p(76,"translate"),i()()(),t(77,"div",92),P(78,Te,3,3,"button",93),t(79,"button",94),g("click",function(s){let m=w(n).$implicit;return h(2).selectAppointment(m),k(s.stopPropagation())}),r(80),p(81,"translate"),i()()()}if(c&2){let n=e.$implicit,a=h(2);o(7),M(" ",a.formatTime(n.scheduledDate)," "),o(2),A(" ",n.estimatedDuration,"",l(10,28,"appointments.min")," "),o(2),V("background-color",a.getPriorityColor(n.priority)),o(),V("background-color",a.getStatusColor(n.status)),o(),M(" ",l(14,30,"appointments.status."+n.status)," "),o(3),d(a.getServiceName(n.serviceName)),o(5),d(a.getCarInfo(n.carId)),o(5),d(a.getCustomerName(n.customerId)),o(6),d(a.getMechanicName(n.mechanicId)),o(7),M(" ",a.formatTime(n.scheduledDate)," "),o(2),A(" ",n.estimatedDuration,"",l(42,32,"appointments.min")," "),o(4),d(a.getServiceName(n.serviceName)),o(5),d(a.getCarInfo(n.carId)),o(7),d(a.getCustomerName(n.customerId)),o(6),d(a.getMechanicName(n.mechanicId)),o(2),V("background-color",a.getStatusColor(n.status)),o(),M(" ",l(67,34,"appointments.status."+n.status)," "),o(2),V("background-color",a.getPriorityColor(n.priority)),o(2),x("ngIf",n.status!=="completed"),o(5),d(l(76,36,"appointments.edit")),o(3),x("ngIf",n.status!=="completed"),o(2),M(" ",l(81,38,"appointments.edit")," ")}}function Be(c,e){if(c&1&&(t(0,"div",58),D(1,De,82,40,"div",59,ye),i()),c&2){let n=h();o(),B(n.filteredAppointments())}}function Ve(c,e){if(c&1){let n=E();t(0,"app-appointment-modal",98),g("closed",function(){w(n);let s=h();return k(s.closeAddModal())})("saved",function(){w(n);let s=h();return s.loadAppointments(),k(s.closeAddModal())}),i()}}var he=class c{appointmentService=y(Y);languageService=y(fe);translationService=y(be);appointmentModal;selectedDate=this.appointmentService.selectedDate;viewMode=this.appointmentService.viewMode;appointments=v([]);filteredAppointments=v([]);isLoading=v(!1);showAddModal=v(!1);selectedAppointment=v(null);selectedMechanic=v("all");selectedStatus=v("all");searchQuery=v("");isMobileView=v(!1);showMobileFilters=v(!1);currentView=v("list");todayAppointments=L(()=>{let e=new Date;e.setHours(0,0,0,0);let n=new Date(e);return n.setDate(n.getDate()+1),this.appointments().filter(a=>{let s=new Date(a.scheduledDate);return s>=e&&s<n})});completedToday=L(()=>this.todayAppointments().filter(e=>e.status==="completed").length);inProgressCount=L(()=>this.appointments().filter(e=>e.status==="in-progress").length);constructor(){this.checkMobileView(),this.loadAppointments(),this.setupFilters(),typeof window<"u"&&window.addEventListener("resize",()=>this.checkMobileView())}checkMobileView(){typeof window<"u"&&this.isMobileView.set(window.innerWidth<1024)}loadAppointments(){this.isLoading.set(!0),this.appointmentService.getAppointments().subscribe({next:e=>{this.appointments.set(e),this.applyFilters(),this.isLoading.set(!1)},error:e=>{console.error("Failed to load appointments:",e),this.isLoading.set(!1)}})}setupFilters(){}applyFilters(){let e=[...this.appointments()];this.selectedMechanic()!=="all"&&(e=e.filter(f=>f.mechanicId===this.selectedMechanic())),this.selectedStatus()!=="all"&&(e=e.filter(f=>f.status===this.selectedStatus()));let n=this.searchQuery().toLowerCase();n&&(e=e.filter(f=>f.serviceName.toLowerCase().includes(n)||f.notes?.toLowerCase().includes(n)));let a=this.selectedDate(),s=new Date(a);s.setHours(0,0,0,0);let m=new Date(a);m.setHours(23,59,59,999),e=e.filter(f=>{let S=new Date(f.scheduledDate);return S>=s&&S<=m}),this.filteredAppointments.set(e)}goToPreviousDay(){let e=new Date(this.selectedDate());e.setDate(e.getDate()-1),this.selectedDate.set(e),this.applyFilters()}goToNextDay(){let e=new Date(this.selectedDate());e.setDate(e.getDate()+1),this.selectedDate.set(e),this.applyFilters()}goToToday(){this.selectedDate.set(new Date),this.applyFilters()}selectDate(e){this.selectedDate.set(e),this.applyFilters()}setViewMode(e){this.viewMode.set(e)}ngAfterViewInit(){}selectAppointment(e){this.selectedAppointment.set(e),this.showAddModal.set(!0),setTimeout(()=>{this.appointmentModal&&this.appointmentModal.setEditAppointment(e)},0)}updateAppointmentStatus(e,n){this.appointmentService.updateAppointment(e,{status:n}).subscribe({next:()=>{this.loadAppointments()},error:a=>{console.error("Failed to update appointment:",a)}})}deleteAppointment(e){confirm("Are you sure you want to delete this appointment?")&&this.appointmentService.deleteAppointment(e).subscribe({next:()=>{this.loadAppointments()},error:n=>{console.error("Failed to delete appointment:",n)}})}openAddModal(){this.selectedAppointment.set(null),this.showAddModal.set(!0)}closeAddModal(){this.showAddModal.set(!1),this.selectedAppointment.set(null)}closeAppointmentDetails(){this.selectedAppointment.set(null)}toggleMobileFilters(){this.showMobileFilters.set(!this.showMobileFilters())}setView(e){this.currentView.set(e),e==="today"&&this.goToToday(),this.applyFilters()}onSwipeLeft(e){this.isMobileView()&&this.goToNextDay()}onSwipeRight(e){this.isMobileView()&&this.goToPreviousDay()}onAppointmentSwipeRight(e,n){e.status!=="completed"&&this.updateAppointmentStatus(e.id,"completed")}onAppointmentSwipeLeft(e,n){this.selectedAppointment.set(e)}getLocaleCode=L(()=>{let e=this.languageService.currentLanguage();return{en:"en-US",fr:"fr-FR",ar:"ar-SA"}[e]||"en-US"});formatTime(e){let n=this.getLocaleCode(),a=this.languageService.currentLanguage(),s={hour:"2-digit",minute:"2-digit",hour12:a!=="fr",numberingSystem:a==="ar"?"latn":void 0};return new Intl.DateTimeFormat(n,s).format(e)}formatDate(e){let n=this.getLocaleCode(),s={weekday:"long",year:"numeric",month:"long",day:"numeric",calendar:"gregory",numberingSystem:this.languageService.currentLanguage()==="ar"?"latn":void 0};return new Intl.DateTimeFormat(n,s).format(e)}getStatusColor(e){return{scheduled:"#3b82f6","in-progress":"#f59e0b",completed:"#10b981",cancelled:"#ef4444"}[e]}getPriorityColor(e){let n={low:"#6b7280",medium:"#f59e0b",high:"#ef4444"};return n[e]||n.low}getCarInfo(e){let n=this.appointmentService.getCarById(e);return n?`${n.make} ${n.model} - ${n.licensePlate}`:"Unknown Car"}getCustomerName(e){let n=this.appointmentService.getCustomerById(e);return n?n.name:"Unknown Customer"}getMechanicName(e){let n=this.appointmentService.getMechanicById(e);return n?n.name:"Unassigned"}getServiceName(e){let n=`serviceNames.${e}`,a=this.translationService.instant(n);return a===n?e:a}isToday(){let e=new Date,n=this.selectedDate();return e.toDateString()===n.toDateString()}getSelectedDateString(){return this.selectedDate().toISOString().split("T")[0]}onDateChange(e){let n=e.target;this.selectDate(new Date(n.value))}onMechanicChange(e){let n=e.target;this.selectedMechanic.set(n.value),this.applyFilters()}onStatusChange(e){let n=e.target;this.selectedStatus.set(n.value),this.applyFilters()}onSearchChange(e){let n=e.target;this.searchQuery.set(n.value),this.applyFilters()}setStatusFilter(e){this.selectedStatus.set(e),this.applyFilters()}static \u0275fac=function(n){return new(n||c)};static \u0275cmp=N({type:c,selectors:[["app-appointments"]],viewQuery:function(n,a){if(n&1&&Q(F,5),n&2){let s;W(s=K())&&(a.appointmentModal=s.first)}},decls:76,vars:57,consts:[[1,"min-h-screen","appointments-container","p-4","lg:p-6"],[1,"mb-6"],[1,"flex","flex-col","lg:flex-row","lg:items-center","lg:justify-between","gap-4"],[1,"text-2xl","lg:text-3xl","font-bold","text-primary-themed"],[1,"mt-1","text-secondary-themed"],[1,"flex","justify-end"],[1,"btn-primary",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],["appSwipe","",1,"mobile-nav","glass-card",3,"swipeLeft","swipeRight"],[1,"flex","justify-between","items-center","mb-4"],[1,"p-2","rounded-lg","hover:bg-black/5","dark:hover:bg-white/5",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5","text-secondary-themed"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"text-center"],[1,"text-lg","font-semibold","text-primary-themed"],["class","text-xs text-blue-600 dark:text-blue-400",3,"click",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"grid","grid-cols-3","gap-3"],[1,"text-xl","font-bold","text-primary-themed"],[1,"text-xs","text-secondary-themed"],[1,"text-xl","font-bold","text-amber-600","dark:text-amber-400"],[1,"text-xl","font-bold","text-green-600","dark:text-green-400"],[1,"btn-filter-toggle","mb-3",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"],[1,"mobile-filters"],[1,"p-4"],[1,"flex","flex-wrap","gap-2"],[1,"filter-chip",3,"click"],[1,"appointments-main"],["class","flex flex-col items-center justify-center py-12",4,"ngIf"],["class","empty-state glass-card",4,"ngIf"],["class","status-legend glass-card mb-4",4,"ngIf"],["class","space-y-4",4,"ngIf"],[3,"closed","saved",4,"ngIf"],[1,"text-xs","text-blue-600","dark:text-blue-400",3,"click"],[1,"flex","flex-col","items-center","justify-center","py-12"],[1,"loading-spinner"],[1,"mt-4","text-gray-600","dark:text-gray-400"],[1,"empty-state","glass-card"],[1,"mb-4"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-16","h-16","mx-auto","text-gray-400","dark:text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","mb-2"],[1,"text-gray-600","dark:text-gray-400","mb-6"],[1,"flex","items-center","gap-2","px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"status-legend","glass-card","mb-4"],[1,"flex","items-center","gap-1","text-sm","text-secondary-themed","mb-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"flex","flex-wrap","gap-4","text-xs"],[1,"flex","items-center","gap-2"],[1,"w-3","h-3","rounded-full","bg-gray-500"],[1,"text-secondary-themed"],[1,"w-3","h-3","rounded-full","bg-blue-500"],[1,"w-3","h-3","rounded-full","bg-green-500"],[1,"w-3","h-3","rounded-full","bg-red-500"],[1,"space-y-4"],["appSwipe","",1,"appointment-card","glass-card"],["appSwipe","",1,"appointment-card","glass-card",3,"click","swipeRight","swipeLeft"],[1,"block"],[1,"lg:hidden"],[1,"flex","items-center","justify-between","mb-3"],[1,"flex","items-center","gap-3"],[1,"text-sm","font-semibold","text-blue-600","dark:text-blue-400"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"w-3","h-3","rounded-full"],[1,"status-badge"],[1,"font-semibold","text-primary-themed","mb-2","text-base"],[1,"flex","items-center","gap-2","text-sm","text-secondary-themed","mb-2"],["fill","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","flex-shrink-0"],["d","M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.22.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"flex","items-center","gap-2","text-sm","text-secondary-themed"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"hidden","lg:block"],[1,"flex","items-start","justify-between"],[1,"flex-1","min-w-0"],[1,"flex","items-center","gap-3","mb-2"],[1,"font-semibold","text-primary-themed","truncate"],[1,"flex","items-center","gap-1","text-sm","text-secondary-themed","mt-1"],[1,"truncate"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-4","text-sm","text-gray-600","dark:text-gray-400"],[1,"flex","items-center","gap-1"],[1,"flex","gap-2","mt-3","lg:hidden"],["class","flex items-center gap-2 px-3 py-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 text-sm font-medium",3,"click",4,"ngIf"],[1,"flex","items-center","gap-2","px-3","py-2","rounded-lg","bg-blue-100","dark:bg-blue-900/30","text-blue-600","dark:text-blue-400","text-sm","font-medium",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"hidden","lg:flex","gap-2","mt-3"],["class","px-3 py-1 text-sm bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50",3,"click",4,"ngIf"],[1,"px-3","py-1","text-sm","bg-blue-100","dark:bg-blue-900/30","text-blue-700","dark:text-blue-300","rounded-lg","hover:bg-blue-200","dark:hover:bg-blue-900/50",3,"click"],[1,"flex","items-center","gap-2","px-3","py-2","rounded-lg","bg-green-100","dark:bg-green-900/30","text-green-600","dark:text-green-400","text-sm","font-medium",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"px-3","py-1","text-sm","bg-green-100","dark:bg-green-900/30","text-green-700","dark:text-green-300","rounded-lg","hover:bg-green-200","dark:hover:bg-green-900/50",3,"click"],[3,"closed","saved"]],template:function(n,a){n&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),r(5),p(6,"translate"),i(),t(7,"p",4),r(8),p(9,"translate"),i()(),t(10,"div",5)(11,"button",6),g("click",function(){return a.openAddModal()}),b(),t(12,"svg",7),u(13,"path",8),i(),_(),t(14,"span"),r(15),p(16,"translate"),i()()()()(),t(17,"div",9),g("swipeLeft",function(m){return a.onSwipeLeft(m)})("swipeRight",function(m){return a.onSwipeRight(m)}),t(18,"div",10)(19,"button",11),g("click",function(){return a.goToPreviousDay()}),b(),t(20,"svg",12),u(21,"path",13),i()(),_(),t(22,"div",14)(23,"h2",15),r(24),i(),P(25,Pe,3,3,"button",16),i(),t(26,"button",11),g("click",function(){return a.goToNextDay()}),b(),t(27,"svg",12),u(28,"path",17),i()()(),_(),t(29,"div",18)(30,"div",14)(31,"div",19),r(32),i(),t(33,"div",20),r(34),p(35,"translate"),p(36,"translate"),i()(),t(37,"div",14)(38,"div",21),r(39),i(),t(40,"div",20),r(41),p(42,"translate"),i()(),t(43,"div",14)(44,"div",22),r(45),i(),t(46,"div",20),r(47),p(48,"translate"),i()()()(),t(49,"button",23),g("click",function(){return a.toggleMobileFilters()}),b(),t(50,"svg",24),u(51,"path",25),i(),_(),t(52,"span"),r(53),p(54,"translate"),i()(),t(55,"div",26)(56,"div",27)(57,"div",28)(58,"button",29),g("click",function(){return a.setStatusFilter("all")}),r(59),p(60,"translate"),i(),t(61,"button",29),g("click",function(){return a.setStatusFilter("scheduled")}),r(62),p(63,"translate"),i(),t(64,"button",29),g("click",function(){return a.setStatusFilter("in-progress")}),r(65),p(66,"translate"),i(),t(67,"button",29),g("click",function(){return a.setStatusFilter("completed")}),r(68),p(69,"translate"),i()()()(),t(70,"main",30),P(71,Ee,5,3,"div",31)(72,Ie,16,11,"div",32)(73,Oe,28,15,"div",33)(74,Be,3,0,"div",34),i()(),P(75,Ve,1,0,"app-appointment-modal",35)),n&2&&(o(5),d(l(6,33,"appointments.title")),o(3),d(l(9,35,"appointments.manageSchedule")),o(7),d(l(16,37,"appointments.addAppointment")),o(9),d(a.formatDate(a.selectedDate())),o(),x("ngIf",!a.isToday()),o(7),d(a.filteredAppointments().length),o(2),d(a.isToday()?l(35,39,"appointments.today"):l(36,41,"appointments.selected")),o(5),d(a.inProgressCount()),o(2),d(l(42,43,"appointments.active")),o(4),d(a.completedToday()),o(2),d(l(48,45,"appointments.done")),o(2),I("active",a.showMobileFilters()),o(4),d(l(54,47,"common.filters")),o(2),I("open",a.showMobileFilters()),o(3),I("active",a.selectedStatus()==="all"),o(),d(l(60,49,"common.all")),o(2),I("active",a.selectedStatus()==="scheduled"),o(),d(l(63,51,"appointments.status.scheduled")),o(2),I("active",a.selectedStatus()==="in-progress"),o(),d(l(66,53,"appointments.status.in-progress")),o(2),I("active",a.selectedStatus()==="completed"),o(),d(l(69,55,"appointments.status.completed")),o(3),x("ngIf",a.isLoading()),o(),x("ngIf",!a.isLoading()&&a.filteredAppointments().length===0),o(),x("ngIf",!a.isLoading()&&a.filteredAppointments().length>0),o(),x("ngIf",!a.isLoading()&&a.filteredAppointments().length>0),o(),x("ngIf",a.showAddModal()))},dependencies:[j,z,ue,F,G,R],styles:[".nav-button-active[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-primary),var(--color-primary-hover))!important;border-color:var(--color-primary)!important;color:#fff!important;box-shadow:0 4px 15px #2563eb4d}.nav-button-inactive[_ngcontent-%COMP%]{background-color:var(--color-bg-primary)!important;border-color:var(--color-border)!important;color:var(--color-text-secondary)!important}.nav-button-inactive[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-tertiary)!important;border-color:var(--color-primary)!important;color:var(--color-text-primary)!important;box-shadow:0 2px 8px #2563eb33}.text-primary-themed[_ngcontent-%COMP%]{color:var(--color-text-primary)}.text-secondary-themed[_ngcontent-%COMP%]{color:var(--color-text-secondary)}.text-tertiary-themed[_ngcontent-%COMP%]{color:var(--color-text-tertiary)}.appointments-container[_ngcontent-%COMP%]{min-height:100vh;background:transparent}.glass-card[_ngcontent-%COMP%]{background:#111827f2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(75,85,99,.6);border-radius:20px;padding:1.5rem;box-shadow:0 8px 32px #000000b3;transition:all .3s cubic-bezier(.4,0,.2,1);margin-bottom:1rem}.glass-card[_ngcontent-%COMP%]:hover{background:#1f2937fa;box-shadow:0 12px 40px #000c;border-color:#3b82f6b3;transform:translateY(-2px)}.add-btn[_ngcontent-%COMP%], .mobile-fab[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);background:linear-gradient(135deg,#3b82f6cc,#1d4ed8cc);border:1px solid rgba(59,130,246,.3);border-radius:12px;color:#fff!important;padding:.75rem 1rem;display:flex;align-items:center;gap:.5rem;transition:all .2s ease}.add-btn[_ngcontent-%COMP%]:hover, .mobile-fab[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3b82f6e6,#1d4ed8e6);transform:translateY(-1px)}.mobile-fab[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:2rem;width:3.5rem;height:3.5rem;border-radius:50%;z-index:1000;justify-content:center}.appointment-card[_ngcontent-%COMP%]{cursor:pointer}.appointment-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .appointment-card[_ngcontent-%COMP%]   .text-gray-900[_ngcontent-%COMP%]{color:#fff!important}.appointment-card[_ngcontent-%COMP%]   .text-gray-600[_ngcontent-%COMP%], .appointment-card[_ngcontent-%COMP%]   .text-sm[_ngcontent-%COMP%]{color:#d1d5db!important}.appointment-card[_ngcontent-%COMP%]   .text-gray-500[_ngcontent-%COMP%]{color:#9ca3af!important}.mobile-filters[_ngcontent-%COMP%]{background:#111827e6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(75,85,99,.4);border-radius:20px;box-shadow:0 8px 32px #00000080;transition:all .3s cubic-bezier(.4,0,.2,1);margin-bottom:1rem;max-height:0;overflow:hidden}.mobile-filters.open[_ngcontent-%COMP%]{max-height:200px}.mobile-filters[_ngcontent-%COMP%]:hover{transform:translateY(-2px);background:#1f2937f2;box-shadow:0 12px 40px #0009}.appointment-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:12px;font-size:.875rem;font-weight:500;transition:all .3s cubic-bezier(.4,0,.2,1);border:1px solid;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);display:flex;align-items:center;gap:.5rem;cursor:pointer}.appointment-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background:linear-gradient(135deg,#059669,#047857)!important;border-color:#059669!important;color:#fff!important;box-shadow:0 4px 15px #0596694d}.appointment-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child:hover{background:linear-gradient(135deg,#047857,#065f46)!important;box-shadow:0 6px 20px #05966966;transform:translateY(-1px)}.appointment-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background:linear-gradient(135deg,#f59e0b,#d97706)!important;border-color:#f59e0b!important;color:#fff!important;box-shadow:0 4px 15px #f59e0b4d}.appointment-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover{background:linear-gradient(135deg,#d97706,#b45309)!important;box-shadow:0 6px 20px #f59e0b66;transform:translateY(-1px)}.filter-chip[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#9ca3af4d;border:1px solid rgba(156,163,175,.2);border-radius:20px;padding:.5rem 1rem;font-size:.875rem;transition:all .2s ease}.filter-chip.active[_ngcontent-%COMP%]{background:#3b82f6cc;border-color:#3b82f680;color:#fff}.status-badge[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:12px;padding:.25rem .75rem;font-size:.75rem;font-weight:600;color:#fff}.loading-spinner[_ngcontent-%COMP%]{width:2rem;height:2rem;border:3px solid rgba(59,130,246,.3);border-top:3px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem}.appointments-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .appointments-header[_ngcontent-%COMP%]   .text-gray-900[_ngcontent-%COMP%]{color:#fff!important}.appointments-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .appointments-header[_ngcontent-%COMP%]   .text-gray-600[_ngcontent-%COMP%]{color:#d1d5db!important}.mobile-nav[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mobile-nav[_ngcontent-%COMP%]   .text-gray-900[_ngcontent-%COMP%]{color:#fff!important}.mobile-nav[_ngcontent-%COMP%]   .text-gray-600[_ngcontent-%COMP%], .mobile-nav[_ngcontent-%COMP%]   .text-gray-400[_ngcontent-%COMP%]{color:#d1d5db!important}.filter-chip[_ngcontent-%COMP%]{color:#fff!important;background:#4b556399;border:1px solid rgba(156,163,175,.3)}.filter-chip.active[_ngcontent-%COMP%]{background:#3b82f6cc!important;border-color:#3b82f680!important;color:#fff!important}.filter-toggle[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;font-size:.875rem;color:#d1d5db;background:#1f293799;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;transition:all .2s ease;margin-bottom:.75rem;cursor:pointer}.filter-toggle[_ngcontent-%COMP%]:hover{background:#1f2937cc}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .text-gray-700[_ngcontent-%COMP%]{color:#d1d5db!important}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   .text-gray-900[_ngcontent-%COMP%]{color:#fff!important}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   .text-gray-600[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   .text-gray-400[_ngcontent-%COMP%]{color:#d1d5db!important}.status-legend[_ngcontent-%COMP%]{background:#11182799!important;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:1rem;margin-bottom:1rem;box-shadow:0 4px 16px #0000004d;transition:all .3s cubic-bezier(.4,0,.2,1)}.status-legend[_ngcontent-%COMP%]:hover{background:#1f2937b3!important;transform:translateY(-1px);box-shadow:0 6px 20px #0006}"]})};export{he as AppointmentsComponent};
