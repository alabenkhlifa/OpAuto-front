import{a as ee}from"./chunk-BO5PR6KR.js";import{a as Z}from"./chunk-TFRDJQUK.js";import{b as xe,c as E,d as Me,e as we,i as ye,j as ke,k as Pe,l as Se,o as Oe,p as Ee,q as Q,r as X,s as Te,t as Ie,x as Fe,y as Le,z as Be}from"./chunk-PAUVK7IQ.js";import{a as Ve,b as J,c as z}from"./chunk-DWWTKPBQ.js";import{e as ve,f as _e}from"./chunk-FBP5ODJ6.js";import{$ as M,$a as b,Ab as c,Bb as $,Ca as H,Fb as I,Ha as oe,Ja as V,P as pe,Ra as v,Sa as h,Ta as C,U as L,Ub as W,Va as le,Wa as A,Wb as Ce,Xa as N,Ya as _,Z as w,Za as r,_ as y,_a as a,_b as U,aa as O,ab as B,bb as g,ca as me,cb as f,db as ge,eb as fe,fb as be,ga as T,hb as se,ib as P,jb as he,ka as ue,kb as l,lb as p,mb as u,nb as j,sa as n,tb as G,wa as K,xb as Y,yb as de,zb as d}from"./chunk-BYA6T2VX.js";function Re(o,i){if(o&1&&(r(0,"div",16)(1,"span",17),l(2),d(3,"translate"),a(),r(4,"span",26),l(5),a()()),o&2){let e=f();n(2),u("",c(3,3,"cars.nextDue"),":"),n(2),_("ngClass",e.getDateColor(e.car.nextServiceDue)),n(),u(" ",e.formatDate(e.car.nextServiceDue)," ")}}var te=class o{translationService=L(J);car;customerName;carSelected=new V;scheduleService=new V;viewHistory=new V;onCardClick(){this.carSelected.emit(this.car)}onScheduleClick(i){i.stopPropagation(),this.scheduleService.emit(this.car)}onHistoryClick(i){i.stopPropagation(),this.viewHistory.emit(this.car)}getStatusBadgeClass(i){return{"up-to-date":"badge badge-up-to-date","due-soon":"badge badge-due-soon",overdue:"badge badge-overdue"}[i]||"badge badge-unknown"}getStatusLabel(i){return{"up-to-date":this.translationService.instant("cars.upToDate"),"due-soon":this.translationService.instant("cars.dueSoon"),overdue:this.translationService.instant("cars.overdue")}[i]||this.translationService.instant("cars.unknown")}getDateColor(i){if(!i)return"";let e=new Date,t=i.getTime()-e.getTime(),s=Math.ceil(t/(1e3*60*60*24));return s<0?"text-red-600 dark:text-red-400":s<=7?"text-amber-600 dark:text-amber-400":"text-green-600 dark:text-green-400"}formatMileage(i){return new Intl.NumberFormat("en-US").format(i)+" km"}formatDate(i){return i?new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(i):"N/A"}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=H({type:o,selectors:[["app-car-card"]],inputs:{car:"car",customerName:"customerName"},outputs:{carSelected:"carSelected",scheduleService:"scheduleService",viewHistory:"viewHistory"},decls:53,vars:31,consts:[[1,"car-card",3,"click"],[1,"car-header"],["role","img",1,"car-image"],["fill","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-gray-400"],["d","M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.22.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"],[1,"car-info"],[1,"car-title"],[1,"car-year"],["role","status",1,"status-badge",3,"ngClass"],[1,"license-plate"],[1,"customer-section"],[1,"flex","items-center","gap-2","text-gray-600","dark:text-gray-400"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"font-medium"],[1,"service-stats"],[1,"stat-row"],[1,"stat-label"],[1,"stat-value"],[1,"card-actions"],["type","button",1,"action-btn","primary",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"action-text"],["type","button",1,"action-btn","secondary",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"stat-value",3,"ngClass"]],template:function(e,t){e&1&&(r(0,"div",0),g("click",function(){return t.onCardClick()}),r(1,"div",1)(2,"div",2),M(),r(3,"svg",3),b(4,"path",4),a()(),O(),r(5,"div",5)(6,"h3",6),l(7),a(),r(8,"p",7),l(9),a()(),r(10,"div",8),l(11),a()(),r(12,"div",9),l(13),a(),r(14,"div",10)(15,"div",11),M(),r(16,"svg",12),b(17,"path",13),a(),O(),r(18,"span",14),l(19),a()()(),r(20,"div",15)(21,"div",16)(22,"span",17),l(23),d(24,"translate"),a(),r(25,"span",18),l(26),a()(),r(27,"div",16)(28,"span",17),l(29),d(30,"translate"),a(),r(31,"span",18),l(32),a()(),r(33,"div",16)(34,"span",17),l(35),d(36,"translate"),a(),r(37,"span",18),l(38),a()(),h(39,Re,6,5,"div",16),a(),r(40,"div",19)(41,"button",20),g("click",function(m){return t.onScheduleClick(m)}),M(),r(42,"svg",21),b(43,"path",22),a(),O(),r(44,"span",23),l(45),d(46,"translate"),a()(),r(47,"button",24),g("click",function(m){return t.onHistoryClick(m)}),M(),r(48,"svg",21),b(49,"path",25),a(),O(),r(50,"span",23),l(51),d(52,"translate"),a()()()()),e&2&&(n(2),v("aria-label","Vehicle image for "+t.car.make+" "+t.car.model),n(),v("alt",t.car.make+" "+t.car.model+" vehicle icon"),n(4),j("",t.car.make," ",t.car.model),n(2),p(t.car.year),n(),_("ngClass",t.getStatusBadgeClass(t.car.serviceStatus)),v("aria-label","Service status: "+t.getStatusLabel(t.car.serviceStatus)),n(),u(" ",t.getStatusLabel(t.car.serviceStatus)," "),n(2),u(" ",t.car.licensePlate," "),n(6),p(t.customerName),n(4),u("",c(24,21,"cars.mileage"),":"),n(3),p(t.formatMileage(t.car.currentMileage)),n(3),u("",c(30,23,"cars.totalServices"),":"),n(3),p(t.car.totalServices),n(3),u("",c(36,25,"cars.lastService"),":"),n(3),p(t.formatDate(t.car.lastServiceDate)),n(),C(t.car.nextServiceDue?39:-1),n(2),v("aria-label","Schedule service for "+t.car.make+" "+t.car.model),n(4),p(c(46,27,"cars.schedule")),n(2),v("aria-label","View service history for "+t.car.make+" "+t.car.model),n(4),p(c(52,29,"cars.history")))},dependencies:[U,W,z],styles:['.car-card[_ngcontent-%COMP%]{background:#111827f2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(75,85,99,.6);border-radius:20px;padding:1.5rem;box-shadow:0 8px 32px #000000b3;transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer;margin-bottom:1rem}.car-card[_ngcontent-%COMP%]:hover{background:#1f2937fa;box-shadow:0 12px 40px #000c;border-color:#3b82f6b3;transform:translateY(-2px)}.car-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;margin-bottom:1rem}.car-image[_ngcontent-%COMP%]{flex-shrink:0;width:3rem;height:3rem;background:linear-gradient(135deg,#3b82f626,#1d4ed81a);border-radius:12px;display:flex;align-items:center;justify-content:center;border:1px solid rgba(59,130,246,.2);transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.car-image[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);transform:translate(-100%) translateY(-100%);transition:transform .6s ease}.car-card[_ngcontent-%COMP%]:hover   .car-image[_ngcontent-%COMP%]:before{transform:translate(0) translateY(0)}.car-image[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;color:#3b82f6;transition:all .3s ease;z-index:1}.car-card[_ngcontent-%COMP%]:hover   .car-image[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f640,#1d4ed826);border-color:#3b82f666;box-shadow:0 4px 12px #3b82f633}.car-card[_ngcontent-%COMP%]:hover   .car-image[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#60a5fa;transform:scale(1.1)}.car-info[_ngcontent-%COMP%]{flex:1;min-width:0}.car-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#fff;margin:0;line-height:1.2}.car-year[_ngcontent-%COMP%]{font-size:.875rem;color:#9ca3af;margin:0}.status-badge[_ngcontent-%COMP%]{padding:.375rem .875rem;border-radius:16px;font-size:.75rem;font-weight:700;border:2px solid;text-transform:uppercase;letter-spacing:.025em;display:flex;align-items:center;gap:.375rem;transition:all .3s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);position:relative;overflow:hidden}.status-badge[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s ease}.car-card[_ngcontent-%COMP%]:hover   .status-badge[_ngcontent-%COMP%]:before{left:100%}.status-badge[_ngcontent-%COMP%]:after{content:"";width:6px;height:6px;border-radius:50%;background:currentColor;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.7;transform:scale(1.2)}}.license-plate[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1f2937,#374151);color:#fff;padding:.75rem;border-radius:8px;text-align:center;font-family:Courier New,monospace;font-size:1.125rem;font-weight:700;letter-spacing:2px;margin-bottom:1rem;border:2px solid #4b5563}.customer-section[_ngcontent-%COMP%]{margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px solid rgba(255,255,255,.1)}.customer-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.service-stats[_ngcontent-%COMP%]{margin-bottom:1rem}.stat-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;font-size:.875rem}.stat-label[_ngcontent-%COMP%]{color:#9ca3af}.stat-value[_ngcontent-%COMP%]{font-weight:600;color:#fff}.card-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.action-btn[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:.5rem;min-height:44px;padding:.75rem 1rem;border-radius:12px;font-size:.875rem;font-weight:600;transition:all .3s cubic-bezier(.4,0,.2,1);border:1px solid;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);cursor:pointer;position:relative;outline:none}.action-btn[_ngcontent-%COMP%]:focus{outline:2px solid #3b82f6;outline-offset:2px}@media (prefers-contrast: high){.action-btn[_ngcontent-%COMP%]{border-width:2px;box-shadow:0 0 0 1px currentColor}.status-badge[_ngcontent-%COMP%]{border-width:2px;font-weight:700}}.action-text[_ngcontent-%COMP%]{transition:opacity .2s ease}@media (max-width: 375px){.action-text[_ngcontent-%COMP%]{display:none}.action-btn[_ngcontent-%COMP%]{min-width:44px;padding:.75rem}}@media (min-width: 376px){.action-text[_ngcontent-%COMP%]{display:inline}}.action-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#059669,#047857);border-color:#059669;color:#fff;box-shadow:0 4px 15px #0596694d}.action-btn.primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#047857,#065f46);box-shadow:0 6px 20px #05966966;transform:translateY(-1px)}.action-btn.secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);border-color:#f59e0b;color:#fff;box-shadow:0 4px 15px #f59e0b4d}.action-btn.secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#d97706,#b45309);box-shadow:0 6px 20px #f59e0b66;transform:translateY(-1px)}@media (max-width: 375px){.car-image[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem}.car-image[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.status-badge[_ngcontent-%COMP%]{font-size:.625rem;padding:.25rem .625rem}.status-badge[_ngcontent-%COMP%]:after{width:4px;height:4px}}@media (min-width: 768px){.car-image[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem}.car-image[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.75rem;height:1.75rem}.status-badge[_ngcontent-%COMP%]{font-size:.8125rem;padding:.5rem 1rem}}@media (min-width: 1280px){.car-image[_ngcontent-%COMP%]{width:4rem;height:4rem}.car-image[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:2rem;height:2rem}}[dir="rtl"][_nghost-%COMP%]   .car-header[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .car-header[_ngcontent-%COMP%]{flex-direction:row-reverse}[dir="rtl"][_nghost-%COMP%]   .customer-section[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .customer-section[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{flex-direction:row-reverse}[dir="rtl"][_nghost-%COMP%]   .stat-row[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .stat-row[_ngcontent-%COMP%]{flex-direction:row-reverse;text-align:right}[dir="rtl"][_nghost-%COMP%]   .card-actions[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .card-actions[_ngcontent-%COMP%]{flex-direction:row-reverse}[dir="rtl"][_nghost-%COMP%]   .action-btn[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .action-btn[_ngcontent-%COMP%]{flex-direction:row-reverse}[dir="rtl"][_nghost-%COMP%]   .car-title[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .car-title[_ngcontent-%COMP%], [dir="rtl"][_nghost-%COMP%]   .car-year[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .car-year[_ngcontent-%COMP%], [dir="rtl"][_nghost-%COMP%]   .stat-label[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .stat-label[_ngcontent-%COMP%], [dir="rtl"][_nghost-%COMP%]   .stat-value[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .stat-value[_ngcontent-%COMP%], [dir="rtl"][_nghost-%COMP%]   .legend-text[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .legend-text[_ngcontent-%COMP%]{text-align:right}']})};var Ue=(o,i)=>i.id;function ze(o,i){o&1&&(l(0),d(1,"translate")),o&2&&u(" ",c(1,1,"cars.licensePlate")," is required ")}function je(o,i){o&1&&(l(0),d(1,"translate")),o&2&&u(" ",c(1,1,"cars.licensePlate")," must be at least 3 characters ")}function qe(o,i){if(o&1&&(r(0,"div",12),h(1,ze,2,3),h(2,je,2,3),a()),o&2){let e=f();n(),C(!(e.licensePlate==null||e.licensePlate.errors==null)&&e.licensePlate.errors.required?1:-1),n(),C(!(e.licensePlate==null||e.licensePlate.errors==null)&&e.licensePlate.errors.minlength?2:-1)}}function $e(o,i){o&1&&(r(0,"div",12),l(1),d(2,"translate"),a()),o&2&&(n(),u("",c(2,1,"cars.make")," is required"))}function Ke(o,i){o&1&&(r(0,"div",12),l(1),d(2,"translate"),a()),o&2&&(n(),u("",c(2,1,"cars.model")," is required"))}function Ge(o,i){o&1&&(l(0),d(1,"translate")),o&2&&u(" ",c(1,1,"cars.year")," is required ")}function Ye(o,i){if(o&1&&(l(0),d(1,"translate")),o&2){let e=f(2);j(" ",c(1,2,"cars.year")," must be between 1990 and ",e.currentYear+1," ")}}function We(o,i){if(o&1&&(r(0,"div",12),h(1,Ge,2,3),h(2,Ye,2,4),a()),o&2){let e=f();n(),C(!(e.year==null||e.year.errors==null)&&e.year.errors.required?1:-1),n(),C(!(e.year==null||e.year.errors==null)&&e.year.errors.min||!(e.year==null||e.year.errors==null)&&e.year.errors.max?2:-1)}}function Qe(o,i){o&1&&(l(0),d(1,"translate")),o&2&&u(" ",c(1,1,"cars.currentMileage")," is required ")}function Xe(o,i){o&1&&(l(0),d(1,"translate")),o&2&&u(" ",c(1,1,"cars.mileage")," cannot be negative ")}function Je(o,i){if(o&1&&(r(0,"div",12),h(1,Qe,2,3),h(2,Xe,2,3),a()),o&2){let e=f();n(),C(!(e.currentMileage==null||e.currentMileage.errors==null)&&e.currentMileage.errors.required?1:-1),n(),C(!(e.currentMileage==null||e.currentMileage.errors==null)&&e.currentMileage.errors.min?2:-1)}}function Ze(o,i){if(o&1&&(r(0,"option",36),l(1),a()),o&2){let e=i.$implicit;_("value",e.id),n(),j("",e.name," - ",e.phone)}}function et(o,i){o&1&&(r(0,"div",12),l(1),d(2,"translate"),a()),o&2&&(n(),u("Please select a ",c(2,1,"common.customer")))}function tt(o,i){if(o&1&&(r(0,"div",9)(1,"label",33),l(2),d(3,"translate"),a(),r(4,"select",34)(5,"option",35),l(6),d(7,"translate"),a(),A(8,Ze,2,3,"option",36,Ue),a(),h(10,et,3,3,"div",12),a()),o&2){let e=f();n(2),p(c(3,5,"cars.selectCustomerRequired")),n(2),P("error",(e.customerId==null?null:e.customerId.invalid)&&((e.customerId==null?null:e.customerId.dirty)||(e.customerId==null?null:e.customerId.touched))),n(2),p(c(7,7,"cars.chooseCustomer")),n(2),N(e.customers()),n(2),C(e.customerId!=null&&e.customerId.invalid&&(e.customerId!=null&&e.customerId.dirty||e.customerId!=null&&e.customerId.touched)?10:-1)}}function it(o,i){o&1&&(r(0,"div",12),l(1),d(2,"translate"),a()),o&2&&(n(),u("",c(2,1,"cars.customerName")," is required"))}function nt(o,i){o&1&&(l(0),d(1,"translate")),o&2&&u(" ",c(1,1,"cars.phoneNumber")," is required ")}function rt(o,i){o&1&&(l(0),d(1,"translate")),o&2&&u(" Please enter a valid ",c(1,1,"cars.phoneNumber")," ")}function at(o,i){if(o&1&&(r(0,"div",12),h(1,nt,2,3),h(2,rt,2,3),a()),o&2){let e=f(2);n(),C(!(e.customerPhone==null||e.customerPhone.errors==null)&&e.customerPhone.errors.required?1:-1),n(),C(!(e.customerPhone==null||e.customerPhone.errors==null)&&e.customerPhone.errors.pattern?2:-1)}}function ot(o,i){o&1&&(r(0,"div",12),l(1),d(2,"translate"),a()),o&2&&(n(),u("Please enter a valid ",c(2,1,"cars.email")))}function lt(o,i){if(o&1&&(r(0,"div",29)(1,"div",9)(2,"label",37),l(3),d(4,"translate"),a(),b(5,"input",38),h(6,it,3,3,"div",12),a(),r(7,"div",9)(8,"label",39),l(9),d(10,"translate"),a(),b(11,"input",40),h(12,at,3,2,"div",12),a(),r(13,"div",9)(14,"label",41),l(15),d(16,"translate"),a(),b(17,"input",42),h(18,ot,3,3,"div",12),a()()),o&2){let e=f();n(3),u("",c(4,12,"cars.customerName")," *"),n(2),P("error",(e.customerName==null?null:e.customerName.invalid)&&((e.customerName==null?null:e.customerName.dirty)||(e.customerName==null?null:e.customerName.touched))),n(),C(e.customerName!=null&&e.customerName.invalid&&(e.customerName!=null&&e.customerName.dirty||e.customerName!=null&&e.customerName.touched)?6:-1),n(3),u("",c(10,14,"cars.phoneNumber")," *"),n(2),P("error",(e.customerPhone==null?null:e.customerPhone.invalid)&&((e.customerPhone==null?null:e.customerPhone.dirty)||(e.customerPhone==null?null:e.customerPhone.touched))),n(),C(e.customerPhone!=null&&e.customerPhone.invalid&&(e.customerPhone!=null&&e.customerPhone.dirty||e.customerPhone!=null&&e.customerPhone.touched)?12:-1),n(3),u("",c(16,16,"cars.email")," (Optional)"),n(2),P("error",(e.customerEmail==null?null:e.customerEmail.invalid)&&((e.customerEmail==null?null:e.customerEmail.dirty)||(e.customerEmail==null?null:e.customerEmail.touched))),n(),C(e.customerEmail!=null&&e.customerEmail.invalid&&(e.customerEmail!=null&&e.customerEmail.dirty||e.customerEmail!=null&&e.customerEmail.touched)?18:-1)}}function st(o,i){o&1&&(M(),r(0,"svg",43),b(1,"circle",44)(2,"path",45),a(),l(3),d(4,"translate")),o&2&&(n(3),u(" ",c(4,1,"cars.registering"),"... "))}function dt(o,i){o&1&&(l(0),d(1,"translate")),o&2&&u(" ",c(1,1,"cars.registerCar")," ")}var ne=class o{formBuilder=L(Fe);carService=L(ee);translationService=L(J);close=new V;carRegistered=new V;customers=T([]);isSubmitting=T(!1);currentYear=new Date().getFullYear();carForm;constructor(){this.carForm=this.formBuilder.group({licensePlate:["",[E.required,E.minLength(3)]],make:["",[E.required]],model:["",[E.required]],year:[this.currentYear,[E.required,E.min(1990),E.max(this.currentYear+1)]],currentMileage:[0,[E.required,E.min(0)]],customerType:["existing",[E.required]],customerId:[""],customerName:[""],customerPhone:["",[E.pattern(/^\+?[0-9\-\s\(\)]+$/)]],customerEmail:["",[E.email]]}),this.loadCustomers(),this.setupValidationRules()}get licensePlate(){return this.carForm.get("licensePlate")}get make(){return this.carForm.get("make")}get model(){return this.carForm.get("model")}get year(){return this.carForm.get("year")}get currentMileage(){return this.carForm.get("currentMileage")}get customerType(){return this.carForm.get("customerType")}get customerId(){return this.carForm.get("customerId")}get customerName(){return this.carForm.get("customerName")}get customerPhone(){return this.carForm.get("customerPhone")}get customerEmail(){return this.carForm.get("customerEmail")}setupValidationRules(){this.customerType?.valueChanges.subscribe(i=>{i==="existing"?(this.customerId?.setValidators([E.required]),this.customerName?.clearValidators(),this.customerPhone?.clearValidators()):(this.customerId?.clearValidators(),this.customerName?.setValidators([E.required]),this.customerPhone?.setValidators([E.required,E.pattern(/^\+?[0-9\-\s\(\)]+$/)])),this.customerId?.updateValueAndValidity(),this.customerName?.updateValueAndValidity(),this.customerPhone?.updateValueAndValidity()})}loadCustomers(){let i=[{id:"customer1",name:"Ahmed Ben Ali",phone:"+216-20-123-456",email:"ahmed.benali@email.tn",registrationDate:new Date,totalCars:2,totalAppointments:5,totalInvoices:3,totalSpent:1200,averageSpending:400,status:"active",preferredContactMethod:"phone",loyaltyPoints:50,createdAt:new Date,updatedAt:new Date},{id:"customer2",name:"Fatma Trabelsi",phone:"+216-25-789-123",email:"fatma.trabelsi@email.tn",registrationDate:new Date,totalCars:1,totalAppointments:3,totalInvoices:2,totalSpent:800,averageSpending:400,status:"active",preferredContactMethod:"email",loyaltyPoints:30,createdAt:new Date,updatedAt:new Date},{id:"customer3",name:"Mohamed Khemir",phone:"+216-22-456-789",email:"mohamed.khemir@email.tn",registrationDate:new Date,totalCars:1,totalAppointments:2,totalInvoices:1,totalSpent:500,averageSpending:500,status:"vip",preferredContactMethod:"phone",loyaltyPoints:75,createdAt:new Date,updatedAt:new Date},{id:"customer4",name:"Leila Mansouri",phone:"+216-28-654-321",email:"leila.mansouri@email.tn",registrationDate:new Date,totalCars:3,totalAppointments:8,totalInvoices:6,totalSpent:2100,averageSpending:350,status:"vip",preferredContactMethod:"whatsapp",loyaltyPoints:120,createdAt:new Date,updatedAt:new Date}];this.customers.set(i)}onSubmit(){if(this.carForm.valid){this.isSubmitting.set(!0);let i=this.carForm.value,e=i.customerId;i.customerType==="new"&&(e="customer_"+Date.now());let t={licensePlate:i.licensePlate,make:i.make,model:i.model,year:i.year,customerId:e,currentMileage:i.currentMileage,totalServices:0,serviceStatus:"up-to-date"};this.carService.createCar(t).subscribe({next:s=>{this.isSubmitting.set(!1),this.carRegistered.emit(s),this.onClose()},error:s=>{console.error("Failed to register car:",s),this.isSubmitting.set(!1),s.error==="CAR_LIMIT_EXCEEDED"?alert(`Vehicle limit reached: ${s.message}`):alert("Failed to register vehicle. Please try again.")}})}}onClose(){this.close.emit()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=H({type:o,selectors:[["app-car-registration-form"]],outputs:{close:"close",carRegistered:"carRegistered"},decls:69,vars:64,consts:[[1,"fixed","inset-0","bg-black/50","backdrop-blur-sm","flex","items-center","justify-center","z-50","p-4",3,"click"],[1,"bg-white/90","dark:bg-gray-800/90","backdrop-blur-md","rounded-xl","border","border-gray-200","dark:border-gray-700","w-full","max-w-2xl","max-h-[90vh]","overflow-y-auto",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"close-btn",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[3,"ngSubmit","formGroup"],[1,"form-grid"],[1,"form-group"],["for","licensePlate",1,"form-label"],["id","licensePlate","type","text","formControlName","licensePlate",1,"form-input",3,"placeholder"],[1,"error-message"],["for","make",1,"form-label"],["id","make","type","text","formControlName","make",1,"form-input",3,"placeholder"],["for","model",1,"form-label"],["id","model","type","text","formControlName","model",1,"form-input",3,"placeholder"],["for","year",1,"form-label"],["id","year","type","number","formControlName","year","placeholder","e.g., 2020",1,"form-input",3,"min","max"],["for","currentMileage",1,"form-label"],["id","currentMileage","type","number","formControlName","currentMileage","placeholder","e.g., 45000","min","0",1,"form-input"],[1,"customer-section"],[1,"section-title"],[1,"customer-toggle"],[1,"toggle-group"],[1,"toggle-option"],["type","radio","value","existing","formControlName","customerType",1,"toggle-input"],[1,"toggle-label"],["type","radio","value","new","formControlName","customerType",1,"toggle-input"],[1,"new-customer-form"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],["for","customerId",1,"form-label"],["id","customerId","formControlName","customerId",1,"form-select"],["value",""],[3,"value"],["for","customerName",1,"form-label"],["id","customerName","type","text","formControlName","customerName","placeholder","e.g., Ahmed Ben Ali",1,"form-input"],["for","customerPhone",1,"form-label"],["id","customerPhone","type","tel","formControlName","customerPhone","placeholder","e.g., +216-20-123-456",1,"form-input"],["for","customerEmail",1,"form-label"],["id","customerEmail","type","email","formControlName","customerEmail","placeholder","e.g., ahmed.benali@email.tn",1,"form-input"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-4","h-4","mr-2"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,t){e&1&&(r(0,"div",0),g("click",function(){return t.onClose()}),r(1,"div",1),g("click",function(m){return m.stopPropagation()}),r(2,"div",2)(3,"h2",3),l(4),d(5,"translate"),a(),r(6,"button",4),g("click",function(){return t.onClose()}),M(),r(7,"svg",5),b(8,"path",6),a()()(),O(),r(9,"form",7),g("ngSubmit",function(){return t.onSubmit()}),r(10,"div",8)(11,"div",9)(12,"label",10),l(13),d(14,"translate"),a(),b(15,"input",11),d(16,"translate"),h(17,qe,3,2,"div",12),a(),r(18,"div",9)(19,"label",13),l(20),d(21,"translate"),a(),b(22,"input",14),d(23,"translate"),h(24,$e,3,3,"div",12),a(),r(25,"div",9)(26,"label",15),l(27),d(28,"translate"),a(),b(29,"input",16),d(30,"translate"),h(31,Ke,3,3,"div",12),a(),r(32,"div",9)(33,"label",17),l(34),d(35,"translate"),a(),b(36,"input",18),h(37,We,3,2,"div",12),a(),r(38,"div",9)(39,"label",19),l(40),d(41,"translate"),a(),b(42,"input",20),h(43,Je,3,2,"div",12),a()(),r(44,"div",21)(45,"h3",22),l(46),d(47,"translate"),a(),r(48,"div",23)(49,"div",24)(50,"label",25),b(51,"input",26),r(52,"span",27),l(53),d(54,"translate"),a()(),r(55,"label",25),b(56,"input",28),r(57,"span",27),l(58),d(59,"translate"),a()()()(),h(60,tt,11,9,"div",9),h(61,lt,19,18,"div",29),a(),r(62,"div",30)(63,"button",31),g("click",function(){return t.onClose()}),l(64),d(65,"translate"),a(),r(66,"button",32),h(67,st,5,3)(68,dt,2,3),a()()()()()),e&2&&(n(4),p(c(5,38,"cars.registerNewCar")),n(5),_("formGroup",t.carForm),n(4),p(c(14,40,"cars.licensePlateRequired")),n(2),P("error",(t.licensePlate==null?null:t.licensePlate.invalid)&&((t.licensePlate==null?null:t.licensePlate.dirty)||(t.licensePlate==null?null:t.licensePlate.touched))),_("placeholder",G(c(16,42,"cars.licensePlatePlaceholder"))),n(2),C(t.licensePlate!=null&&t.licensePlate.invalid&&(t.licensePlate!=null&&t.licensePlate.dirty||t.licensePlate!=null&&t.licensePlate.touched)?17:-1),n(3),p(c(21,44,"cars.makeRequired")),n(2),P("error",(t.make==null?null:t.make.invalid)&&((t.make==null?null:t.make.dirty)||(t.make==null?null:t.make.touched))),_("placeholder",G(c(23,46,"cars.makePlaceholder"))),n(2),C(t.make!=null&&t.make.invalid&&(t.make!=null&&t.make.dirty||t.make!=null&&t.make.touched)?24:-1),n(3),p(c(28,48,"cars.modelRequired")),n(2),P("error",(t.model==null?null:t.model.invalid)&&((t.model==null?null:t.model.dirty)||(t.model==null?null:t.model.touched))),_("placeholder",G(c(30,50,"cars.modelPlaceholder"))),n(2),C(t.model!=null&&t.model.invalid&&(t.model!=null&&t.model.dirty||t.model!=null&&t.model.touched)?31:-1),n(3),p(c(35,52,"cars.yearRequired")),n(2),P("error",(t.year==null?null:t.year.invalid)&&((t.year==null?null:t.year.dirty)||(t.year==null?null:t.year.touched))),_("min",1990)("max",t.currentYear+1),n(),C(t.year!=null&&t.year.invalid&&(t.year!=null&&t.year.dirty||t.year!=null&&t.year.touched)?37:-1),n(3),p(c(41,54,"cars.currentMileageRequired")),n(2),P("error",(t.currentMileage==null?null:t.currentMileage.invalid)&&((t.currentMileage==null?null:t.currentMileage.dirty)||(t.currentMileage==null?null:t.currentMileage.touched))),n(),C(t.currentMileage!=null&&t.currentMileage.invalid&&(t.currentMileage!=null&&t.currentMileage.dirty||t.currentMileage!=null&&t.currentMileage.touched)?43:-1),n(3),p(c(47,56,"cars.customerInformation")),n(7),p(c(54,58,"cars.existingCustomer")),n(5),p(c(59,60,"cars.newCustomer")),n(2),C((t.customerType==null?null:t.customerType.value)==="existing"?60:-1),n(),C((t.customerType==null?null:t.customerType.value)==="new"?61:-1),n(3),u(" ",c(65,62,"common.cancel")," "),n(2),_("disabled",t.carForm.invalid||t.isSubmitting()),n(),C(t.isSubmitting()?67:68))},dependencies:[U,Be,ye,Q,X,xe,ke,Ee,Pe,Me,we,Ie,Te,Se,Oe,z],styles:[".modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:2rem 2rem 1rem;border-bottom:1px solid rgba(75,85,99,.3);margin-bottom:1.5rem}.modal-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;margin:0}.close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#9ca3af;cursor:pointer;padding:.5rem;border-radius:8px;transition:all .2s ease}.close-btn[_ngcontent-%COMP%]:hover{color:#fff;background:#ffffff1a}form[_ngcontent-%COMP%]{padding:0 2rem 2rem;width:100%;box-sizing:border-box}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1.5rem;margin-bottom:2rem;width:100%;box-sizing:border-box}@media (max-width: 640px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#d1d5db}.form-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border:2px solid rgba(75,85,99,.4);border-radius:12px;background:#1f2937cc;color:#fff;font-size:1rem;transition:all .2s ease;width:100%;box-sizing:border-box;min-width:0;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;background:#1f2937f2;box-shadow:0 0 0 3px #3b82f61a}.form-input.error[_ngcontent-%COMP%]{border-color:#ef4444;background:#7f1d1d4d}.error-message[_ngcontent-%COMP%]{font-size:.75rem;color:#ef4444;margin-top:.25rem}.customer-section[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1.5rem;background:#1f293799;border:1px solid rgba(75,85,99,.6);border-radius:12px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.section-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#fff;margin-bottom:1rem}.customer-toggle[_ngcontent-%COMP%]{margin-bottom:1.5rem}.toggle-group[_ngcontent-%COMP%]{display:flex;background:#37415180;border-radius:12px;padding:.25rem;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.toggle-option[_ngcontent-%COMP%]{flex:1;display:block;cursor:pointer}.toggle-input[_ngcontent-%COMP%]{display:none}.toggle-label[_ngcontent-%COMP%]{display:block;padding:.75rem 1rem;text-align:center;border-radius:8px;font-weight:500;color:#9ca3af;transition:all .2s ease}.toggle-input[_ngcontent-%COMP%]:checked + .toggle-label[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6cc,#2563ebcc);color:#fff;box-shadow:0 4px 12px #3b82f64d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.new-customer-form[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1.5rem}@media (max-width: 640px){.new-customer-form[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:2rem;padding-top:1.5rem;border-top:1px solid rgba(75,85,99,.3)}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:12px;font-weight:600;border:none;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;min-width:120px}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#4b556399;color:#d1d5db;border:1px solid rgba(75,85,99,.4);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#6b728099;border-color:#6b728099;color:#fff}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6cc,#2563ebcc);color:#fff;border:1px solid rgba(59,130,246,.6);box-shadow:0 4px 12px #3b82f64d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#2563ebe6,#1d4ed8e6);border-color:#2563ebb3;box-shadow:0 6px 16px #3b82f666;transform:translateY(-1px)}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 640px){.modal-container[_ngcontent-%COMP%]{margin:1rem;max-height:calc(100vh - 2rem)}.modal-header[_ngcontent-%COMP%]{padding:1.5rem 1.5rem 1rem}form[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.btn[_ngcontent-%COMP%]{width:100%}}"]})};var re=class o{document=L(me);announce(i,e="polite"){let t=this.getOrCreateAnnouncer(e);t.textContent=i,setTimeout(()=>{t.textContent=""},1e3)}announceFeatureLock(i,e){let t=e?`${i} feature is locked. ${e} tier required to unlock.`:`${i} feature is locked. Upgrade required to unlock.`;this.announce(t,"assertive")}announceUpgrade(i,e){let t=e?`Successfully upgraded to ${i} tier. New features are now available.`:`Failed to upgrade to ${i} tier. Please try again.`;this.announce(t,"assertive")}setFocus(i,e){if(!i)return!1;try{return i.focus(e),this.document.activeElement===i}catch(t){return console.warn("Failed to set focus:",t),!1}}setFocusToFirst(i){let e=this.getFirstFocusableElement(i);return this.setFocus(e)}setFocusToLast(i){let e=this.getFocusableElements(i);if(e.length===0)return!1;let t=e[e.length-1];return this.setFocus(t)}getFocusableElements(i){let e=["button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","a[href]",'[tabindex]:not([tabindex="-1"])','[contenteditable="true"]'].join(", ");return Array.from(i.querySelectorAll(e)).filter(s=>this.isElementVisible(s)&&!this.isElementDisabled(s))}getFirstFocusableElement(i){let e=this.getFocusableElements(i);return e.length>0?e[0]:null}createFocusTrap(i){let e=this.getFocusableElements(i);if(e.length===0)return()=>{};let t=e[0],s=e[e.length-1],m=S=>{S.key==="Tab"&&(S.shiftKey?this.document.activeElement===t&&(S.preventDefault(),this.setFocus(s)):this.document.activeElement===s&&(S.preventDefault(),this.setFocus(t)))};return i.addEventListener("keydown",m),this.setFocus(t),()=>{i.removeEventListener("keydown",m)}}handleEscapeKey(i){let e=t=>{t.key==="Escape"&&(t.preventDefault(),i())};return this.document.addEventListener("keydown",e),()=>{this.document.removeEventListener("keydown",e)}}addArrowKeyNavigation(i,e,t={}){let{wrap:s=!0,orientation:m="vertical",onActivate:S}=t,q=k=>{let x=Array.from(i.querySelectorAll(e));if(x.length===0)return;let F=x.findIndex(Ne=>Ne===this.document.activeElement);if(F===-1)return;let D=F,R=!1;switch(k.key){case"ArrowDown":(m==="vertical"||m==="both")&&(D=s?(F+1)%x.length:Math.min(F+1,x.length-1),R=!0);break;case"ArrowUp":(m==="vertical"||m==="both")&&(D=s?(F-1+x.length)%x.length:Math.max(F-1,0),R=!0);break;case"ArrowRight":(m==="horizontal"||m==="both")&&(D=s?(F+1)%x.length:Math.min(F+1,x.length-1),R=!0);break;case"ArrowLeft":(m==="horizontal"||m==="both")&&(D=s?(F-1+x.length)%x.length:Math.max(F-1,0),R=!0);break;case"Home":D=0,R=!0;break;case"End":D=x.length-1,R=!0;break;case"Enter":case" ":S&&(S(x[F],F),R=!0);break}R&&(k.preventDefault(),D!==F&&this.setFocus(x[D]))};return i.addEventListener("keydown",q),()=>{i.removeEventListener("keydown",q)}}isElementVisible(i){let e=getComputedStyle(i);return e.display!=="none"&&e.visibility!=="hidden"&&e.opacity!=="0"}isElementDisabled(i){return i.hasAttribute("disabled")||i.getAttribute("aria-disabled")==="true"}getOrCreateAnnouncer(i){let e=`aria-announcer-${i}`,t=this.document.getElementById(e);return t||(t=this.document.createElement("div"),t.id=e,t.setAttribute("aria-live",i),t.setAttribute("aria-atomic","true"),t.style.position="absolute",t.style.left="-10000px",t.style.width="1px",t.style.height="1px",t.style.overflow="hidden",this.document.body.appendChild(t)),t}prefersReducedMotion(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}isHighContrastMode(){return window.matchMedia("(prefers-contrast: high)").matches}addSkipLink(i,e="Skip to main content"){if(this.document.querySelector(".skip-link"))return;let s=this.document.createElement("a");s.href=`#${i}`,s.textContent=e,s.className="skip-link",s.style.cssText=`
      position: absolute;
      top: -40px;
      left: 6px;
      background: #000;
      color: #fff;
      padding: 8px;
      z-index: 1000;
      text-decoration: none;
      transition: top 0.2s;
    `,s.addEventListener("focus",()=>{s.style.top="6px"}),s.addEventListener("blur",()=>{s.style.top="-40px"}),this.document.body.insertBefore(s,this.document.body.firstChild)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=pe({token:o,factory:o.\u0275fac,providedIn:"root"})};var pt=["modalContent"],mt=o=>({tier:o}),ut=(o,i)=>i.id,gt=(o,i)=>i.key;function ft(o,i){o&1&&(r(0,"div",18),l(1),d(2,"translate"),a()),o&2&&(n(),u(" ",c(2,1,"tiers.popular")," "))}function bt(o,i){o&1&&(r(0,"div",19),l(1),d(2,"translate"),a()),o&2&&(n(),u(" ",c(2,1,"tiers.current")," "))}function ht(o,i){o&1&&(M(),r(0,"svg",31),b(1,"path",33),a())}function Ct(o,i){o&1&&(M(),r(0,"svg",31),b(1,"path",34),a())}function vt(o,i){if(o&1&&(r(0,"div",29)(1,"div",30),h(2,ht,2,0,":svg:svg",31)(3,Ct,2,0,":svg:svg",31),a(),r(4,"span",32),l(5),d(6,"translate"),a()()),o&2){let e=i.$implicit;P("enabled",e.enabled)("disabled",!e.enabled),n(2),C(e.enabled?2:3),n(3),u(" ",c(6,6,"features."+e.key)," ")}}function _t(o,i){if(o&1&&(r(0,"div",26),A(1,vt,7,8,"div",28,gt),a()),o&2){let e=f().$implicit,t=f(2);n(),N(t.getVisibleFeatures(e))}}function xt(o,i){if(o&1){let e=B();r(0,"div",17),h(1,ft,3,3,"div",18),h(2,bt,3,3,"div",19),r(3,"div",20)(4,"h5",21),l(5),a(),r(6,"div",22)(7,"span",23),l(8),a(),r(9,"span",24),l(10),a(),r(11,"span",25),l(12),d(13,"translate"),a()()(),h(14,_t,3,0,"div",26),r(15,"button",27),g("click",function(){let s=w(e).$implicit,m=f(2);return y(m.onUpgrade(s.id))}),l(16),d(17,"translate"),a()()}if(o&2){let e,t,s,m,S,q,k=i.$implicit,x=f(2);P("current",k.id===((e=x.tierComparison())==null?null:e.currentTierId))("recommended",k.id===((t=x.tierComparison())==null?null:t.recommendedTierId))("popular",k.popular),n(),C(k.popular?1:-1),n(),C(k.id===((s=x.tierComparison())==null?null:s.currentTierId)?2:-1),n(3),p(k.name),n(3),p(k.price),n(2),p(k.currency),n(2),u("/",c(13,22,"tiers.month")),n(2),C(x.config.showFeatureList?14:-1),n(),P("btn-primary",x.canUpgradeTo(k.id))("btn-secondary",k.id===((m=x.tierComparison())==null?null:m.currentTierId))("btn-tertiary",!x.canUpgradeTo(k.id)&&k.id!==((S=x.tierComparison())==null?null:S.currentTierId)),_("disabled",!x.canUpgradeTo(k.id)&&k.id!==((q=x.tierComparison())==null?null:q.currentTierId)),v("aria-label",x.getTierCtaAriaLabel(k)),n(),u(" ",c(17,24,x.getTierCtaText(k.id))," ")}}function Mt(o,i){if(o&1&&(r(0,"div",10)(1,"h4",14),l(2),d(3,"translate"),a(),r(4,"div",15),A(5,xt,18,26,"div",16,ut),a()()),o&2){let e,t=f();n(2),u(" ",c(3,1,"tiers.choosePlan")," "),n(3),N((e=t.tierComparison())==null?null:e.tiers)}}function wt(o,i){if(o&1){let e=B();r(0,"div",11)(1,"div",35)(2,"h4",21),l(3),a(),r(4,"div",36)(5,"p"),l(6),d(7,"translate"),a()()(),r(8,"button",37),g("click",function(){w(e);let s=f();return y(s.onUpgrade(s.targetTier()))}),l(9),d(10,"translate"),a()()}if(o&2){let e=f();n(3),p(e.getTargetTierName()),n(3),p($(7,4,"tiers.upgradeMessage",Y(9,mt,e.getTargetTierName()))),n(2),v("aria-label",e.getSingleUpgradeAriaLabel()),n(),u(" ",c(10,7,e.config.ctaText||"tiers.upgradeNow")," ")}}var ae=class o{constructor(i,e,t){this.subscriptionService=i;this.accessibilityService=e;this.elementRef=t}modalContent;config={showComparison:!0,showFeatureList:!0};isVisible=!1;upgrade=new V;close=new V;tierComparison=T(null);loading=T(!1);targetTier=I(()=>this.config.targetTier);focusTrapCleanup;escapeKeyHandler;previousActiveElement;ngOnInit(){this.config.showComparison&&this.loadTierComparison(),this.previousActiveElement=document.activeElement,this.escapeKeyHandler=this.accessibilityService.handleEscapeKey(()=>{this.onClose()}),this.accessibilityService.announce("Upgrade options dialog opened","assertive")}ngAfterViewInit(){this.modalContent&&(this.focusTrapCleanup=this.accessibilityService.createFocusTrap(this.modalContent.nativeElement))}ngOnDestroy(){this.focusTrapCleanup&&this.focusTrapCleanup(),this.escapeKeyHandler&&this.escapeKeyHandler(),this.previousActiveElement&&this.accessibilityService.setFocus(this.previousActiveElement)}loadTierComparison(){this.loading.set(!0),this.subscriptionService.getTierComparison().subscribe({next:i=>{this.tierComparison.set(i),this.loading.set(!1)},error:()=>{this.loading.set(!1)}})}getModalTitle(){return this.config.title?this.config.title:this.config.feature?"tiers.unlockFeature":"tiers.upgradeTitle"}getModalDescription(){return this.config.description?this.config.description:this.config.feature?"tiers.upgradeForFeatureMessage":"tiers.upgradeMessage"}getModalAriaLabel(){return`Upgrade prompt modal: ${this.getModalTitle()}`}getTargetTierName(){let i=this.targetTier();return i?this.tierComparison()?.tiers.find(s=>s.id===i)?.name||i:""}getVisibleFeatures(i){return i.features.slice(0,6)}canUpgradeTo(i){let e=this.tierComparison();if(!e)return!1;let t=["solo","starter","professional"],s=t.indexOf(e.currentTierId);return t.indexOf(i)>s}getTierCtaText(i){let e=this.tierComparison();return i===e?.currentTierId?"tiers.currentPlan":this.canUpgradeTo(i)?"tiers.upgrade":"tiers.downgrade"}getTierCtaAriaLabel(i){return`${this.getTierCtaText(i.id)} to ${i.name} plan`}getSingleUpgradeAriaLabel(){return`Upgrade to ${this.getTargetTierName()} plan`}onUpgrade(i){let e=this.tierComparison()?.tiers.find(t=>t.id===i)?.name||i;this.accessibilityService.announce(`Initiating upgrade to ${e} tier`,"assertive"),this.upgrade.emit({tier:i,feature:this.config.feature})}onClose(){this.accessibilityService.announce("Upgrade dialog closed","polite"),this.close.emit()}onKeyDown(i){if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(i.key)){let e=this.elementRef.nativeElement.querySelectorAll(".tier-cta-button"),t=Array.from(e).findIndex(s=>s===document.activeElement);if(t!==-1){i.preventDefault();let s=t;switch(i.key){case"ArrowRight":case"ArrowDown":s=(t+1)%e.length;break;case"ArrowLeft":case"ArrowUp":s=(t-1+e.length)%e.length;break}this.accessibilityService.setFocus(e[s])}}}onOverlayClick(i){i.target===i.currentTarget&&this.onClose()}static \u0275fac=function(e){return new(e||o)(K(Z),K(re),K(ue))};static \u0275cmp=H({type:o,selectors:[["app-upgrade-prompt"]],viewQuery:function(e,t){if(e&1&&ge(pt,5),e&2){let s;fe(s=be())&&(t.modalContent=s.first)}},hostBindings:function(e,t){e&1&&g("keydown",function(m){return t.onKeyDown(m)})},inputs:{config:"config",isVisible:"isVisible"},outputs:{upgrade:"upgrade",close:"close"},decls:21,vars:14,consts:[["modalContent",""],["role","dialog","aria-modal","true",1,"upgrade-modal-overlay",3,"click"],["tabindex","0",1,"upgrade-modal","glass-card",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"close-button",3,"click"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M18 6L6 18M6 6L18 18","stroke","currentColor","stroke-width","2","stroke-linecap","round"],[1,"modal-body"],[1,"upgrade-description"],[1,"tier-comparison"],[1,"single-tier-upgrade"],[1,"modal-footer"],["type","button",1,"btn-secondary",3,"click"],[1,"comparison-title"],[1,"tier-cards"],[1,"tier-card",3,"current","recommended","popular"],[1,"tier-card"],[1,"popular-badge","badge","badge-upgrade"],[1,"current-badge","badge","badge-tier-starter"],[1,"tier-header"],[1,"tier-name"],[1,"tier-price"],[1,"price"],[1,"currency"],[1,"period"],[1,"tier-features"],["type","button",1,"tier-cta-button",3,"click","disabled"],[1,"feature-item",3,"enabled","disabled"],[1,"feature-item"],[1,"feature-icon"],["viewBox","0 0 20 20","fill","currentColor"],[1,"feature-text"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"tier-highlight"],[1,"tier-benefits"],["type","button",1,"upgrade-cta-button","btn-primary",3,"click"]],template:function(e,t){if(e&1){let s=B();r(0,"div",1),g("click",function(S){return w(s),y(t.onOverlayClick(S))}),r(1,"div",2,0),g("click",function(S){return w(s),y(S.stopPropagation())}),r(3,"div",3)(4,"h3",4),l(5),d(6,"translate"),a(),r(7,"button",5),d(8,"translate"),g("click",function(){return w(s),y(t.onClose())}),M(),r(9,"svg",6),b(10,"path",7),a()()(),O(),r(11,"div",8)(12,"div",9),l(13),d(14,"translate"),a(),h(15,Mt,7,3,"div",10)(16,wt,11,11,"div",11),a(),r(17,"div",12)(18,"button",13),g("click",function(){return w(s),y(t.onClose())}),l(19),d(20,"translate"),a()()()()}e&2&&(v("aria-label",t.getModalAriaLabel()),n(5),u(" ",c(6,6,t.getModalTitle())," "),n(2),v("aria-label",c(8,8,"common.close")),n(6),u(" ",c(14,10,t.getModalDescription())," "),n(2),C(t.config.showComparison&&t.tierComparison()?15:t.targetTier()?16:-1),n(4),u(" ",c(20,12,"common.cancel")," "))},dependencies:[U,z],styles:[".upgrade-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000c;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem}.upgrade-modal[_ngcontent-%COMP%]{max-width:800px;width:100%;max-height:90vh;overflow-y:auto;border-radius:16px;position:relative}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid rgba(75,85,99,.3)}.modal-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;margin:0}.close-button[_ngcontent-%COMP%]{background:none;border:none;color:#9ca3af;cursor:pointer;padding:.5rem;border-radius:8px;transition:all .2s ease}.close-button[_ngcontent-%COMP%]:hover{color:#fff;background:#4b55634d}.close-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.upgrade-description[_ngcontent-%COMP%]{font-size:1rem;color:#d1d5db;margin-bottom:2rem;line-height:1.6}.tier-comparison[_ngcontent-%COMP%]{margin-bottom:2rem}.comparison-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#fff;margin-bottom:1.5rem;text-align:center}.tier-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem}.tier-card[_ngcontent-%COMP%]{background:#1f2937cc;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(75,85,99,.4);border-radius:16px;padding:1.5rem;position:relative;transition:all .3s ease}.tier-card.popular[_ngcontent-%COMP%]{border-color:#a855f780;transform:scale(1.05)}.tier-card.current[_ngcontent-%COMP%]{border-color:#22c55e80}.popular-badge[_ngcontent-%COMP%]{position:absolute;top:-.5rem;left:50%;transform:translate(-50%)}.current-badge[_ngcontent-%COMP%]{position:absolute;top:-.5rem;right:1rem}.tier-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.tier-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;margin-bottom:.5rem}.tier-price[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:center;gap:.25rem}.price[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;color:#fff}.currency[_ngcontent-%COMP%], .period[_ngcontent-%COMP%]{font-size:1rem;color:#9ca3af}.tier-features[_ngcontent-%COMP%]{margin-bottom:2rem}.feature-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.5rem 0;border-bottom:1px solid rgba(75,85,99,.2)}.feature-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.feature-icon[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;flex-shrink:0}.feature-item.enabled[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]{color:#22c55e}.feature-item.disabled[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]{color:#9ca3af}.feature-text[_ngcontent-%COMP%]{font-size:.875rem;color:#d1d5db}.feature-item.disabled[_ngcontent-%COMP%]   .feature-text[_ngcontent-%COMP%]{color:#9ca3af;text-decoration:line-through}.tier-cta-button[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border-radius:12px;font-weight:600;transition:all .2s ease}.single-tier-upgrade[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:#1f293799;border-radius:12px;margin-bottom:2rem}.tier-highlight[_ngcontent-%COMP%]   .tier-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#f59e0b;margin-bottom:1rem}.tier-benefits[_ngcontent-%COMP%]{color:#d1d5db;margin-bottom:2rem;line-height:1.6}.upgrade-cta-button[_ngcontent-%COMP%]{padding:1rem 2rem;font-size:1.125rem;border-radius:12px;font-weight:700}.modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid rgba(75,85,99,.3);display:flex;justify-content:flex-end;gap:1rem}@media (max-width: 640px){.upgrade-modal-overlay[_ngcontent-%COMP%]{padding:.5rem}.tier-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.tier-card.popular[_ngcontent-%COMP%]{transform:none}.modal-header[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{padding:1rem}}"]})};var yt=o=>({remaining:o}),kt=(o,i)=>({limit:o,tier:i}),Pt=(o,i)=>({title:"cars.limitReached",description:o,targetTier:i,showComparison:!1,showFeatureList:!1,ctaText:"tiers.upgradeNow"}),St=(o,i)=>i.id;function Ot(o,i){if(o&1&&(r(0,"div",12)(1,"div",63)(2,"span"),l(3),d(4,"translate"),a(),r(5,"span"),l(6),a()(),r(7,"div",64),b(8,"div",65),a()()),o&2){let e=f();n(3),p(c(4,14,"cars.vehicleUsage")),n(3),u("",e.getUsagePercentage(),"%"),n(2),se("width",e.getUsagePercentage(),"%"),P("bg-green-500",!e.isNearLimit())("bg-amber-500",e.isNearLimit()&&!e.isAtCarLimit())("bg-red-500",e.isAtCarLimit()),v("aria-label","Vehicle usage: "+e.getUsagePercentage()+" percent")("aria-valuenow",e.currentCarCount())("aria-valuemin",0)("aria-valuemax",e.carLimit())}}function Et(o,i){o&1&&(r(0,"div",13),M(),r(1,"svg",66),b(2,"path",67),a(),l(3),d(4,"translate"),a()),o&2&&(n(3),u(" ",c(4,1,"cars.unlimitedVehicles")," "))}function Tt(o,i){if(o&1){let e=B();r(0,"div",68)(1,"div",69),M(),r(2,"svg",70),b(3,"path",71),a(),O(),r(4,"div",3)(5,"p",72),l(6),d(7,"translate"),a(),r(8,"p",73),l(9),d(10,"translate"),a()(),r(11,"button",74),g("click",function(){w(e);let s=f();return y(s.onUpgradeRequested())}),l(12),d(13,"translate"),a()()()}if(o&2){let e=f();n(6),p($(7,4,"cars.approachingLimit",Y(11,yt,e.remainingCars()))),n(3),p(c(10,7,"cars.approachingLimitDescription")),n(2),v("aria-label","Consider upgrading your plan to add more vehicles"),n(),u(" ",c(13,9,"tiers.considerUpgrade")," ")}}function It(o,i){if(o&1){let e=B();r(0,"div",75)(1,"div",69),M(),r(2,"svg",76),b(3,"path",77),a(),O(),r(4,"div",3)(5,"h4",78),l(6),d(7,"translate"),a(),r(8,"p",79),l(9),d(10,"translate"),a()(),r(11,"button",80),g("click",function(){w(e);let s=f();return y(s.onUpgradeRequested())}),l(12),d(13,"translate"),a()()()}if(o&2){let e=f();n(6),p(c(7,4,"cars.limitReached")),n(3),p($(10,6,"cars.limitReachedDescription",de(11,kt,e.carLimit(),e.currentTier()))),n(2),v("aria-label","Upgrade your plan to add more vehicles"),n(),u(" ",c(13,9,"tiers.upgradeNow")," ")}}function Ft(o,i){if(o&1&&(r(0,"option",41),l(1),a()),o&2){let e=i.$implicit;_("value",e),n(),p(e)}}function Lt(o,i){if(o&1&&(r(0,"option",41),l(1),a()),o&2){let e=i.$implicit;_("value",e),n(),p(e)}}function Bt(o,i){if(o&1){let e=B();r(0,"div",56)(1,"span",81),l(2),d(3,"translate"),a(),r(4,"button",82),g("click",function(){w(e);let s=f();return y(s.clearFilters())}),l(5),d(6,"translate"),a()()}o&2&&(n(2),u(" ",c(3,3,"common.filtersActive")," "),n(2),v("aria-label","Clear all active filters"),n(),u(" ",c(6,5,"common.clear")," "))}function Vt(o,i){o&1&&(r(0,"div",83)(1,"h3",84),l(2),d(3,"translate"),a(),r(4,"div",85)(5,"div",86)(6,"span",87),l(7),d(8,"translate"),a(),r(9,"span",88),l(10),d(11,"translate"),a()(),r(12,"div",86)(13,"span",89),l(14),d(15,"translate"),a(),r(16,"span",88),l(17),d(18,"translate"),a()(),r(19,"div",86)(20,"span",90),l(21),d(22,"translate"),a(),r(23,"span",88),l(24),d(25,"translate"),a()(),r(26,"div",86)(27,"span",91),l(28),d(29,"translate"),a(),r(30,"span",88),l(31),d(32,"translate"),a()()()()),o&2&&(n(2),p(c(3,9,"cars.statusLegend")),n(5),p(c(8,11,"cars.upToDate")),n(3),p(c(11,13,"cars.maintenanceIsCurrent")),n(4),p(c(15,15,"cars.dueSoon")),n(3),p(c(18,17,"cars.serviceNeededWithin7Days")),n(4),p(c(22,19,"cars.overdue")),n(3),p(c(25,21,"cars.serviceIsPastDue")),n(4),p(c(29,23,"cars.unknown")),n(3),p(c(32,25,"cars.statusInformationUnavailable")))}function At(o,i){o&1&&(r(0,"div",92),b(1,"div",93),r(2,"p",94),l(3),d(4,"translate"),a()()),o&2&&(n(3),p(c(4,1,"cars.loadingCars")))}function Nt(o,i){if(o&1){let e=B();r(0,"div",95)(1,"div",96),M(),r(2,"svg",97),b(3,"path",98),a()(),O(),r(4,"h3",99),l(5),d(6,"translate"),a(),r(7,"p",100),l(8),d(9,"translate"),a(),r(10,"button",101),g("click",function(){w(e);let s=f();return y(s.clearFilters())}),M(),r(11,"svg",102),b(12,"path",103),a(),l(13),d(14,"translate"),a()()}o&2&&(n(5),p(c(6,3,"cars.noCarsFound")),n(3),p(c(9,5,"cars.noCarsMatchFilters")),n(5),u(" ",c(14,7,"common.clearFilters")," "))}function Dt(o,i){if(o&1){let e=B();r(0,"div",106),g("keydown",function(s){let m=w(e).$implicit,S=f(2);return y(S.onCarKeyDown(s,m))}),r(1,"app-car-card",107),g("carSelected",function(s){w(e);let m=f(2);return y(m.onCarSelect(s))})("scheduleService",function(s){w(e);let m=f(2);return y(m.onScheduleService(s))})("viewHistory",function(s){w(e);let m=f(2);return y(m.onViewHistory(s))}),a()()}if(o&2){let e=i.$implicit,t=i.$index,s=f(2);v("aria-rowindex",t+1)("tabindex",0),n(),_("car",e)("customerName",s.getCustomerName(e.customerId))}}function Rt(o,i){if(o&1&&(r(0,"div",104),A(1,Dt,2,4,"div",105,St),a()),o&2){let e=f();v("aria-label","Vehicle list containing "+e.filteredCars().length+" vehicles")("aria-rowcount",e.filteredCars().length),n(),N(e.filteredCars())}}function Ht(o,i){if(o&1){let e=B();r(0,"app-car-registration-form",108),g("close",function(){w(e);let s=f();return y(s.closeRegistrationForm())})("carRegistered",function(s){w(e);let m=f();return y(m.onCarRegistered(s))}),a()}}function Ut(o,i){if(o&1){let e=B();r(0,"app-upgrade-prompt",109),g("close",function(){w(e);let s=f();return y(s.closeUpgradePrompt())})("upgrade",function(){w(e);let s=f();return y(s.onUpgradeRequested())}),a()}if(o&2){let e=f();_("isVisible",e.showUpgradePrompt())("config",de(2,Pt,e.getUpgradeMessage(),e.getNextTier()||void 0))}}var Ae=class o{carService=L(ee);subscriptionService=L(Z);languageService=L(Ve);router=L(ve);cars=T([]);subscriptionStatus=T(null);isLoading=T(!1);showRegistrationForm=T(!1);showUpgradePrompt=T(!1);searchQuery=T("");selectedMake=T("all");selectedStatus=T("all");showMobileFilters=T(!1);availableMakes=I(()=>this.carService.getAvailableMakes());currentCarCount=I(()=>this.cars().length);carLimit=I(()=>this.subscriptionStatus()?.currentTier.limits.cars);currentTier=I(()=>this.subscriptionStatus()?.currentTier.name||"");isAtCarLimit=I(()=>{let i=this.carLimit(),e=this.currentCarCount();return typeof i=="number"&&e>=i});isNearLimit=I(()=>{let i=this.carLimit(),e=this.currentCarCount();return typeof i=="number"&&e>=i*.9});remainingCars=I(()=>{let i=this.carLimit(),e=this.currentCarCount();return i?Math.max(0,i-e):null});carLimitDisplay=I(()=>{let i=this.formatNumber(this.currentCarCount()),e=this.carLimit(),t=e?this.formatNumber(e):"\u221E";return`${i}/${t}`});getUsagePercentage=I(()=>{let i=this.currentCarCount(),e=this.carLimit();return e?Math.round(i/e*100):0});hasActiveFilters=I(()=>this.searchQuery()!==""||this.selectedMake()!=="all"||this.selectedStatus()!=="all");filteredCars=I(()=>{let i=[...this.cars()],e=this.searchQuery().toLowerCase();return e&&(i=i.filter(t=>t.licensePlate.toLowerCase().includes(e)||t.make.toLowerCase().includes(e)||t.model.toLowerCase().includes(e)||this.getCustomerName(t.customerId).toLowerCase().includes(e))),this.selectedMake()!=="all"&&(i=i.filter(t=>t.make===this.selectedMake())),this.selectedStatus()!=="all"&&(i=i.filter(t=>t.serviceStatus===this.selectedStatus())),i});statusCounts=I(()=>({total:this.cars().length,upToDate:this.cars().filter(i=>i.serviceStatus==="up-to-date").length,dueSoon:this.cars().filter(i=>i.serviceStatus==="due-soon").length,overdue:this.cars().filter(i=>i.serviceStatus==="overdue").length}));ngOnInit(){this.loadCars(),this.loadSubscriptionStatus()}loadCars(){this.isLoading.set(!0),this.carService.getCars().subscribe({next:i=>{this.cars.set(i),this.isLoading.set(!1)},error:i=>{console.error("Failed to load cars:",i),this.isLoading.set(!1)}})}loadSubscriptionStatus(){this.subscriptionService.getCurrentSubscriptionStatus().subscribe({next:i=>{this.subscriptionStatus.set(i)},error:i=>{console.error("Failed to load subscription status:",i)}})}getCustomerName(i){let e=this.carService.getCustomerById(i);return e?e.name:"Unknown Customer"}getStatusColor(i){return{"up-to-date":"text-green-600","due-soon":"text-amber-600",overdue:"text-red-600"}[i]||"text-gray-600"}getStatusBadgeClass(i){return{"up-to-date":"badge badge-up-to-date","due-soon":"badge badge-due-soon",overdue:"badge badge-overdue"}[i]||"badge badge-unknown"}onSearchChange(i){let e=i.target;this.searchQuery.set(e.value)}onMakeChange(i){let e=i.target;this.selectedMake.set(e.value)}onStatusChange(i){let e=i.target;this.selectedStatus.set(e.value)}setStatusFilter(i){this.selectedStatus.set(i)}onStatKeyDown(i,e){(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),this.setStatusFilter(e))}toggleMobileFilters(){let i=this.showMobileFilters();this.showMobileFilters.set(!i)}clearFilters(){this.searchQuery.set(""),this.selectedMake.set("all"),this.selectedStatus.set("all")}onCarSelect(i){console.log("Selected car:",i)}onScheduleService(i){this.router.navigate(["/appointments"],{queryParams:{carId:i.id,licensePlate:i.licensePlate,make:i.make,model:i.model,customerId:i.customerId}})}onViewHistory(i){this.router.navigate(["/maintenance"],{queryParams:{carId:i.id,filter:"history"}})}openRegistrationForm(){if(this.isAtCarLimit()){this.showUpgradePrompt.set(!0);return}this.showRegistrationForm.set(!0)}closeRegistrationForm(){this.showRegistrationForm.set(!1)}onCarRegistered(i){this.loadCars(),this.showRegistrationForm.set(!1)}closeUpgradePrompt(){this.showUpgradePrompt.set(!1)}onUpgradeRequested(i){this.router.navigate(["/subscription"]),this.showUpgradePrompt.set(!1)}getUpgradeMessage(){let i=this.subscriptionStatus()?.currentTier,e=this.currentCarCount(),t=this.carLimit();return!i||!t?"":i.id==="solo"?`Your Solo plan allows up to ${t} vehicles. You currently have ${e}. Upgrade to Starter to manage up to 200 vehicles.`:i.id==="starter"?`Your Starter plan allows up to ${t} vehicles. You currently have ${e}. Upgrade to Professional for unlimited vehicles.`:"Upgrade your plan to add more vehicles."}getNextTier(){let i=this.subscriptionStatus()?.currentTier.id;return i==="solo"?"starter":i==="starter"?"professional":null}getTierBadgeClass(){switch(this.subscriptionStatus()?.currentTier.id){case"solo":return"badge badge-tier-solo";case"starter":return"badge badge-tier-starter";case"professional":return"badge badge-tier-professional";default:return"badge badge-info"}}onCarKeyDown(i,e){switch(i.key){case"Enter":case" ":i.preventDefault(),this.onCarSelect(e);break;case"s":case"S":!i.ctrlKey&&!i.metaKey&&(i.preventDefault(),this.onScheduleService(e));break;case"h":case"H":!i.ctrlKey&&!i.metaKey&&(i.preventDefault(),this.onViewHistory(e));break;case"ArrowDown":case"ArrowUp":case"ArrowLeft":case"ArrowRight":this.handleArrowNavigation(i);break}}handleArrowNavigation(i){i.preventDefault();let e=document.querySelectorAll('.car-grid-item[tabindex="0"]'),t=Array.from(e).findIndex(S=>S===document.activeElement);if(t===-1)return;let s=t,m=this.getItemsPerRow();switch(i.key){case"ArrowRight":s=Math.min(t+1,e.length-1);break;case"ArrowLeft":s=Math.max(t-1,0);break;case"ArrowDown":s=Math.min(t+m,e.length-1);break;case"ArrowUp":s=Math.max(t-m,0);break}e[s].focus()}getItemsPerRow(){let i=window.innerWidth;return i<768?1:i<1024||i<1280?2:3}formatNumber(i){let e=this.languageService.getCurrentLanguage(),s={en:"en-US",fr:"fr-FR",ar:"en-US"}[e]||"en-US";try{return new Intl.NumberFormat(s).format(i)}catch{return i.toLocaleString()}}formatNumbersInStatusCounts(){let i=this.statusCounts();return{total:this.formatNumber(i.total),upToDate:this.formatNumber(i.upToDate),dueSoon:this.formatNumber(i.dueSoon),overdue:this.formatNumber(i.overdue)}}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=H({type:o,selectors:[["app-cars"]],decls:150,vars:151,consts:[[1,"cars-container","p-4","lg:p-8"],["role","banner",1,"glass-card","cars-header"],[1,"flex","flex-col","lg:flex-row","justify-between","items-start","lg:items-center","gap-4"],[1,"flex-1"],["id","page-title",1,"text-3xl","font-bold","text-white","mb-1"],["aria-describedby","page-title",1,"text-gray-300"],[1,"mt-3","space-y-3"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-2"],[1,"text-sm","text-white"],[1,"count-badge","text-sm","font-semibold","px-2","py-1","rounded-full","bg-gray-100"],[3,"ngClass"],[1,"w-full"],[1,"text-xs","text-gray-400","flex","items-center","gap-1"],[1,"flex","flex-col","lg:flex-row","lg:items-center","gap-3","items-start"],[1,"relative","w-full","lg:w-auto"],["for","car-search",1,"sr-only"],["id","car-search","type","text","role","searchbox",1,"search-input","w-full",3,"input","placeholder","value"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","w-4","h-4","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","button",1,"btn-primary",3,"click","disabled"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],["id","limit-warning-notice","class","limit-warning glass-card bg-amber-900/20 border-l-4 border-amber-500","role","alert","aria-live","polite",4,"ngIf"],["id","limit-reached-notice","class","limit-reached-notice glass-card bg-red-900/20 border-l-4 border-red-500","role","alert","aria-live","assertive","aria-atomic","true",4,"ngIf"],["aria-labelledby","stats-heading",1,"glass-card","stats-nav"],["id","stats-heading",1,"sr-only"],["role","group","aria-label","Vehicle statistics summary",1,"grid","grid-cols-2","lg:grid-cols-4","gap-3"],["role","button","tabindex","0",1,"text-center",3,"click","keydown"],["aria-hidden","true",1,"text-2xl","font-bold","text-white"],[1,"text-xs","text-gray-400"],["aria-hidden","true",1,"text-2xl","font-bold","text-green-400"],["aria-hidden","true",1,"text-2xl","font-bold","text-amber-400"],["aria-hidden","true",1,"text-2xl","font-bold","text-red-400"],["type","button",1,"filter-toggle","lg:hidden",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"],["id","mobile-filters-panel"],[1,"p-4"],[1,"grid","grid-cols-1","gap-4"],[1,"filter-select",3,"change","value"],["value","all"],[3,"value"],["value","up-to-date"],["value","due-soon"],["value","overdue"],[1,"btn-clear-filters",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"desktop-filters-panel","glass-card","hidden","lg:block"],[1,"flex","items-center","gap-4","p-4"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"w-5","h-5","text-blue-400"],[1,"text-sm","font-medium","text-gray-300"],[1,"flex","items-center","gap-4","flex-1"],["for","make-filter-desktop",1,"text-sm","text-gray-400","whitespace-nowrap"],["id","make-filter-desktop",1,"filter-select-desktop",3,"change","value"],["for","status-filter-desktop",1,"text-sm","text-gray-400","whitespace-nowrap"],["id","status-filter-desktop",1,"filter-select-desktop",3,"change","value"],[1,"flex","items-center","gap-2","ml-4"],[1,"cars-main"],["class","glass-card status-legend",4,"ngIf"],["class","flex flex-col items-center justify-center py-12",4,"ngIf"],["class","glass-card empty-state",4,"ngIf"],["class","cars-grid","role","grid",4,"ngIf"],[3,"isVisible","config"],[1,"flex","items-center","justify-between","text-xs","text-white","mb-1"],[1,"w-full","bg-gray-700","rounded-full","h-2","overflow-hidden"],["role","progressbar",1,"progress-bar","h-full","rounded-full","transition-all","duration-300","ease-out"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4","text-green-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["id","limit-warning-notice","role","alert","aria-live","polite",1,"limit-warning","glass-card","bg-amber-900/20","border-l-4","border-amber-500"],[1,"flex","items-center","gap-3","p-4"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"w-6","h-6","text-amber-500","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z"],[1,"text-amber-200","font-medium"],[1,"text-amber-300","text-sm","mt-1"],["type","button",1,"btn-secondary","btn-sm",3,"click"],["id","limit-reached-notice","role","alert","aria-live","assertive","aria-atomic","true",1,"limit-reached-notice","glass-card","bg-red-900/20","border-l-4","border-red-500"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"w-6","h-6","text-red-500","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9z"],[1,"text-red-200","font-semibold"],[1,"text-red-300","text-sm","mt-1"],["type","button",1,"btn-primary",3,"click"],[1,"text-xs","px-2","py-1","bg-blue-600","text-blue-100","rounded-full","font-medium"],[1,"text-xs","text-blue-400","hover:text-blue-300","transition-colors",3,"click"],[1,"glass-card","status-legend"],[1,"legend-title"],[1,"legend-items"],[1,"legend-item"],[1,"legend-badge","badge","badge-up-to-date"],[1,"legend-text"],[1,"legend-badge","badge","badge-due-soon"],[1,"legend-badge","badge","badge-overdue"],[1,"legend-badge","badge","badge-unknown"],[1,"flex","flex-col","items-center","justify-center","py-12"],[1,"loading-spinner"],[1,"mt-4","text-gray-400"],[1,"glass-card","empty-state"],[1,"mb-4"],["fill","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","mx-auto","text-gray-500"],["d","M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.22.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"],[1,"text-lg","font-semibold","text-white","mb-2"],[1,"text-gray-400","mb-6"],[1,"flex","items-center","gap-2","px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],["role","grid",1,"cars-grid"],["role","gridcell",1,"car-grid-item"],["role","gridcell",1,"car-grid-item",3,"keydown"],[3,"carSelected","scheduleService","viewHistory","car","customerName"],[3,"close","carRegistered"],[3,"close","upgrade","isVisible","config"]],template:function(e,t){e&1&&(r(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"h1",4),l(5),d(6,"translate"),a(),r(7,"p",5),l(8),d(9,"translate"),a(),r(10,"div",6)(11,"div",7)(12,"div",8)(13,"span",9),l(14),d(15,"translate"),a(),r(16,"span",10),l(17),a()(),r(18,"div",8)(19,"span",9),l(20),d(21,"translate"),a(),r(22,"span",11),l(23),a()()(),h(24,Ot,9,16,"div",12)(25,Et,5,3,"div",13),a()(),r(26,"div",14)(27,"div",15)(28,"label",16),l(29),d(30,"translate"),d(31,"translate"),a(),r(32,"input",17),d(33,"translate"),g("input",function(m){return t.onSearchChange(m)}),a(),M(),r(34,"svg",18),b(35,"path",19),a()(),O(),r(36,"button",20),g("click",function(){return t.openRegistrationForm()}),M(),r(37,"svg",21),b(38,"path",22),a(),O(),r(39,"span"),l(40),d(41,"translate"),a()()()()(),oe(42,Tt,14,13,"div",23)(43,It,14,14,"div",24),r(44,"section",25)(45,"h2",26),l(46),d(47,"translate"),a(),r(48,"div",27)(49,"div",28),g("click",function(){return t.setStatusFilter("all")})("keydown",function(m){return t.onStatKeyDown(m,"all")}),r(50,"div",29),l(51),a(),r(52,"div",30),l(53),d(54,"translate"),a()(),r(55,"div",28),g("click",function(){return t.setStatusFilter("up-to-date")})("keydown",function(m){return t.onStatKeyDown(m,"up-to-date")}),r(56,"div",31),l(57),a(),r(58,"div",30),l(59),d(60,"translate"),a()(),r(61,"div",28),g("click",function(){return t.setStatusFilter("due-soon")})("keydown",function(m){return t.onStatKeyDown(m,"due-soon")}),r(62,"div",32),l(63),a(),r(64,"div",30),l(65),d(66,"translate"),a()(),r(67,"div",28),g("click",function(){return t.setStatusFilter("overdue")})("keydown",function(m){return t.onStatKeyDown(m,"overdue")}),r(68,"div",33),l(69),a(),r(70,"div",30),l(71),d(72,"translate"),a()()()(),r(73,"button",34),g("click",function(){return t.toggleMobileFilters()}),M(),r(74,"svg",21),b(75,"path",35),a(),O(),r(76,"span"),l(77),d(78,"translate"),a()(),r(79,"div",36)(80,"div",37)(81,"div",38)(82,"select",39),g("change",function(m){return t.onMakeChange(m)}),r(83,"option",40),l(84),d(85,"translate"),a(),A(86,Ft,2,2,"option",41,le),a(),r(88,"select",39),g("change",function(m){return t.onStatusChange(m)}),r(89,"option",40),l(90),d(91,"translate"),a(),r(92,"option",42),l(93),d(94,"translate"),a(),r(95,"option",43),l(96),d(97,"translate"),a(),r(98,"option",44),l(99),d(100,"translate"),a()(),r(101,"button",45),g("click",function(){return t.clearFilters()}),M(),r(102,"svg",21),b(103,"path",46),a(),l(104),d(105,"translate"),a()()()(),O(),r(106,"div",47)(107,"div",48)(108,"div",8),M(),r(109,"svg",49),b(110,"path",35),a(),O(),r(111,"span",50),l(112),d(113,"translate"),a()(),r(114,"div",51)(115,"div",8)(116,"label",52),l(117),d(118,"translate"),a(),r(119,"select",53),g("change",function(m){return t.onMakeChange(m)}),r(120,"option",40),l(121),d(122,"translate"),a(),A(123,Lt,2,2,"option",41,le),a()(),r(125,"div",8)(126,"label",54),l(127),d(128,"translate"),a(),r(129,"select",55),g("change",function(m){return t.onStatusChange(m)}),r(130,"option",40),l(131),d(132,"translate"),a(),r(133,"option",42),l(134),d(135,"translate"),a(),r(136,"option",43),l(137),d(138,"translate"),a(),r(139,"option",44),l(140),d(141,"translate"),a()()(),h(142,Bt,7,7,"div",56),a()()(),r(143,"main",57),oe(144,Vt,33,27,"div",58)(145,At,5,3,"div",59)(146,Nt,15,9,"div",60)(147,Rt,3,2,"div",61),a(),h(148,Ht,1,0,"app-car-registration-form"),h(149,Ut,1,5,"app-upgrade-prompt",62),a()),e&2&&(n(5),p(c(6,95,"cars.vehicleDatabase")),n(3),p(c(9,97,"cars.subtitle")),n(6),u("",c(15,99,"cars.vehicles"),":"),n(2),P("text-amber-600",t.isNearLimit()&&!t.isAtCarLimit())("text-red-600",t.isAtCarLimit())("text-gray-700",!t.isNearLimit()&&!t.isAtCarLimit())("text-amber-400",t.isNearLimit()&&!t.isAtCarLimit())("text-red-400",t.isAtCarLimit())("text-gray-300",!t.isNearLimit()&&!t.isAtCarLimit()),v("aria-label","Current vehicle count: "+t.carLimitDisplay()),n(),u(" ",t.carLimitDisplay()," "),n(3),u("",c(21,101,"tiers.plan"),":"),n(2),_("ngClass",t.getTierBadgeClass()),v("aria-label","Current subscription tier: "+t.currentTier()),n(),u(" ",t.currentTier()," "),n(),C(t.carLimit()?24:25),n(5),j("",c(30,103,"common.search")," ",c(31,105,"cars.vehicles")),n(3),_("placeholder",c(33,107,"common.search"))("value",t.searchQuery()),v("aria-label","Search vehicles by license plate, make, model, or customer name")("aria-describedby",t.hasActiveFilters()?"active-filters-notice":null),n(4),P("opacity-50",t.isAtCarLimit())("cursor-not-allowed",t.isAtCarLimit()),_("disabled",t.isAtCarLimit()),v("aria-label",t.isAtCarLimit()?"Cannot add vehicle - limit of "+t.carLimit()+" reached":"Add new vehicle to database")("aria-describedby",t.isAtCarLimit()?"limit-reached-notice":null),n(4),p(c(41,109,"cars.addVehicle")),n(2),_("ngIf",t.isNearLimit()&&!t.isAtCarLimit()),n(),_("ngIf",t.isAtCarLimit()),n(3),p(c(47,111,"cars.vehicleStatistics")),n(3),v("aria-label","Total vehicles: "+t.statusCounts().total+", click to view all")("aria-pressed",t.selectedStatus()==="all"),n(2),p(t.formatNumber(t.statusCounts().total)),n(2),p(c(54,113,"cars.totalCars")),n(2),v("aria-label","Up to date vehicles: "+t.statusCounts().upToDate+", click to filter")("aria-pressed",t.selectedStatus()==="up-to-date"),n(2),p(t.formatNumber(t.statusCounts().upToDate)),n(2),p(c(60,115,"cars.upToDate")),n(2),v("aria-label","Due soon vehicles: "+t.statusCounts().dueSoon+", click to filter")("aria-pressed",t.selectedStatus()==="due-soon"),n(2),p(t.formatNumber(t.statusCounts().dueSoon)),n(2),p(c(66,117,"cars.dueSoon")),n(2),v("aria-label","Overdue vehicles: "+t.statusCounts().overdue+", click to filter")("aria-pressed",t.selectedStatus()==="overdue"),n(2),p(t.formatNumber(t.statusCounts().overdue)),n(2),p(c(72,119,"cars.overdue")),n(2),P("active",t.showMobileFilters()),v("aria-expanded",t.showMobileFilters())("aria-controls","mobile-filters-panel"),n(4),p(c(78,121,"common.filters")),n(2),he("filters-panel lg:hidden"+(t.showMobileFilters()?" open":"")),se("display",(t.showMobileFilters(),"block")),v("aria-hidden",!t.showMobileFilters()),n(3),_("value",t.selectedMake()),v("aria-label","Filter by vehicle make"),n(2),p(c(85,123,"cars.allMakes")),n(2),N(t.availableMakes()),n(2),_("value",t.selectedStatus()),v("aria-label","Filter by service status"),n(2),p(c(91,125,"cars.allStatus")),n(3),p(c(94,127,"cars.upToDate")),n(3),p(c(97,129,"cars.dueSoon")),n(3),p(c(100,131,"cars.overdue")),n(2),v("aria-label","Clear all active filters"),n(3),u(" ",c(105,133,"common.clearFilters")," "),n(8),u("",c(113,135,"common.filters"),":"),n(5),u("",c(118,137,"cars.make"),":"),n(2),_("value",t.selectedMake()),v("aria-label","Filter by vehicle make"),n(2),p(c(122,139,"cars.allMakes")),n(2),N(t.availableMakes()),n(4),u("",c(128,141,"cars.status"),":"),n(2),_("value",t.selectedStatus()),v("aria-label","Filter by service status"),n(2),p(c(132,143,"cars.allStatus")),n(3),p(c(135,145,"cars.upToDate")),n(3),p(c(138,147,"cars.dueSoon")),n(3),p(c(141,149,"cars.overdue")),n(2),C(t.hasActiveFilters()?142:-1),n(2),_("ngIf",!t.isLoading()&&t.filteredCars().length>0),n(),_("ngIf",t.isLoading()),n(),_("ngIf",!t.isLoading()&&t.filteredCars().length===0),n(),_("ngIf",!t.isLoading()&&t.filteredCars().length>0),n(),C(t.showRegistrationForm()?148:-1),n(),C(t.showUpgradePrompt()?149:-1))},dependencies:[U,W,Ce,Le,Q,X,_e,te,ne,z,ae],styles:[`.cars-container[_ngcontent-%COMP%]{min-height:100vh;background:transparent}.glass-card[_ngcontent-%COMP%]{background:#111827f2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(75,85,99,.6);border-radius:20px;padding:1.5rem;box-shadow:0 8px 32px #000000b3;transition:all .3s cubic-bezier(.4,0,.2,1);margin-bottom:1rem}.glass-card[_ngcontent-%COMP%]:hover{background:#1f2937fa;box-shadow:0 12px 40px #000c;border-color:#3b82f6b3;transform:translateY(-2px)}.cars-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff}.cars-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#d1d5db}.search-input[_ngcontent-%COMP%]{width:100%;min-width:200px;padding:.75rem 1rem .75rem 2.5rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#1f2937b3;border:1px solid rgba(255,255,255,.1);border-radius:12px;font-size:.875rem;transition:all .2s ease;color:#fff}@media (max-width: 640px){.search-input[_ngcontent-%COMP%]{min-width:0;width:100%}}.search-input[_ngcontent-%COMP%]:focus{outline:none;background:#1f2937e6;border-color:#3b82f680;box-shadow:0 0 0 3px #3b82f61a}.search-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.add-btn[_ngcontent-%COMP%], .mobile-fab[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);background:linear-gradient(135deg,#3b82f6cc,#1d4ed8cc);border:1px solid rgba(59,130,246,.3);border-radius:12px;color:#fff;padding:.75rem 1rem;display:flex;align-items:center;gap:.5rem;transition:all .2s ease;font-weight:600}.add-btn[_ngcontent-%COMP%]:hover, .mobile-fab[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3b82f6e6,#1d4ed8e6);transform:translateY(-1px)}.stats-nav[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]:first-child   .text-2xl[_ngcontent-%COMP%]{color:#fff!important}.stats-nav[_ngcontent-%COMP%]   .text-xs[_ngcontent-%COMP%]{color:#d1d5db!important}.stats-nav[_ngcontent-%COMP%]   [role=button][_ngcontent-%COMP%]{cursor:pointer;border-radius:12px;padding:.75rem;transition:all .2s ease;outline:none}.stats-nav[_ngcontent-%COMP%]   [role=button][_ngcontent-%COMP%]:hover{background:#3b82f61a;transform:translateY(-1px)}.stats-nav[_ngcontent-%COMP%]   [role=button][_ngcontent-%COMP%]:focus{background:#3b82f626;outline:2px solid #3b82f6;outline-offset:2px;box-shadow:0 0 0 4px #3b82f61a}.stats-nav[_ngcontent-%COMP%]   [role=button][_ngcontent-%COMP%]:focus-visible{background:#3b82f626;outline:2px solid #3b82f6;outline-offset:2px;box-shadow:0 0 0 4px #3b82f61a}.stats-nav[_ngcontent-%COMP%]   [role=button][_ngcontent-%COMP%]:active{background:#3b82f633;transform:translateY(0)}.filter-toggle[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;font-size:.875rem;color:#d1d5db;background:#1f293799;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;transition:all .2s ease;margin-bottom:.75rem}.filter-toggle[_ngcontent-%COMP%]:hover{background:#1f2937cc}.filter-toggle.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6cc,#1d4ed8cc)!important;border-color:#3b82f680!important;color:#fff!important;box-shadow:0 4px 15px #3b82f64d}.filter-toggle.active[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3b82f6e6,#1d4ed8e6)!important;transform:translateY(-1px);box-shadow:0 6px 20px #3b82f666}.filters-panel[_ngcontent-%COMP%]{background:#111827e6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(75,85,99,.4);border-radius:20px;box-shadow:0 8px 32px #00000080;transition:all .3s cubic-bezier(.4,0,.2,1);margin-bottom:1rem;max-height:0!important;overflow:hidden;opacity:0;transform:translateY(-10px)}.filters-panel.open[_ngcontent-%COMP%]{max-height:400px!important;opacity:1!important;transform:translateY(0)!important}.filters-panel.open[_ngcontent-%COMP%]:hover{background:#1f2937f2;box-shadow:0 12px 40px #0009}.filter-select[_ngcontent-%COMP%]{width:100%;padding:.75rem 2.5rem .75rem .75rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#1f2937b3;border:1px solid rgba(255,255,255,.1);border-radius:12px;font-size:.875rem;transition:all .2s ease;color:#fff;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:1rem}.filter-select[_ngcontent-%COMP%]:focus{outline:none;background:#1f2937e6;border-color:#3b82f680;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:1rem}.filter-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#374151;color:#fff}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   .text-gray-900[_ngcontent-%COMP%]{color:#fff!important}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   .text-gray-600[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   .text-gray-400[_ngcontent-%COMP%]{color:#d1d5db!important}.status-legend[_ngcontent-%COMP%]{background:#11182799!important;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:1rem;margin-bottom:1rem;box-shadow:0 4px 16px #0000004d;transition:all .3s cubic-bezier(.4,0,.2,1)}.status-legend[_ngcontent-%COMP%]:hover{background:#1f2937b3!important;transform:translateY(-1px);box-shadow:0 6px 20px #0006}.legend-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#fff;margin:0 0 .75rem;display:flex;align-items:center;gap:.5rem}.legend-title[_ngcontent-%COMP%]:before{content:"";width:4px;height:1rem;background:linear-gradient(135deg,#3b82f6,#1d4ed8);border-radius:2px}.legend-items[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:.75rem}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.legend-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:12px;font-size:.75rem;font-weight:600;border:1px solid;white-space:nowrap}.legend-text[_ngcontent-%COMP%]{font-size:.875rem;color:#d1d5db;flex:1}.loading-spinner[_ngcontent-%COMP%]{width:2rem;height:2rem;border:3px solid rgba(59,130,246,.3);border-top:3px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cars-grid[_ngcontent-%COMP%]{display:grid;gap:1rem;margin:0;padding:0;grid-template-columns:1fr}@media (min-width: 375px){.cars-grid[_ngcontent-%COMP%]{gap:1rem;grid-template-columns:1fr}}@media (min-width: 390px){.cars-grid[_ngcontent-%COMP%]{gap:1.25rem}}@media (min-width: 768px){.cars-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1.5rem}}@media (min-width: 1024px){.cars-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1.5rem}}@media (min-width: 1280px){.cars-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:2rem}}@media (min-width: 1536px){.cars-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:2rem}}.car-grid-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;min-height:0;outline:none;border-radius:20px;transition:all .3s cubic-bezier(.4,0,.2,1)}.car-grid-item[_ngcontent-%COMP%]:focus{outline:2px solid #3b82f6;outline-offset:2px}.car-grid-item[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3b82f6;outline-offset:2px;box-shadow:0 0 0 4px #3b82f61a}.desktop-filters-panel[_ngcontent-%COMP%]{background:#111827f2!important;-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(75,85,99,.6);box-shadow:0 4px 20px #0000004d;transition:all .3s cubic-bezier(.4,0,.2,1)}.desktop-filters-panel[_ngcontent-%COMP%]:hover{background:#1f2937fa!important;transform:translateY(-1px);box-shadow:0 6px 25px #0006}.filter-select-desktop[_ngcontent-%COMP%]{min-width:140px;padding:.5rem 2rem .5rem .75rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#1f2937cc;border:1px solid rgba(255,255,255,.1);border-radius:8px;font-size:.875rem;transition:all .2s ease;color:#fff;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .5rem center;background-size:.875rem}.filter-select-desktop[_ngcontent-%COMP%]:focus{outline:none;background:#1f2937f2;border-color:#3b82f680;box-shadow:0 0 0 2px #3b82f61a;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .5rem center;background-size:.875rem}.filter-select-desktop[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#374151;color:#fff;padding:.5rem}[dir="rtl"][_nghost-%COMP%]   .search-input[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]{padding-left:1rem;padding-right:2.5rem}[dir="rtl"][_nghost-%COMP%]   .search-input[_ngcontent-%COMP%] + svg[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%] + svg[_ngcontent-%COMP%]{left:auto;right:.75rem}[dir="rtl"][_nghost-%COMP%]   .cars-header[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .cars-header[_ngcontent-%COMP%]{direction:rtl}[dir="rtl"][_nghost-%COMP%]   .cars-header[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .cars-header[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{flex-direction:row-reverse}[dir="rtl"][_nghost-%COMP%]   .stats-nav[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .stats-nav[_ngcontent-%COMP%]{direction:rtl}[dir="rtl"][_nghost-%COMP%]   .filter-select[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .filter-select[_ngcontent-%COMP%], [dir="rtl"][_nghost-%COMP%]   .filter-select-desktop[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .filter-select-desktop[_ngcontent-%COMP%]{background-position:left .75rem center;padding-left:2.5rem;padding-right:.75rem;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='18,9 12,15 6,9'%3e%3c/polyline%3e%3c/svg%3e")}[dir="rtl"][_nghost-%COMP%]   .desktop-filters-panel[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .desktop-filters-panel[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{flex-direction:row-reverse}[dir="rtl"][_nghost-%COMP%]   .desktop-filters-panel[_ngcontent-%COMP%]   .flex-1[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .desktop-filters-panel[_ngcontent-%COMP%]   .flex-1[_ngcontent-%COMP%]{flex-direction:row-reverse}[dir="rtl"][_nghost-%COMP%]   .limit-warning[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .limit-warning[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%], [dir="rtl"][_nghost-%COMP%]   .limit-reached-notice[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .limit-reached-notice[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{flex-direction:row-reverse}[dir="rtl"][_nghost-%COMP%]   .cars-grid[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .cars-grid[_ngcontent-%COMP%]{direction:rtl}`]})};export{Ae as CarsComponent};
