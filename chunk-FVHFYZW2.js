import{a as oe}from"./chunk-UJO3757W.js";import{a as U,b as re,c as z}from"./chunk-ECECQ7NF.js";import{$ as T,$a as x,Ab as p,Bb as q,Ca as B,Ea as J,Fb as h,Ha as _,L as K,N as V,Ra as E,U as y,Vb as te,Wb as ie,Xb as ne,Ya as u,Z as P,Za as a,_ as k,_a as o,aa as W,ab as F,ac as L,bb as M,cb as m,da as I,f as G,ga as S,hb as Q,ib as Z,ka as X,kb as s,lb as O,mb as d,nb as R,sa as n,va as Y,wa as D,xb as N,yb as ee,zb as l}from"./chunk-DMTVNCDT.js";function w(r){r||(r=y(I));let t=new G(e=>r.onDestroy(e.next.bind(e)));return e=>e.pipe(K(t))}function ae(r,t){let i=!t?.manualCleanup?t?.injector?.get(I)??y(I):null,c=ce(t?.equal),g;t?.requireSync?g=S({kind:0},{equal:c}):g=S({kind:1,value:t?.initialValue},{equal:c});let f,v=r.subscribe({next:b=>g.set({kind:1,value:b}),error:b=>{g.set({kind:2,error:b})},complete:()=>{f?.()}});if(t?.requireSync&&g().kind===0)throw new V(601,!1);return f=i?.onDestroy(v.unsubscribe.bind(v)),h(()=>{let b=g();switch(b.kind){case 1:return b.value;case 2:throw b.error;case 0:throw new V(601,!1)}},{equal:t?.equal})}function ce(r=Object.is){return(t,e)=>t.kind===1&&e.kind===1&&r(t.value,e.value)}var j=class r{tooltipText=null;position="top";delay=300;tooltipElement=null;showTimeout;elementRef=y(X);renderer=y(Y);languageService=y(U);onMouseEnter(){!this.tooltipText||this.tooltipText.trim()===""||(this.showTimeout&&clearTimeout(this.showTimeout),this.showTimeout=setTimeout(()=>{this.show()},this.delay))}onMouseLeave(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null),this.hide()}onClick(){this.hide()}ngOnDestroy(){this.showTimeout&&clearTimeout(this.showTimeout),this.hide()}show(){if(this.tooltipElement)return;this.tooltipElement=this.renderer.createElement("div"),this.renderer.addClass(this.tooltipElement,"tooltip-container"),this.renderer.addClass(this.tooltipElement,`tooltip-${this.position}`);let t=this.renderer.createText(this.tooltipText);this.renderer.appendChild(this.tooltipElement,t),this.renderer.appendChild(document.body,this.tooltipElement),this.positionTooltip();let e=this.elementRef.nativeElement;this.renderer.setAttribute(e,"aria-describedby","tooltip"),this.renderer.setAttribute(this.tooltipElement,"id","tooltip"),this.renderer.setAttribute(this.tooltipElement,"role","tooltip"),setTimeout(()=>{this.tooltipElement&&this.renderer.addClass(this.tooltipElement,"tooltip-visible")},10)}hide(){if(!this.tooltipElement)return;let t=this.elementRef.nativeElement;this.renderer.removeAttribute(t,"aria-describedby"),this.renderer.removeChild(document.body,this.tooltipElement),this.tooltipElement=null}positionTooltip(){if(!this.tooltipElement)return;let e=this.elementRef.nativeElement.getBoundingClientRect(),i=this.tooltipElement.getBoundingClientRect(),c=this.languageService.isRTL(),g=8,f=0,v=0,b=this.position;switch(c&&(b==="left"?b="right":b==="right"&&(b="left")),b){case"top":f=e.top-i.height-g,v=e.left+(e.width-i.width)/2;break;case"bottom":f=e.bottom+g,v=e.left+(e.width-i.width)/2;break;case"left":f=e.top+(e.height-i.height)/2,v=e.left-i.width-g;break;case"right":f=e.top+(e.height-i.height)/2,v=e.right+g;break}let H=window.innerWidth,A=window.innerHeight,C=8;v<C?v=C:v+i.width>H-C&&(v=H-i.width-C),f<C?f=C:f+i.height>A-C&&(f=A-i.height-C),this.renderer.setStyle(this.tooltipElement,"top",`${f+window.scrollY}px`),this.renderer.setStyle(this.tooltipElement,"left",`${v+window.scrollX}px`)}static \u0275fac=function(e){return new(e||r)};static \u0275dir=J({type:r,selectors:[["","appTooltip",""]],hostBindings:function(e,i){e&1&&M("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})("click",function(){return i.onClick()})},inputs:{tooltipText:[0,"appTooltip","tooltipText"],position:[0,"tooltipPosition","position"],delay:[0,"tooltipDelay","delay"]}})};var de=r=>({date:r}),ue=r=>({days:r}),ge=(r,t)=>({used:r,limit:t});function me(r,t){r&1&&(a(0,"div",5)(1,"div",6)(2,"div",7),x(3,"div",8)(4,"div",9)(5,"div",9),o()()())}function fe(r,t){if(r&1&&(a(0,"div",22)(1,"div",23)(2,"span",24),s(3),l(4,"translate"),o(),a(5,"span",25),s(6),l(7,"translate"),o()(),a(8,"div",26),x(9,"div",27),o(),a(10,"div",28),s(11),l(12,"translate"),l(13,"translate"),o()()),r&2){let e=t.$implicit,i=m(2);n(2),u("appTooltip",i.tooltipUsageLabels()),n(),d(" ",p(4,10,e.label)," "),n(3),R(" ",e.current," / ",e.limit===null?p(7,12,"subscription.unlimited"):e.limit," "),n(2),u("appTooltip",i.getUsageTooltip(e.percentage)),n(),Q("width",e.percentage,"%"),u("ngClass",i.getProgressClass(e.percentage)),n(),u("ngClass",i.getUsageTextClass(e.percentage)),n(),d(" ",q(13,16,"subscription.used",ee(19,ge,e.current,e.limit===null?p(12,14,"subscription.unlimited"):e.limit))," ")}}function be(r,t){if(r&1&&(a(0,"div",10)(1,"div",6)(2,"div",11)(3,"div",12)(4,"div",13),s(5),l(6,"translate"),o(),a(7,"div",14)(8,"h2",15),s(9),l(10,"translate"),o(),a(11,"p",16),s(12),l(13,"translate"),o()()(),a(14,"div",17)(15,"p",18),s(16),l(17,"translate"),o(),a(18,"p",19),s(19),l(20,"translate"),o()()(),a(21,"div",20),_(22,fe,14,22,"div",21),o()()()),r&2){let e=m();n(4),u("ngClass",e.getTierBadgeClass(e.subscriptionStatus().currentTier.id))("appTooltip",e.tooltipCurrentPlan()),n(),d(" ",p(6,14,e.subscriptionStatus().currentTier.name)," "),n(4),d(" ",p(10,16,"subscription.current_plan")," "),n(2),u("appTooltip",e.tooltipPriceInfo()),n(),R(" ",e.formatCurrency(e.subscriptionStatus().currentTier.price)," ",p(13,18,"subscription.per_year")," "),n(2),Z("rtl-align",e.isRtl()),n(2),d(" ",q(17,20,"subscription.next_billing",N(26,de,e.formatDate(e.subscriptionStatus().renewalDate)))," "),n(2),u("ngClass",e.getRenewalStatusClass(e.subscriptionStatus().daysUntilRenewal)),n(),d(" ",q(20,23,"subscription.days_left",N(28,ue,e.subscriptionStatus().daysUntilRenewal))," "),n(3),u("ngForOf",e.getUsageStats())("ngForTrackBy",e.trackByUsageType)}}function ve(r,t){r&1&&(T(),a(0,"svg",39),x(1,"path",40),o())}function _e(r,t){r&1&&(T(),a(0,"svg",39),x(1,"path",41),o())}function he(r,t){if(r&1&&(a(0,"div",42),s(1),o()),r&2){let e=m().$implicit,i=m(2);n(),d(" ",i.getUpgradeHintText(e.requiresUpgrade)," ")}}function xe(r,t){if(r&1&&(a(0,"div",33)(1,"div",34),_(2,ve,2,0,"svg",35)(3,_e,2,0,"svg",35),o(),a(4,"div",36)(5,"span",37),s(6),l(7,"translate"),o(),_(8,he,2,1,"div",38),o()()),r&2){let e=t.$implicit,i=m(2);u("ngClass",i.getFeatureItemClass(e)),n(),u("ngClass",i.getFeatureIconClass(e)),n(),u("ngIf",e.enabled),n(),u("ngIf",!e.enabled),n(3),O(p(7,6,"subscription.features."+e.key)),n(2),u("ngIf",!e.enabled&&e.requiresUpgrade)}}function Ce(r,t){if(r&1&&(a(0,"div",29)(1,"div",6)(2,"h3",30),s(3),l(4,"translate"),o(),a(5,"div",31),_(6,xe,9,8,"div",32),o()()()),r&2){let e=m();n(3),d(" ",p(4,3,"subscription.included_features")," "),n(3),u("ngForOf",e.subscriptionStatus().currentTier.features)("ngForTrackBy",e.trackByFeatureKey)}}function ye(r,t){r&1&&(a(0,"div",62),s(1),l(2,"translate"),o()),r&2&&(n(),d(" ",p(2,1,"subscription.most_popular")," "))}function we(r,t){r&1&&(T(),a(0,"svg",67),x(1,"path",40),o())}function Te(r,t){r&1&&(T(),a(0,"svg",68),x(1,"path",41),o())}function Se(r,t){if(r&1&&(a(0,"li",63)(1,"div",64),_(2,we,2,0,"svg",65)(3,Te,2,0,"svg",66),o(),s(4),l(5,"translate"),o()),r&2){let e=t.$implicit;u("ngClass",e.enabled?"enabled":"disabled"),n(),u("ngClass",e.enabled?"enabled":"disabled"),n(),u("ngIf",e.enabled),n(),u("ngIf",!e.enabled),n(),d(" ",p(5,5,"subscription.features."+e.key)," ")}}function Me(r,t){r&1&&(a(0,"div",69),s(1),l(2,"translate"),o()),r&2&&(n(),d(" ",p(2,1,"subscription.current_plan")," "))}function Oe(r,t){if(r&1){let e=F();a(0,"button",70),M("click",function(){P(e);let c=m().$implicit,g=m(2);return k(g.changeTier(c.id))}),s(1),o()}if(r&2){let e=m().$implicit,i=m(2);u("disabled",i.isLoading())("appTooltip",i.tooltipUpgradeButton()),E("aria-label",i.getUpgradeButtonText(e.id)),n(),d(" ",i.getUpgradeButtonText(e.id)," ")}}function Pe(r,t){if(r&1){let e=F();a(0,"button",71),l(1,"translate"),l(2,"translate"),M("click",function(){P(e);let c=m().$implicit,g=m(2);return k(g.changeTier(c.id))}),s(3),l(4,"translate"),l(5,"translate"),o()}if(r&2){let e=m().$implicit,i=m(2);u("disabled",i.isLoading()),E("aria-label",p(1,4,"subscription.downgrade_to")+" "+p(2,6,e.name)),n(3),R(" ",p(4,8,"subscription.downgrade_to")," ",p(5,10,e.name)," ")}}function ke(r,t){if(r&1){let e=F();a(0,"div",72)(1,"div",73),T(),a(2,"svg",74),x(3,"path",75),o(),W(),a(4,"span",76),s(5),l(6,"translate"),o()(),a(7,"button",77),M("click",function(){P(e);let c=m().$implicit,g=m(2);return k(g.showDowngradeBlockedDetails(c.id))}),s(8),l(9,"translate"),o()()}if(r&2){let e=m(3);u("appTooltip",e.tooltipDowngradeBlocked()),n(5),O(p(6,4,"subscription.downgrade_blocked")),n(2),u("appTooltip",e.tooltipWhyBlocked()),n(),d(" ",p(9,6,"subscription.why_blocked")," ")}}function Ie(r,t){if(r&1&&(a(0,"div",47)(1,"div",48)(2,"div",49),s(3),l(4,"translate"),o(),_(5,ye,3,3,"div",50),a(6,"div",51)(7,"span",52),s(8),o(),a(9,"span",53),s(10),l(11,"translate"),o()()(),a(12,"div",54)(13,"ul",55),_(14,Se,6,7,"li",56),o()(),a(15,"div",57),_(16,Me,3,3,"div",58)(17,Oe,2,4,"button",59)(18,Pe,6,12,"button",60)(19,ke,10,8,"div",61),o()()),r&2){let e=t.$implicit,i=m(2);u("ngClass",i.getTierCardClass(e)),n(2),u("ngClass",i.getTierBadgeClass(e.id)),n(),d(" ",p(4,12,e.name)," "),n(2),u("ngIf",e.popular),n(3),O(i.formatCurrency(e.price)),n(2),O(p(11,14,"subscription.per_year")),n(4),u("ngForOf",e.features.slice(0,5))("ngForTrackBy",i.trackByFeatureKey),n(2),u("ngIf",e.id===i.tierComparison().currentTierId),n(),u("ngIf",e.id!==i.tierComparison().currentTierId&&i.isUpgradeTier(e.id)),n(),u("ngIf",e.id!==i.tierComparison().currentTierId&&i.isDowngradeTier(e.id)&&i.canDowngradeToTier(e.id)),n(),u("ngIf",e.id!==i.tierComparison().currentTierId&&i.isDowngradeTier(e.id)&&!i.canDowngradeToTier(e.id))}}function De(r,t){if(r&1&&(a(0,"div",43)(1,"div",6)(2,"h3",44),s(3),l(4,"translate"),o(),a(5,"div",45),_(6,Ie,20,16,"div",46),o()()()),r&2){let e=m();n(3),d(" ",p(4,3,"subscription.compare_plans")," "),n(3),u("ngForOf",e.tierComparison().tiers)("ngForTrackBy",e.trackByTierId)}}var $=class r{constructor(t,e,i){this.subscriptionService=t;this.languageService=e;this.translationService=i;let c=ae(this.translationService.translations$,{initialValue:{}});this.tooltipCurrentPlan=h(()=>(c(),this.getTooltip("current_plan_badge"))),this.tooltipPriceInfo=h(()=>(c(),this.getTooltip("price_info"))),this.tooltipUsageLabels=h(()=>(c(),this.getTooltip("usage_labels"))),this.tooltipUpgradeButton=h(()=>(c(),this.getTooltip("upgrade_button"))),this.tooltipDowngradeBlocked=h(()=>(c(),this.getTooltip("downgrade_blocked_section"))),this.tooltipWhyBlocked=h(()=>(c(),this.getTooltip("why_blocked_button"))),this.loadSubscriptionData()}subscriptionStatus=S(null);tierComparison=S(null);tooltipCurrentPlan;tooltipPriceInfo;tooltipUsageLabels;tooltipUpgradeButton;tooltipDowngradeBlocked;tooltipWhyBlocked;isLoading=h(()=>this.subscriptionService.isLoading());isRtl=h(()=>this.languageService.isRTL());ngOnInit(){}loadSubscriptionData(){this.subscriptionService.getCurrentSubscriptionStatus().pipe(w()).subscribe(t=>{this.subscriptionStatus.set(t)}),this.subscriptionService.getTierComparison().pipe(w()).subscribe(t=>{this.tierComparison.set(t)})}upgradeTo(t){this.subscriptionService.upgradeTo(t).pipe(w()).subscribe(e=>{e&&this.loadSubscriptionData()})}changeTier(t){this.subscriptionService.canChangeTo(t).pipe(w()).subscribe(({canChange:e,reasons:i,isUpgrade:c})=>{e?this.subscriptionService.upgradeTo(t).pipe(w()).subscribe(g=>{g&&this.loadSubscriptionData()}):this.showChangeBlockedDialog(t,i,c)})}isUpgradeTier(t){let e=this.tierComparison();if(!e)return!1;let i=["solo","starter","professional"],c=i.indexOf(e.currentTierId);return i.indexOf(t)>c}isDowngradeTier(t){let e=this.tierComparison();if(!e)return!1;let i=["solo","starter","professional"],c=i.indexOf(e.currentTierId);return i.indexOf(t)<c}canDowngradeToTier(t){let e=this.subscriptionStatus();if(!e)return!1;let i=["solo","starter","professional"],c=this.getTargetTierLimits(t);return!(!c||c.users!==null&&e.usage.users>c.users||c.cars!==null&&e.usage.cars>c.cars||c.serviceBays!==null&&e.usage.serviceBays>c.serviceBays)}getTargetTierLimits(t){let e=this.tierComparison();return e&&e.tiers.find(c=>c.id===t)?.limits||null}showDowngradeBlockedDetails(t){this.subscriptionService.canDowngradeTo(t).pipe(w()).subscribe(({canDowngrade:e,reasons:i})=>{e||this.showDowngradeBlockedDialog(t,i)})}showChangeBlockedDialog(t,e,i){let c=i?"upgrade":"downgrade",g=e.map(f=>f).join(`
`);alert(`Cannot ${c} to ${t}:
${g}`)}showDowngradeBlockedDialog(t,e){let i=e.map(c=>c).join(`
`);alert(`Cannot downgrade to ${t}:
${i}`)}formatCurrency(t){return new Intl.NumberFormat("fr-TN",{style:"currency",currency:"TND",minimumFractionDigits:0}).format(t)}formatDate(t){return new Intl.DateTimeFormat(this.languageService.getCurrentLanguage(),{year:"numeric",month:"short",day:"numeric"}).format(t)}getUsageStats(){let t=this.subscriptionStatus();return t?[{type:"users",label:"subscription.usage.users",current:t.usage.users,limit:t.currentTier.limits.users,percentage:this.calculatePercentage(t.usage.users,t.currentTier.limits.users)},{type:"cars",label:"subscription.usage.cars",current:t.usage.cars,limit:t.currentTier.limits.cars,percentage:this.calculatePercentage(t.usage.cars,t.currentTier.limits.cars)},{type:"serviceBays",label:"subscription.usage.service_bays",current:t.usage.serviceBays,limit:t.currentTier.limits.serviceBays,percentage:this.calculatePercentage(t.usage.serviceBays,t.currentTier.limits.serviceBays)}]:[]}calculatePercentage(t,e){return e===null?0:e===0?100:Math.min(t/e*100,100)}getTierBadgeClass(t){return`tier-badge ${t}`}getTierCardClass(t){let e=this.tierComparison();if(!e)return"";let i=[];return t.id===e.currentTierId&&i.push("current"),t.id===e.recommendedTierId&&i.push("recommended"),i.join(" ")}getFeatureItemClass(t){return t.enabled?"enabled":"disabled"}getFeatureIconClass(t){return t.enabled?"enabled":"disabled"}getProgressClass(t){return t<70?"low":t<90?"medium":"high"}getUsageTextClass(t){return t<70?"text-green-400":t<90?"text-yellow-400":"text-red-400"}getRenewalStatusClass(t){return t>7?"text-green-400":t>3?"text-yellow-400":"text-red-400"}getUpgradeHintText(t){let e=this.translationService.instant(`tiers.${t}`);return this.translationService.instant("subscription.upgrade_to",{tier:e})}getUpgradeButtonText(t){let e=this.translationService.instant(`tiers.${t}`);return this.translationService.instant("subscription.upgrade_to",{tier:e})}getTooltip(t){let e=`subscription.tooltips.${t}`,i=this.translationService.instant(e);return i===e?"":i}getUsageTooltip(t){let i=`subscription.tooltips.${t>=90?"approaching_limit":"usage_within_limits"}`,c=this.translationService.instant(i);return c===i?"":c}trackByUsageType(t,e){return e.type}trackByFeatureKey(t,e){return e.key}trackByTierId(t,e){return e.id}static \u0275fac=function(e){return new(e||r)(D(oe),D(U),D(re))};static \u0275cmp=B({type:r,selectors:[["app-subscription-display"]],decls:5,vars:5,consts:[[1,"subscription-display"],["class","loading-container",4,"ngIf"],["class","current-subscription",4,"ngIf"],["class","features-overview",4,"ngIf"],["class","tier-comparison",4,"ngIf"],[1,"loading-container"],[1,"glass-card"],[1,"loading-content"],[1,"loading-bar","loading-bar-lg"],[1,"loading-bar","loading-bar-md"],[1,"current-subscription"],[1,"current-header"],[1,"tier-info"],["tooltipPosition","top",1,"tier-badge",3,"ngClass","appTooltip"],[1,"tier-details"],[1,"tier-title"],["tooltipPosition","bottom",1,"tier-price",3,"appTooltip"],[1,"renewal-info"],[1,"renewal-label"],[1,"renewal-days",3,"ngClass"],[1,"usage-stats"],["class","usage-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"usage-item"],[1,"usage-header"],["tooltipPosition","right",1,"usage-label",3,"appTooltip"],[1,"usage-numbers"],["tooltipPosition","top",1,"progress-bar",3,"appTooltip"],[1,"progress-fill",3,"ngClass"],[1,"usage-percent",3,"ngClass"],[1,"features-overview"],[1,"features-title"],[1,"features-grid"],["class","feature-item",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"feature-item",3,"ngClass"],[1,"feature-icon",3,"ngClass"],["class","icon","fill","currentColor","viewBox","0 0 20 20",4,"ngIf"],[1,"feature-content"],[1,"feature-name"],["class","upgrade-hint",4,"ngIf"],["fill","currentColor","viewBox","0 0 20 20",1,"icon"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"upgrade-hint"],[1,"tier-comparison"],[1,"comparison-title"],[1,"comparison-grid"],["class","tier-card",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"tier-card",3,"ngClass"],[1,"tier-header"],[1,"tier-badge",3,"ngClass"],["class","popular-badge",4,"ngIf"],[1,"tier-pricing"],[1,"price-amount"],[1,"price-period"],[1,"tier-features"],[1,"feature-list"],["class","feature-list-item",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"tier-footer"],["class","current-plan-indicator",4,"ngIf"],["class","btn-primary upgrade-btn","tooltipPosition","top",3,"disabled","appTooltip","click",4,"ngIf"],["class","btn-secondary downgrade-btn",3,"disabled","click",4,"ngIf"],["class","downgrade-blocked","tooltipPosition","top",3,"appTooltip",4,"ngIf"],[1,"popular-badge"],[1,"feature-list-item",3,"ngClass"],[1,"feature-check",3,"ngClass"],["class","check-icon","fill","currentColor","viewBox","0 0 20 20",4,"ngIf"],["class","x-icon","fill","currentColor","viewBox","0 0 20 20",4,"ngIf"],["fill","currentColor","viewBox","0 0 20 20",1,"check-icon"],["fill","currentColor","viewBox","0 0 20 20",1,"x-icon"],[1,"current-plan-indicator"],["tooltipPosition","top",1,"btn-primary","upgrade-btn",3,"click","disabled","appTooltip"],[1,"btn-secondary","downgrade-btn",3,"click","disabled"],["tooltipPosition","top",1,"downgrade-blocked",3,"appTooltip"],[1,"blocked-indicator"],["fill","currentColor","viewBox","0 0 20 20",1,"block-icon"],["fill-rule","evenodd","d","M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z","clip-rule","evenodd"],[1,"blocked-text"],["tooltipPosition","bottom",1,"btn-tertiary","btn-sm","blocked-details-btn",3,"click","appTooltip"]],template:function(e,i){e&1&&(a(0,"div",0),_(1,me,6,0,"div",1)(2,be,23,30,"div",2)(3,Ce,7,5,"div",3)(4,De,7,5,"div",4),o()),e&2&&(E("dir",i.isRtl()?"rtl":"ltr"),n(),u("ngIf",i.isLoading()),n(),u("ngIf",!i.isLoading()&&i.subscriptionStatus()),n(),u("ngIf",!i.isLoading()&&i.subscriptionStatus()),n(),u("ngIf",!i.isLoading()&&i.tierComparison()))},dependencies:[L,te,ie,ne,z,j],styles:[".subscription-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.loading-container[_ngcontent-%COMP%]{min-height:16rem}.loading-content[_ngcontent-%COMP%]{padding:1.5rem}.loading-bar[_ngcontent-%COMP%]{background:#4b556399;border-radius:.5rem;margin-bottom:1rem;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}.loading-bar-lg[_ngcontent-%COMP%]{height:1.5rem}.loading-bar-md[_ngcontent-%COMP%]{height:1rem}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.current-subscription[_ngcontent-%COMP%]{margin-bottom:1.5rem}.glass-card[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);background:#1f293799;border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:1.5rem;box-shadow:0 4px 20px #0000001a}.current-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;margin-bottom:1.5rem}.tier-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.tier-badge[_ngcontent-%COMP%]{padding:.5rem .75rem;border-radius:9999px;font-size:.875rem;font-weight:500}.tier-badge.solo[_ngcontent-%COMP%]{background:#3b82f6cc;color:#fff}.tier-badge.starter[_ngcontent-%COMP%]{background:#22c55ecc;color:#fff}.tier-badge.professional[_ngcontent-%COMP%]{background:#f59e0bcc;color:#000}.tier-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;margin:0}.tier-price[_ngcontent-%COMP%]{color:#d1d5db;margin:.25rem 0 0}.renewal-info[_ngcontent-%COMP%]{text-align:right}.renewal-info.rtl-align[_ngcontent-%COMP%]{text-align:left}.renewal-label[_ngcontent-%COMP%]{font-size:.875rem;color:#9ca3af;margin:0}.renewal-date[_ngcontent-%COMP%]{color:#fff;font-weight:500;margin:.25rem 0}.renewal-days[_ngcontent-%COMP%]{font-size:.875rem;margin:0}.usage-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1rem}.usage-item[_ngcontent-%COMP%]{background:#1f293766;padding:1rem;border-radius:12px}.usage-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.5rem}.usage-label[_ngcontent-%COMP%]{color:#d1d5db;font-size:.875rem}.usage-numbers[_ngcontent-%COMP%]{color:#fff;font-size:.875rem;font-weight:500}.progress-bar[_ngcontent-%COMP%]{width:100%;background:#4b5563;border-radius:9999px;height:.5rem;overflow:hidden;margin-bottom:.5rem}.progress-fill[_ngcontent-%COMP%]{height:100%;transition:all .3s ease-out}.progress-fill.low[_ngcontent-%COMP%]{background:#22c55e}.progress-fill.medium[_ngcontent-%COMP%]{background:#f59e0b}.progress-fill.high[_ngcontent-%COMP%]{background:#ef4444}.usage-percent[_ngcontent-%COMP%]{font-size:.75rem}.text-green-400[_ngcontent-%COMP%]{color:#4ade80}.text-yellow-400[_ngcontent-%COMP%]{color:#fbbf24}.text-red-400[_ngcontent-%COMP%]{color:#f87171}.features-overview[_ngcontent-%COMP%]{margin-bottom:1.5rem}.features-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#fff;margin:0 0 1rem}.features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:.75rem}.feature-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem;border-radius:12px}.feature-item.enabled[_ngcontent-%COMP%]{background:#1f293780}.feature-item.disabled[_ngcontent-%COMP%]{background:#1118274d}.feature-icon[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.feature-icon.enabled[_ngcontent-%COMP%]{color:#4ade80}.feature-icon.disabled[_ngcontent-%COMP%]{color:#6b7280}.icon[_ngcontent-%COMP%]{width:100%;height:100%}.feature-content[_ngcontent-%COMP%]{flex:1}.feature-name[_ngcontent-%COMP%]{color:#fff}.upgrade-hint[_ngcontent-%COMP%]{font-size:.75rem;color:#60a5fa;margin-top:.25rem}.comparison-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#fff;margin:0 0 1rem}.comparison-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1.5rem}.tier-card[_ngcontent-%COMP%]{background:#1f293799;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:0;overflow:hidden}.tier-card.current[_ngcontent-%COMP%]{border-color:#3b82f680;box-shadow:0 0 0 2px #3b82f680}.tier-card.recommended[_ngcontent-%COMP%]{border-color:#22c55e80;box-shadow:0 0 0 2px #22c55e80}.tier-header[_ngcontent-%COMP%]{padding:1rem;text-align:center}.popular-badge[_ngcontent-%COMP%]{background:#22c55ecc;color:#fff;padding:.25rem .5rem;border-radius:.25rem;font-size:.75rem;margin-bottom:.5rem;display:inline-block}.tier-pricing[_ngcontent-%COMP%]{color:#fff}.price-amount[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.price-period[_ngcontent-%COMP%]{font-size:.875rem;color:#9ca3af;margin-left:.5rem}.tier-features[_ngcontent-%COMP%]{padding:1rem}.feature-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.feature-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;margin-bottom:.5rem}.feature-list-item.enabled[_ngcontent-%COMP%]{color:#d1d5db}.feature-list-item.disabled[_ngcontent-%COMP%]{color:#6b7280}.feature-check[_ngcontent-%COMP%]{width:1rem;height:1rem}.feature-check.enabled[_ngcontent-%COMP%]{color:#4ade80}.feature-check.disabled[_ngcontent-%COMP%]{color:#6b7280}.check-icon[_ngcontent-%COMP%], .x-icon[_ngcontent-%COMP%]{width:100%;height:100%}.tier-footer[_ngcontent-%COMP%]{padding:1rem}.upgrade-btn[_ngcontent-%COMP%]{width:100%}.current-plan-indicator[_ngcontent-%COMP%]{background:#3b82f6cc;color:#fff;padding:.75rem 1rem;border-radius:12px;text-align:center;font-weight:500}.downgrade-btn[_ngcontent-%COMP%]{width:100%;background:#9ca3afcc;border:1px solid rgba(156,163,175,.3)}.downgrade-btn[_ngcontent-%COMP%]:hover{background:#9ca3af;border-color:#9ca3af80}.downgrade-blocked[_ngcontent-%COMP%]{padding:.75rem;background:#ef44441a;border:1px solid rgba(239,68,68,.3);border-radius:12px;text-align:center}.blocked-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:.5rem}.block-icon[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;color:#ef4444}.blocked-text[_ngcontent-%COMP%]{color:#ef4444;font-size:.875rem;font-weight:500}.blocked-details-btn[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .5rem;color:#9ca3af;border:1px solid rgba(156,163,175,.3)}.blocked-details-btn[_ngcontent-%COMP%]:hover{color:#fff;border-color:#9ca3af80}@media (min-width: 768px){.current-header[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;align-items:center}.tier-info[_ngcontent-%COMP%]{margin-bottom:0}.usage-stats[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.features-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.comparison-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}"],changeDetection:0})};var le=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=B({type:r,selectors:[["app-subscription"]],decls:85,vars:60,consts:[[1,"subscription-page"],[1,"page-container"],[1,"page-header"],[1,"page-title"],[1,"page-subtitle"],[1,"info-section"],[1,"glass-card"],[1,"section-title"],[1,"benefits-grid"],[1,"benefit-item"],[1,"benefit-icon","growth"],[1,"benefit-title"],[1,"benefit-description"],[1,"benefit-icon","efficiency"],[1,"benefit-icon","insights"],[1,"faq-section"],[1,"section-title","centered"],[1,"faq-list"],[1,"faq-item"],[1,"faq-question"],[1,"faq-answer"],[1,"contact-section"],[1,"glass-card","contact-card"],[1,"contact-description"],[1,"contact-buttons"],[1,"btn-secondary"],[1,"btn-tertiary"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),s(4),l(5,"translate"),o(),a(6,"p",4),s(7),l(8,"translate"),o()(),x(9,"app-subscription-display"),a(10,"div",5)(11,"div",6)(12,"h3",7),s(13),l(14,"translate"),o(),a(15,"div",8)(16,"div",9)(17,"div",10),s(18,"\u{1F680}"),o(),a(19,"h4",11),s(20),l(21,"translate"),o(),a(22,"p",12),s(23),l(24,"translate"),o()(),a(25,"div",9)(26,"div",13),s(27,"\u{1F4BC}"),o(),a(28,"h4",11),s(29),l(30,"translate"),o(),a(31,"p",12),s(32),l(33,"translate"),o()(),a(34,"div",9)(35,"div",14),s(36,"\u{1F4CA}"),o(),a(37,"h4",11),s(38),l(39,"translate"),o(),a(40,"p",12),s(41),l(42,"translate"),o()()()()(),a(43,"div",15)(44,"div",6)(45,"h3",16),s(46),l(47,"translate"),o(),a(48,"div",17)(49,"div",18)(50,"h4",19),s(51),l(52,"translate"),o(),a(53,"p",20),s(54),l(55,"translate"),o()(),a(56,"div",18)(57,"h4",19),s(58),l(59,"translate"),o(),a(60,"p",20),s(61),l(62,"translate"),o()(),a(63,"div",18)(64,"h4",19),s(65),l(66,"translate"),o(),a(67,"p",20),s(68),l(69,"translate"),o()()()()(),a(70,"div",21)(71,"div",22)(72,"h3",7),s(73),l(74,"translate"),o(),a(75,"p",23),s(76),l(77,"translate"),o(),a(78,"div",24)(79,"button",25),s(80),l(81,"translate"),o(),a(82,"button",26),s(83),l(84,"translate"),o()()()()()()),e&2&&(n(4),d(" ",p(5,20,"subscription.title")," "),n(3),d(" ",p(8,22,"subscription.subtitle")," "),n(6),d(" ",p(14,24,"subscription.why_upgrade.title")," "),n(7),d(" ",p(21,26,"subscription.benefits.growth.title")," "),n(3),d(" ",p(24,28,"subscription.benefits.growth.description")," "),n(6),d(" ",p(30,30,"subscription.benefits.efficiency.title")," "),n(3),d(" ",p(33,32,"subscription.benefits.efficiency.description")," "),n(6),d(" ",p(39,34,"subscription.benefits.insights.title")," "),n(3),d(" ",p(42,36,"subscription.benefits.insights.description")," "),n(5),d(" ",p(47,38,"subscription.faq.title")," "),n(5),d(" ",p(52,40,"subscription.faq.billing.question")," "),n(3),d(" ",p(55,42,"subscription.faq.billing.answer")," "),n(4),d(" ",p(59,44,"subscription.faq.cancellation.question")," "),n(3),d(" ",p(62,46,"subscription.faq.cancellation.answer")," "),n(4),d(" ",p(66,48,"subscription.faq.support.question")," "),n(3),d(" ",p(69,50,"subscription.faq.support.answer")," "),n(5),d(" ",p(74,52,"subscription.contact.title")," "),n(3),d(" ",p(77,54,"subscription.contact.description")," "),n(4),d(" ",p(81,56,"subscription.contact.email")," "),n(3),d(" ",p(84,58,"subscription.contact.phone")," "))},dependencies:[L,$,z],styles:[".subscription-page[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#111827,#1f2937,#1e40af);padding:1rem}.page-container[_ngcontent-%COMP%]{max-width:80rem;margin:0 auto}.page-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#fff;margin:0 0 1rem}.page-subtitle[_ngcontent-%COMP%]{font-size:1.25rem;color:#d1d5db;max-width:48rem;margin:0 auto}.glass-card[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);background:#1f293799;border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:1.5rem;box-shadow:0 4px 20px #0000001a}.info-section[_ngcontent-%COMP%]{margin:3rem 0;text-align:center}.section-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;margin:0 0 1rem}.section-title.centered[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.benefits-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1.5rem;margin-top:1.5rem}.benefit-item[_ngcontent-%COMP%]{text-align:center}.benefit-icon[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:.5rem}.benefit-icon.growth[_ngcontent-%COMP%]{color:#60a5fa}.benefit-icon.efficiency[_ngcontent-%COMP%]{color:#4ade80}.benefit-icon.insights[_ngcontent-%COMP%]{color:#fbbf24}.benefit-title[_ngcontent-%COMP%]{color:#fff;font-weight:600;margin:0 0 .5rem}.benefit-description[_ngcontent-%COMP%]{color:#d1d5db;font-size:.875rem;margin:0}.faq-section[_ngcontent-%COMP%]{margin:3rem 0}.faq-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.faq-item[_ngcontent-%COMP%]{border-bottom:1px solid rgba(75,85,99,1);padding-bottom:1rem}.faq-question[_ngcontent-%COMP%]{color:#fff;font-weight:600;margin:0 0 .5rem}.faq-answer[_ngcontent-%COMP%]{color:#d1d5db;font-size:.875rem;margin:0}.contact-section[_ngcontent-%COMP%]{margin:3rem 0;text-align:center}.contact-card[_ngcontent-%COMP%]{max-width:32rem;margin:0 auto}.contact-description[_ngcontent-%COMP%]{color:#d1d5db;margin:0 0 1.5rem}.contact-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;justify-content:center}@media (min-width: 768px){.page-title[_ngcontent-%COMP%]{font-size:3rem}.subscription-page[_ngcontent-%COMP%]{padding:1.5rem}.benefits-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.contact-buttons[_ngcontent-%COMP%]{flex-direction:row}}@media (min-width: 1024px){.subscription-page[_ngcontent-%COMP%]{padding:2rem}}"],changeDetection:0})};export{le as SubscriptionComponent};
