import{a as q}from"./chunk-TTDXOVRM.js";import{a as fe,b as U,c as x,d as W,e as Q,i as K,j as J,l as X,o as Z,p as ee,q as L,r as N,t as te,x as ne,y as be,z as ie}from"./chunk-PAUVK7IQ.js";import{b as re,c as ae}from"./chunk-DWWTKPBQ.js";import{f as ve}from"./chunk-FBP5ODJ6.js";import{$ as y,$a as g,Ab as p,Ca as T,Fb as Y,Ha as f,Ja as j,U as M,Vb as B,Wb as V,Xb as ge,Ya as d,Z as S,Za as n,_ as C,_a as e,_b as A,a as de,aa as F,ab as P,b as ce,bb as b,cb as _,ga as k,hb as me,ib as se,jb as I,kb as l,lb as u,mb as m,nb as O,ob as $,sa as r,tb as ue,wb as H,zb as s}from"./chunk-BYA6T2VX.js";function Se(o,t){o&1&&(n(0,"div",32),l(1),s(2,"translate"),e()),o&2&&(r(),m(" ",p(2,1,"inventory.parts.partNameRequired")," "))}function Ce(o,t){o&1&&(n(0,"div",32),l(1),s(2,"translate"),e()),o&2&&(r(),m(" ",p(2,1,"inventory.parts.partNumberRequired")," "))}function we(o,t){if(o&1&&(n(0,"option",33),l(1),e()),o&2){let i=t.$implicit,a=_();d("value",i),r(),m(" ",a.getCategoryLabel(i)," ")}}function Ie(o,t){o&1&&(n(0,"div",32),l(1),s(2,"translate"),e()),o&2&&(r(),m(" ",p(2,1,"inventory.parts.categoryRequired")," "))}function Me(o,t){o&1&&(n(0,"div",32),l(1),s(2,"translate"),e()),o&2&&(r(),m(" ",p(2,1,"inventory.parts.brandRequired")," "))}function Ee(o,t){if(o&1&&(n(0,"option",33),l(1),e()),o&2){let i=t.$implicit;d("value",i.id),r(),m(" ",i.name," ")}}function Pe(o,t){o&1&&(n(0,"div",32),l(1),s(2,"translate"),e()),o&2&&(r(),m(" ",p(2,1,"inventory.parts.supplierRequired")," "))}function Oe(o,t){if(o&1&&(n(0,"option",33),l(1),e()),o&2){let i=t.$implicit,a=_();d("value",i),r(),m(" ",a.getUnitLabel(i)," ")}}function Fe(o,t){o&1&&(n(0,"div",32),l(1),s(2,"translate"),e()),o&2&&(r(),m(" ",p(2,1,"inventory.parts.unitRequired")," "))}function Te(o,t){o&1&&(n(0,"div",32),l(1),s(2,"translate"),e()),o&2&&(r(),m(" ",p(2,1,"inventory.parts.priceRequired")," "))}function je(o,t){o&1&&(n(0,"div",32),l(1),s(2,"translate"),e()),o&2&&(r(),m(" ",p(2,1,"inventory.parts.stockLevelRequired")," "))}function Be(o,t){o&1&&(n(0,"div",32),l(1),s(2,"translate"),e()),o&2&&(r(),m(" ",p(2,1,"inventory.parts.minStockLevelRequired")," "))}function Ve(o,t){o&1&&g(0,"div",34)}var oe=class o{part=null;isOpen=!1;close=new j;save=new j;fb=M(ne);partService=M(q);translationService=M(re);suppliers=k([]);isSubmitting=k(!1);partForm;availableCategories=["engine","transmission","brakes","suspension","electrical","filters","fluids","tires","body","accessories","consumables"];availableUnits=["piece","liter","kg","meter","pair","set","bottle","box"];constructor(){this.partForm=this.fb.group({name:["",[x.required,x.minLength(2)]],partNumber:["",[x.required,x.minLength(2)]],description:[""],category:["",x.required],brand:["",[x.required,x.minLength(2)]],supplierId:["",x.required],unit:["",x.required],price:[0,[x.required,x.min(0)]],stockLevel:[0,[x.required,x.min(0)]],minStockLevel:[0,[x.required,x.min(0)]],maxStockLevel:[null,x.min(0)],location:[""],isActive:[!0]})}ngOnInit(){this.loadSuppliers(),this.part&&this.populateForm()}isEditMode(){return this.part!==null}getCategoryLabel(t){return this.translationService.instant(`inventory.categories.${t}`)}getUnitLabel(t){return this.translationService.instant(`inventory.units.${t}`)}loadSuppliers(){this.partService.getSuppliers().subscribe({next:t=>{this.suppliers.set(t.filter(i=>i.isActive))},error:t=>console.error("Failed to load suppliers:",t)})}populateForm(){this.part&&this.partForm.patchValue({name:this.part.name,partNumber:this.part.partNumber,description:this.part.description||"",category:this.part.category,brand:this.part.brand,supplierId:this.part.supplierId,unit:this.part.unit,price:this.part.price,stockLevel:this.part.stockLevel,minStockLevel:this.part.minStockLevel,maxStockLevel:this.part.maxStockLevel,location:this.part.location||"",isActive:this.part.isActive})}onSubmit(){if(this.partForm.valid&&!this.isSubmitting()){this.isSubmitting.set(!0);let t=this.partForm.value,i={name:t.name,partNumber:t.partNumber,description:t.description||void 0,category:t.category,brand:t.brand,supplierId:t.supplierId,unit:t.unit,price:parseFloat(t.price),currency:"TND",stockLevel:parseInt(t.stockLevel),minStockLevel:parseInt(t.minStockLevel),maxStockLevel:t.maxStockLevel?parseInt(t.maxStockLevel):void 0,location:t.location||void 0,isActive:t.isActive};this.isEditMode()&&this.part?this.partService.updatePart(this.part.id,i).subscribe({next:a=>{this.save.emit(a),this.isSubmitting.set(!1),this.onClose()},error:a=>{console.error("Failed to update part:",a),this.isSubmitting.set(!1)}}):this.partService.createPart(i).subscribe({next:a=>{this.save.emit(a),this.isSubmitting.set(!1),this.onClose()},error:a=>{console.error("Failed to create part:",a),this.isSubmitting.set(!1)}})}else Object.keys(this.partForm.controls).forEach(t=>{this.partForm.get(t)?.markAsTouched()})}onClose(){this.close.emit(),this.partForm.reset(),this.isSubmitting.set(!1)}onBackdropClick(t){t.target===t.currentTarget&&this.onClose()}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=T({type:o,selectors:[["app-part-modal"]],inputs:{part:"part",isOpen:"isOpen"},outputs:{close:"close",save:"save"},decls:118,vars:94,consts:[[1,"fixed","inset-0","bg-black/50","backdrop-blur-sm","flex","items-center","justify-center","z-50","p-4",3,"click"],[1,"bg-white/90","dark:bg-gray-800/90","backdrop-blur-md","rounded-xl","border","border-gray-200","dark:border-gray-700","w-full","max-w-2xl","max-h-[90vh]","overflow-y-auto",3,"click"],[1,"flex","items-center","justify-between","p-6","border-b","border-gray-200","dark:border-gray-700"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],[1,"h-8","w-8","rounded-lg","bg-gray-100","dark:bg-gray-700","hover:bg-gray-200","dark:hover:bg-gray-600","flex","items-center","justify-center","transition-colors",3,"click"],[1,"text-gray-500","dark:text-gray-400"],[1,"p-6","space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["type","text","formControlName","name",1,"w-full","px-3","py-2","bg-white/50","dark:bg-gray-700/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400","backdrop-blur-sm",3,"placeholder"],["class","text-red-500 text-xs mt-1",4,"ngIf"],["type","text","formControlName","partNumber",1,"w-full","px-3","py-2","bg-white/50","dark:bg-gray-700/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400","backdrop-blur-sm",3,"placeholder"],["formControlName","description","rows","3",1,"w-full","px-3","py-2","bg-white/50","dark:bg-gray-700/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400","backdrop-blur-sm","resize-none",3,"placeholder"],["formControlName","category",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","brand",1,"w-full","px-3","py-2","bg-white/50","dark:bg-gray-700/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400","backdrop-blur-sm",3,"placeholder"],["formControlName","supplierId",1,"form-select"],["formControlName","unit",1,"form-select"],["type","number","formControlName","price","placeholder","0.00","step","0.01","min","0",1,"w-full","px-3","py-2","bg-white/50","dark:bg-gray-700/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400","backdrop-blur-sm"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["type","number","formControlName","stockLevel","placeholder","0","min","0",1,"w-full","px-3","py-2","bg-white/50","dark:bg-gray-700/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400","backdrop-blur-sm"],["type","number","formControlName","minStockLevel","placeholder","0","min","0",1,"w-full","px-3","py-2","bg-white/50","dark:bg-gray-700/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400","backdrop-blur-sm"],["type","number","formControlName","maxStockLevel","min","0",1,"w-full","px-3","py-2","bg-white/50","dark:bg-gray-700/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400","backdrop-blur-sm",3,"placeholder"],["type","text","formControlName","location",1,"w-full","px-3","py-2","bg-white/50","dark:bg-gray-700/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400","backdrop-blur-sm",3,"placeholder"],[1,"flex","items-center","gap-3"],["type","checkbox","id","isActive","formControlName","isActive",1,"h-4","w-4","text-blue-600","focus:ring-blue-500","border-gray-300","dark:border-gray-600","rounded"],["for","isActive",1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"flex","items-center","justify-end","gap-3","p-6","border-t","border-gray-200","dark:border-gray-700"],["type","button",1,"btn-secondary",3,"click"],["type","button",1,"btn-primary","flex","items-center","gap-2",3,"click","disabled"],["class","animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full",4,"ngIf"],[1,"text-red-500","text-xs","mt-1"],[3,"value"],[1,"animate-spin","h-4","w-4","border-2","border-white","border-t-transparent","rounded-full"]],template:function(i,a){if(i&1&&(n(0,"div",0),b("click",function(v){return a.onBackdropClick(v)}),n(1,"div",1),b("click",function(v){return v.stopPropagation()}),n(2,"div",2)(3,"h2",3),l(4),s(5,"translate"),s(6,"translate"),e(),n(7,"button",4),b("click",function(){return a.onClose()}),n(8,"span",5),l(9,"\u2715"),e()()(),n(10,"form",6),b("ngSubmit",function(){return a.onSubmit()}),n(11,"div",7)(12,"div")(13,"label",8),l(14),s(15,"translate"),e(),g(16,"input",9),s(17,"translate"),f(18,Se,3,3,"div",10),e(),n(19,"div")(20,"label",8),l(21),s(22,"translate"),e(),g(23,"input",11),s(24,"translate"),f(25,Ce,3,3,"div",10),e()(),n(26,"div")(27,"label",8),l(28),s(29,"translate"),e(),n(30,"textarea",12),s(31,"translate"),l(32,"            "),e()(),n(33,"div",7)(34,"div")(35,"label",8),l(36),s(37,"translate"),e(),n(38,"select",13)(39,"option",14),l(40),s(41,"translate"),e(),f(42,we,2,2,"option",15),e(),f(43,Ie,3,3,"div",10),e(),n(44,"div")(45,"label",8),l(46),s(47,"translate"),e(),g(48,"input",16),s(49,"translate"),f(50,Me,3,3,"div",10),e()(),n(51,"div",7)(52,"div")(53,"label",8),l(54),s(55,"translate"),e(),n(56,"select",17)(57,"option",14),l(58),s(59,"translate"),e(),f(60,Ee,2,2,"option",15),e(),f(61,Pe,3,3,"div",10),e(),n(62,"div")(63,"label",8),l(64),s(65,"translate"),e(),n(66,"select",18)(67,"option",14),l(68),s(69,"translate"),e(),f(70,Oe,2,2,"option",15),e(),f(71,Fe,3,3,"div",10),e()(),n(72,"div",7)(73,"div")(74,"label",8),l(75),s(76,"translate"),e(),g(77,"input",19),f(78,Te,3,3,"div",10),e()(),n(79,"div",20)(80,"div")(81,"label",8),l(82),s(83,"translate"),e(),g(84,"input",21),f(85,je,3,3,"div",10),e(),n(86,"div")(87,"label",8),l(88),s(89,"translate"),e(),g(90,"input",22),f(91,Be,3,3,"div",10),e(),n(92,"div")(93,"label",8),l(94),s(95,"translate"),e(),g(96,"input",23),s(97,"translate"),e()(),n(98,"div")(99,"label",8),l(100),s(101,"translate"),e(),g(102,"input",24),s(103,"translate"),e(),n(104,"div",25),g(105,"input",26),n(106,"label",27),l(107),s(108,"translate"),e()()(),n(109,"div",28)(110,"button",29),b("click",function(){return a.onClose()}),l(111),s(112,"translate"),e(),n(113,"button",30),b("click",function(){return a.onSubmit()}),f(114,Ve,1,0,"div",31),l(115),s(116,"translate"),s(117,"translate"),e()()()()),i&2){let c,v,w,h,E,D,G,R,z;r(4),m(" ",a.isEditMode()?p(5,40,"inventory.parts.editPart"):p(6,42,"inventory.parts.addNewPart")," "),r(6),d("formGroup",a.partForm),r(4),m(" ",p(15,44,"inventory.parts.partName")," * "),r(2),d("placeholder",p(17,46,"inventory.parts.enterPartName")),r(2),d("ngIf",((c=a.partForm.get("name"))==null?null:c.errors)&&((c=a.partForm.get("name"))==null?null:c.touched)),r(3),m(" ",p(22,48,"inventory.parts.partNumber")," * "),r(2),d("placeholder",p(24,50,"inventory.parts.enterPartNumber")),r(2),d("ngIf",((v=a.partForm.get("partNumber"))==null?null:v.errors)&&((v=a.partForm.get("partNumber"))==null?null:v.touched)),r(3),m(" ",p(29,52,"inventory.parts.description")," "),r(2),d("placeholder",p(31,54,"inventory.parts.enterDescription")),r(6),m(" ",p(37,56,"inventory.parts.category")," * "),r(4),u(p(41,58,"inventory.parts.selectCategory")),r(2),d("ngForOf",a.availableCategories),r(),d("ngIf",((w=a.partForm.get("category"))==null?null:w.errors)&&((w=a.partForm.get("category"))==null?null:w.touched)),r(3),m(" ",p(47,60,"inventory.parts.brand")," * "),r(2),d("placeholder",p(49,62,"inventory.parts.enterBrand")),r(2),d("ngIf",((h=a.partForm.get("brand"))==null?null:h.errors)&&((h=a.partForm.get("brand"))==null?null:h.touched)),r(4),m(" ",p(55,64,"inventory.parts.supplier")," * "),r(4),u(p(59,66,"inventory.parts.selectSupplier")),r(2),d("ngForOf",a.suppliers()),r(),d("ngIf",((E=a.partForm.get("supplierId"))==null?null:E.errors)&&((E=a.partForm.get("supplierId"))==null?null:E.touched)),r(3),m(" ",p(65,68,"inventory.parts.unit")," * "),r(4),u(p(69,70,"inventory.parts.selectUnit")),r(2),d("ngForOf",a.availableUnits),r(),d("ngIf",((D=a.partForm.get("unit"))==null?null:D.errors)&&((D=a.partForm.get("unit"))==null?null:D.touched)),r(4),m(" ",p(76,72,"inventory.parts.price")," (TND) * "),r(3),d("ngIf",((G=a.partForm.get("price"))==null?null:G.errors)&&((G=a.partForm.get("price"))==null?null:G.touched)),r(4),m(" ",p(83,74,"inventory.parts.currentStock")," * "),r(3),d("ngIf",((R=a.partForm.get("stockLevel"))==null?null:R.errors)&&((R=a.partForm.get("stockLevel"))==null?null:R.touched)),r(3),m(" ",p(89,76,"inventory.parts.minStockLevel")," * "),r(3),d("ngIf",((z=a.partForm.get("minStockLevel"))==null?null:z.errors)&&((z=a.partForm.get("minStockLevel"))==null?null:z.touched)),r(3),m(" ",p(95,78,"inventory.parts.maxStockLevel")," "),r(2),d("placeholder",p(97,80,"inventory.parts.optional")),r(4),m(" ",p(101,82,"inventory.parts.storageLocation")," "),r(2),d("placeholder",p(103,84,"inventory.parts.locationPlaceholder")),r(5),m(" ",p(108,86,"inventory.parts.activePart")," "),r(4),m(" ",p(112,88,"common.cancel")," "),r(2),d("disabled",!a.partForm.valid||a.isSubmitting()),r(),d("ngIf",a.isSubmitting()),r(),m(" ",a.isEditMode()?p(116,90,"inventory.parts.updatePart"):p(117,92,"inventory.parts.createPart")," ")}},dependencies:[A,B,V,ie,K,L,N,U,J,fe,ee,W,Q,te,X,Z,ae],styles:[".modal-backdrop[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.form-input[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);transition:all .2s ease}.form-input[_ngcontent-%COMP%]:focus{background:#ffffffe6;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.dark[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{background:#374151e6;border-color:#60a5fa;box-shadow:0 0 0 3px #60a5fa1a}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);box-shadow:0 4px 14px #3b82f64d}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#1d4ed8,#1e40af);box-shadow:0 6px 20px #3b82f666;transform:translateY(-1px)}.btn-primary[_ngcontent-%COMP%]:disabled{background:#9ca3af;box-shadow:none;transform:none}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:scale(.95) translateY(-10px)}to{opacity:1;transform:scale(1) translateY(0)}}.modal-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideIn .2s ease-out}@media (max-width: 767px){.modal-content[_ngcontent-%COMP%]{margin:1rem;max-height:calc(100vh - 2rem)}}.dark[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{background:#37415199;border-color:#4b556399}.dark[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3afcc}.error-text[_ngcontent-%COMP%]{font-size:.75rem;color:#ef4444;margin-top:.25rem}.dark[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{color:#fca5a5}.loading-spinner[_ngcontent-%COMP%]{animation:spin 1s linear infinite}.form-input[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3b82f6;outline-offset:2px}.form-input[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{transition:all .2s ease}"]})};function Ae(o,t){o&1&&(n(0,"div",35),l(1," Adjustment type is required "),e())}function Le(o,t){o&1&&(n(0,"span"),l(1,"Quantity is required"),e())}function Ne(o,t){o&1&&(n(0,"span"),l(1,"Quantity must be positive"),e())}function qe(o,t){o&1&&(n(0,"span"),l(1,"Not enough stock available"),e())}function De(o,t){if(o&1&&(n(0,"div",35),f(1,Le,2,0,"span",36)(2,Ne,2,0,"span",36)(3,qe,2,0,"span",36),e()),o&2){let i,a,c,v=_();r(),d("ngIf",(i=v.stockForm.get("quantity"))==null||i.errors==null?null:i.errors.required),r(),d("ngIf",(a=v.stockForm.get("quantity"))==null||a.errors==null?null:a.errors.min),r(),d("ngIf",(c=v.stockForm.get("quantity"))==null||c.errors==null?null:c.errors.max)}}function Ge(o,t){if(o&1&&(n(0,"option",37),l(1),e()),o&2){let i=t.$implicit;d("value",i),r(),m(" ",i," ")}}function Re(o,t){o&1&&(n(0,"div",35),l(1," Reason is required "),e())}function ze(o,t){if(o&1&&(n(0,"div",38)(1,"h4",39),l(2,"Preview"),e(),n(3,"div",40)(4,"p",41)(5,"span",42),l(6,"Current stock:"),e(),l(7),e(),n(8,"p",41)(9,"span",42),l(10,"After adjustment:"),e(),l(11),n(12,"span",43),l(13),e()()()()),o&2){let i=_();r(7),O(" ",(i.part==null?null:i.part.stockLevel)||0," ",i.part==null?null:i.part.unit,"s "),r(4),O(" ",i.calculateNewStock()," ",i.part==null?null:i.part.unit,"s "),r(),I(i.getPreviewStockStatusClass()),r(),m(" ",i.getPreviewStockStatus()," ")}}function $e(o,t){o&1&&g(0,"div",44)}var le=class o{part=null;isOpen=!1;close=new j;adjust=new j;fb=M(ne);partService=M(q);isSubmitting=k(!1);stockForm;constructor(){this.stockForm=this.fb.group({type:["",x.required],quantity:[1,[x.required,x.min(1)]],reason:["",x.required],reference:[""],notes:[""]})}ngOnInit(){this.stockForm.reset({type:"",quantity:1,reason:"",reference:"",notes:""})}onTypeChange(){let t=this.stockForm.get("type")?.value,i=this.stockForm.get("quantity");if(t==="out"||t==="return"){let a=this.part?.stockLevel||0;i?.setValidators([x.required,x.min(1),x.max(a)])}else i?.setValidators([x.required,x.min(1)]);i?.updateValueAndValidity()}getAvailableReasons(){let t=this.stockForm.get("type")?.value;return{in:["Purchase delivery","Stock replenishment","Return from customer","Transfer from another location","Initial stock entry"],out:["Used in service job","Sold to customer","Transfer to another location","Damaged/Defective","Testing/Quality check"],adjustment:["Stock count correction","System error correction","Damaged inventory write-off","Expired products removal"],return:["Return to supplier","Warranty return","Wrong part received","Quality issue"]}[t]||[]}calculateNewStock(){let t=this.part?.stockLevel||0,i=this.stockForm.get("quantity")?.value||0,a=this.stockForm.get("type")?.value;return a==="in"?t+i:a==="out"||a==="return"?Math.max(0,t-i):a==="adjustment"?i:t}getPreviewStockStatus(){let t=this.calculateNewStock(),i=this.part?.minStockLevel||0;return t===0?"Out of Stock":t<=i?"Low Stock":"In Stock"}getPreviewStockStatusClass(){let t=this.getPreviewStockStatus().toLowerCase().replace(" ","-");return this.partService.getStockStatusBadgeClass(t)}getStockStatusBadgeClass(t){return this.partService.getStockStatusBadgeClass(t)}onSubmit(){if(this.stockForm.valid&&!this.isSubmitting()&&this.part){this.isSubmitting.set(!0);let t=this.stockForm.value,i=t.type,a=t.quantity;i==="out"||i==="return"?a=-a:i==="adjustment"&&(a=a-(this.part.stockLevel||0)),this.partService.adjustStock(this.part.id,a,t.reason,"current-user").subscribe({next:c=>{this.adjust.emit({partId:this.part.id,quantity:a,reason:t.reason,reference:t.reference||void 0,notes:t.notes||void 0}),this.isSubmitting.set(!1),this.onClose()},error:c=>{console.error("Failed to adjust stock:",c),this.isSubmitting.set(!1)}})}else Object.keys(this.stockForm.controls).forEach(t=>{this.stockForm.get(t)?.markAsTouched()})}onClose(){this.close.emit(),this.stockForm.reset(),this.isSubmitting.set(!1)}onBackdropClick(t){t.target===t.currentTarget&&this.onClose()}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=T({type:o,selectors:[["app-stock-adjustment-modal"]],inputs:{part:"part",isOpen:"isOpen"},outputs:{close:"close",adjust:"adjust"},decls:72,vars:20,consts:[[1,"fixed","inset-0","bg-black/50","backdrop-blur-sm","flex","items-center","justify-center","z-50","p-4",3,"click"],[1,"bg-white/90","dark:bg-gray-800/90","backdrop-blur-md","rounded-xl","border","border-gray-200","dark:border-gray-700","w-full","max-w-lg",3,"click"],[1,"flex","items-center","justify-between","p-6","border-b","border-gray-200","dark:border-gray-700"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],[1,"h-8","w-8","rounded-lg","bg-gray-100","dark:bg-gray-700","hover:bg-gray-200","dark:hover:bg-gray-600","flex","items-center","justify-center","transition-colors",3,"click"],[1,"text-gray-500","dark:text-gray-400"],[1,"p-6","border-b","border-gray-200","dark:border-gray-700","bg-gray-50","dark:bg-gray-700/30"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"text-right"],[1,"text-lg","font-medium","text-gray-900","dark:text-white"],[1,"mt-3"],[1,"px-2","py-1","rounded-full","text-xs","font-medium","border"],[1,"p-6","space-y-4",3,"ngSubmit","formGroup"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["formControlName","type",1,"w-full","px-3","py-2","bg-white/50","dark:bg-gray-700/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","text-gray-900","dark:text-white","backdrop-blur-sm",3,"change"],["value",""],["value","in"],["value","out"],["value","adjustment"],["value","return"],["class","text-red-500 text-xs mt-1",4,"ngIf"],[1,"relative"],["type","number","formControlName","quantity","placeholder","Enter quantity","min","1",1,"w-full","px-3","py-2","bg-white/50","dark:bg-gray-700/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400","backdrop-blur-sm"],[1,"absolute","right-3","top-2","text-sm","text-gray-500","dark:text-gray-400"],["formControlName","reason",1,"w-full","px-3","py-2","bg-white/50","dark:bg-gray-700/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","text-gray-900","dark:text-white","backdrop-blur-sm"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","reference","placeholder","e.g., Job #SJ001, Invoice #INV123",1,"w-full","px-3","py-2","bg-white/50","dark:bg-gray-700/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400","backdrop-blur-sm"],["formControlName","notes","placeholder","Additional notes or comments","rows","3",1,"w-full","px-3","py-2","bg-white/50","dark:bg-gray-700/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400","backdrop-blur-sm","resize-none"],["class","p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",4,"ngIf"],[1,"flex","items-center","justify-end","gap-3","p-6","border-t","border-gray-200","dark:border-gray-700"],["type","button",1,"px-4","py-2","bg-gray-100","dark:bg-gray-700","text-gray-700","dark:text-gray-300","rounded-lg","hover:bg-gray-200","dark:hover:bg-gray-600","transition-colors",3,"click"],["type","button",1,"px-6","py-2","bg-blue-600","hover:bg-blue-700","disabled:bg-gray-400","disabled:cursor-not-allowed","text-white","rounded-lg","transition-colors","flex","items-center","gap-2",3,"click","disabled"],["class","animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full",4,"ngIf"],[1,"text-red-500","text-xs","mt-1"],[4,"ngIf"],[3,"value"],[1,"p-4","bg-blue-50","dark:bg-blue-900/20","rounded-lg","border","border-blue-200","dark:border-blue-700"],[1,"font-medium","text-blue-900","dark:text-blue-300","mb-2"],[1,"text-sm","space-y-1"],[1,"text-blue-800","dark:text-blue-400"],[1,"font-medium"],[1,"ml-2","px-2","py-1","rounded","text-xs"],[1,"animate-spin","h-4","w-4","border-2","border-white","border-t-transparent","rounded-full"]],template:function(i,a){if(i&1&&(n(0,"div",0),b("click",function(v){return a.onBackdropClick(v)}),n(1,"div",1),b("click",function(v){return v.stopPropagation()}),n(2,"div",2)(3,"h2",3),l(4),e(),n(5,"button",4),b("click",function(){return a.onClose()}),n(6,"span",5),l(7,"\u2715"),e()()(),n(8,"div",6)(9,"div",7)(10,"div")(11,"p",8),l(12,"Current Stock"),e(),n(13,"p",9),l(14),e()(),n(15,"div",10)(16,"p",8),l(17,"Min Stock"),e(),n(18,"p",11),l(19),e()()(),n(20,"div",12)(21,"span",13),l(22),s(23,"titlecase"),e()()(),n(24,"form",14),b("ngSubmit",function(){return a.onSubmit()}),n(25,"div")(26,"label",15),l(27," Adjustment Type * "),e(),n(28,"select",16),b("change",function(){return a.onTypeChange()}),n(29,"option",17),l(30,"Select adjustment type"),e(),n(31,"option",18),l(32,"Add Stock (Incoming)"),e(),n(33,"option",19),l(34,"Remove Stock (Outgoing)"),e(),n(35,"option",20),l(36,"Stock Correction"),e(),n(37,"option",21),l(38,"Return to Supplier"),e()(),f(39,Ae,2,0,"div",22),e(),n(40,"div")(41,"label",15),l(42," Quantity * "),e(),n(43,"div",23),g(44,"input",24),n(45,"span",25),l(46),e()(),f(47,De,4,3,"div",22),e(),n(48,"div")(49,"label",15),l(50," Reason * "),e(),n(51,"select",26)(52,"option",17),l(53,"Select reason"),e(),f(54,Ge,2,2,"option",27),e(),f(55,Re,2,0,"div",22),e(),n(56,"div")(57,"label",15),l(58," Reference "),e(),g(59,"input",28),e(),n(60,"div")(61,"label",15),l(62," Notes "),e(),n(63,"textarea",29),l(64,"            "),e()(),f(65,ze,14,7,"div",30),e(),n(66,"div",31)(67,"button",32),b("click",function(){return a.onClose()}),l(68," Cancel "),e(),n(69,"button",33),b("click",function(){return a.onSubmit()}),f(70,$e,1,0,"div",34),l(71," Apply Adjustment "),e()()()()),i&2){let c,v,w,h,E;r(4),m(" Adjust Stock: ",a.part==null?null:a.part.name," "),r(10),$(" ",(a.part==null?null:a.part.stockLevel)||0," ",a.part==null?null:a.part.unit,"",((a.part==null?null:a.part.stockLevel)||0)!==1?"s":""," "),r(5),u((a.part==null?null:a.part.minStockLevel)||0),r(2),I(a.getStockStatusBadgeClass((a.part==null?null:a.part.stockStatus)||"in-stock")),r(),m(" ",p(23,18,a.part==null?null:a.part.stockStatus)," "),r(2),d("formGroup",a.stockForm),r(15),d("ngIf",((c=a.stockForm.get("type"))==null?null:c.errors)&&((c=a.stockForm.get("type"))==null?null:c.touched)),r(7),O(" ",a.part==null?null:a.part.unit,"",(((v=a.stockForm.get("quantity"))==null?null:v.value)||0)!==1?"s":""," "),r(),d("ngIf",((w=a.stockForm.get("quantity"))==null?null:w.errors)&&((w=a.stockForm.get("quantity"))==null?null:w.touched)),r(7),d("ngForOf",a.getAvailableReasons()),r(),d("ngIf",((h=a.stockForm.get("reason"))==null?null:h.errors)&&((h=a.stockForm.get("reason"))==null?null:h.touched)),r(10),d("ngIf",((E=a.stockForm.get("quantity"))==null?null:E.value)&&((E=a.stockForm.get("type"))==null?null:E.value)),r(4),d("disabled",!a.stockForm.valid||a.isSubmitting()),r(),d("ngIf",a.isSubmitting())}},dependencies:[A,B,V,ge,ie,K,L,N,U,J,ee,W,Q,te,X,Z],styles:['.modal-backdrop[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideIn .2s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:scale(.95) translateY(-10px)}to{opacity:1;transform:scale(1) translateY(0)}}.form-input[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);transition:all .2s ease}.form-input[_ngcontent-%COMP%]:focus{background:#ffffffe6;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.dark[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{background:#374151e6;border-color:#60a5fa;box-shadow:0 0 0 3px #60a5fa1a}.preview-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f61a,#93c5fd0d);border:1px solid rgba(59,130,246,.2)}.dark[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f633,#93c5fd1a);border:1px solid rgba(59,130,246,.3)}.stock-indicator[_ngcontent-%COMP%]{position:relative;overflow:hidden}.stock-indicator[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);transition:left .5s}.stock-indicator[_ngcontent-%COMP%]:hover:before{left:100%}.btn-adjust[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);box-shadow:0 4px 14px #3b82f64d;transition:all .2s ease}.btn-adjust[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#1d4ed8,#1e40af);box-shadow:0 6px 20px #3b82f666;transform:translateY(-1px)}.btn-adjust[_ngcontent-%COMP%]:disabled{background:#9ca3af;box-shadow:none;transform:none}.quantity-input-container[_ngcontent-%COMP%]{position:relative}.unit-indicator[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);pointer-events:none;font-size:.875rem;color:#6b7280}.dark[_ngcontent-%COMP%]   .unit-indicator[_ngcontent-%COMP%]{color:#9ca3af}@media (max-width: 767px){.modal-content[_ngcontent-%COMP%]{margin:1rem;max-height:calc(100vh - 2rem)}.stock-info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}input[_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible, textarea[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3b82f6;outline-offset:2px}.error-input[_ngcontent-%COMP%]{border-color:#ef4444;background-color:#fef2f280}.dark[_ngcontent-%COMP%]   .error-input[_ngcontent-%COMP%]{border-color:#f87171;background-color:#7f1d1d33}.valid-input[_ngcontent-%COMP%]{border-color:#10b981}.dark[_ngcontent-%COMP%]   .valid-input[_ngcontent-%COMP%]{border-color:#34d399}']})};var pe=()=>["engine","filters","fluids","brakes","tires"];function He(o,t){o&1&&(y(),n(0,"svg",53),g(1,"path",54),e())}function Ye(o,t){o&1&&(y(),n(0,"svg",55),g(1,"path",56),e())}function Ue(o,t){if(o&1){let i=P();n(0,"div",45)(1,"div",46),f(2,He,2,0,"svg",47)(3,Ye,2,0,"svg",48),e(),n(4,"div",49)(5,"p",50),l(6),e(),n(7,"p",51),l(8),e()(),n(9,"button",52),b("click",function(){let c=S(i).$implicit,v=_(3);return C(v.onMarkAlertRead(c))}),l(10),s(11,"translate"),e()()}if(o&2){let i=t.$implicit,a=_(3);I(a.getAlertSeverityClass(i.severity)),r(2),d("ngIf",i.type==="out-of-stock"),r(),d("ngIf",i.type==="low-stock"),r(3),u(i.message),r(2),u(a.formatDate(i.createdAt)),r(2),m(" ",p(11,7,"inventory.dashboard.markRead")," ")}}function We(o,t){if(o&1&&(n(0,"div",21)(1,"div",41)(2,"h2",42),l(3),s(4,"translate"),n(5,"span",43),l(6),e()()(),n(7,"div",39),f(8,Ue,12,9,"div",44),e()()),o&2){let i=_(2);r(3),m(" ",p(4,3,"inventory.dashboard.recentAlerts")," "),r(3),m(" ",i.unreadAlerts().length," "),r(2),d("ngForOf",i.unreadAlerts().slice(0,5))}}function Qe(o,t){o&1&&(y(),n(0,"svg",66),g(1,"path",67),e())}function Ke(o,t){o&1&&(y(),n(0,"svg",68),g(1,"path",69),e())}function Je(o,t){o&1&&(y(),n(0,"svg",68),g(1,"path",70),e())}function Xe(o,t){o&1&&(y(),n(0,"svg",68),g(1,"path",71)(2,"path",72),e())}function Ze(o,t){o&1&&(y(),n(0,"svg",68),g(1,"path",71),e())}function et(o,t){o&1&&(y(),n(0,"svg",68),g(1,"path",73)(2,"path",74),e())}function tt(o,t){if(o&1&&(n(0,"div",57)(1,"div",58)(2,"div",59),f(3,Qe,2,0,"svg",60)(4,Ke,2,0,"svg",61)(5,Je,2,0,"svg",61)(6,Xe,3,0,"svg",61)(7,Ze,2,0,"svg",61)(8,et,3,0,"svg",61),e(),n(9,"div")(10,"p",50),l(11),e(),n(12,"p",62),l(13),e()()(),n(14,"div",63)(15,"p",64),l(16),e(),n(17,"p",65),l(18),s(19,"translate"),e()()()),o&2){let i=t.$implicit,a=_(2);r(2),I(a.getCategoryColor(i.category)),r(),d("ngIf",i.category==="engine"),r(),d("ngIf",i.category==="filters"),r(),d("ngIf",i.category==="fluids"),r(),d("ngIf",i.category==="brakes"),r(),d("ngIf",i.category==="tires"),r(),d("ngIf",!H(14,pe).includes(i.category)),r(3),u(i.name),r(2),u(i.partNumber),r(3),u(i.totalUsageThisMonth),r(2),u(p(19,12,"inventory.dashboard.used"))}}function nt(o,t){o&1&&(y(),n(0,"svg",66),g(1,"path",67),e())}function it(o,t){o&1&&(y(),n(0,"svg",68),g(1,"path",69),e())}function rt(o,t){o&1&&(y(),n(0,"svg",68),g(1,"path",70),e())}function at(o,t){o&1&&(y(),n(0,"svg",68),g(1,"path",71)(2,"path",72),e())}function ot(o,t){o&1&&(y(),n(0,"svg",68),g(1,"path",71),e())}function lt(o,t){o&1&&(y(),n(0,"svg",68),g(1,"path",73)(2,"path",74),e())}function st(o,t){if(o&1&&(n(0,"div",57)(1,"div",58)(2,"div",59),f(3,nt,2,0,"svg",60)(4,it,2,0,"svg",61)(5,rt,2,0,"svg",61)(6,at,3,0,"svg",61)(7,ot,2,0,"svg",61)(8,lt,3,0,"svg",61),e(),n(9,"span",75),l(10),e()(),n(11,"span",76),l(12),e()()),o&2){let i,a=t.$implicit,c=_(2);r(2),I(c.getCategoryColor(a)),r(),d("ngIf",a==="engine"),r(),d("ngIf",a==="filters"),r(),d("ngIf",a==="fluids"),r(),d("ngIf",a==="brakes"),r(),d("ngIf",a==="tires"),r(),d("ngIf",!H(10,pe).includes(a)),r(2),u(c.getCategoryLabel(a)),r(2),m(" ",((i=c.stats())==null||i.categoryCounts==null?null:i.categoryCounts[a])||0," ")}}function pt(o,t){if(o&1){let i=P();n(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22)(4,"div")(5,"p",23),l(6),s(7,"translate"),e(),n(8,"p",24),l(9),e()(),n(10,"div",25)(11,"span",26),l(12,"\u{1F4E6}"),e()()()(),n(13,"div",21)(14,"div",22)(15,"div")(16,"p",23),l(17),s(18,"translate"),e(),n(19,"p",24),l(20),e()(),n(21,"div",27)(22,"span",28),l(23,"\u{1F4B0}"),e()()()(),n(24,"div",21)(25,"div",22)(26,"div")(27,"p",23),l(28),s(29,"translate"),e(),n(30,"p",29),l(31),e()(),n(32,"div",30)(33,"span",31),l(34,"\u26A0\uFE0F"),e()()(),n(35,"button",32),b("click",function(){S(i);let c=_();return C(c.setStockStatusFilter("low-stock"))}),l(36),s(37,"translate"),e()(),n(38,"div",21)(39,"div",22)(40,"div")(41,"p",23),l(42),s(43,"translate"),e(),n(44,"p",33),l(45),e()(),n(46,"div",34)(47,"span",35),l(48,"\u274C"),e()()(),n(49,"button",32),b("click",function(){S(i);let c=_();return C(c.setStockStatusFilter("out-of-stock"))}),l(50),s(51,"translate"),e()()(),f(52,We,9,5,"div",36),n(53,"div",37)(54,"div",21)(55,"h3",38),l(56),s(57,"translate"),e(),n(58,"div",39),f(59,tt,20,15,"div",40),e()(),n(60,"div",21)(61,"h3",38),l(62),s(63,"translate"),e(),n(64,"div",39),f(65,st,13,11,"div",40),e()()()()}if(o&2){let i,a,c,v,w,h=_();r(6),u(p(7,15,"inventory.dashboard.totalParts")),r(3),u(((i=h.stats())==null?null:i.totalParts)||0),r(8),u(p(18,17,"inventory.dashboard.totalValue")),r(3),u(h.formatCurrency(((a=h.stats())==null?null:a.totalValue)||0)),r(8),u(p(29,19,"inventory.dashboard.lowStock")),r(3),u(((c=h.stats())==null?null:c.lowStockCount)||0),r(5),m(" ",p(37,21,"inventory.dashboard.viewDetails")," "),r(6),u(p(43,23,"inventory.dashboard.outOfStock")),r(3),u(((v=h.stats())==null?null:v.outOfStockCount)||0),r(5),m(" ",p(51,25,"inventory.dashboard.viewDetails")," "),r(2),d("ngIf",h.unreadAlerts().length>0),r(4),u(p(57,27,"inventory.dashboard.mostUsedThisMonth")),r(3),d("ngForOf",(w=h.stats())==null||w.topUsedParts==null?null:w.topUsedParts.slice(0,5)),r(3),u(p(63,29,"inventory.dashboard.partsByCategory")),r(3),d("ngForOf",h.partService.getAvailableCategories())}}function dt(o,t){if(o&1&&(n(0,"option",92),l(1),e()),o&2){let i=t.$implicit,a=_(2);d("value",i),r(),m(" ",a.getCategoryLabel(i)," ")}}function ct(o,t){if(o&1&&(n(0,"option",92),l(1),e()),o&2){let i=t.$implicit;d("value",i.id),r(),m(" ",i.name," ")}}function mt(o,t){o&1&&(y(),n(0,"svg",110),g(1,"path",67),e())}function ut(o,t){o&1&&(y(),n(0,"svg",111),g(1,"path",69),e())}function gt(o,t){o&1&&(y(),n(0,"svg",111),g(1,"path",70),e())}function vt(o,t){o&1&&(y(),n(0,"svg",111),g(1,"path",71)(2,"path",72),e())}function ft(o,t){o&1&&(y(),n(0,"svg",111),g(1,"path",71),e())}function bt(o,t){o&1&&(y(),n(0,"svg",111),g(1,"path",73)(2,"path",74),e())}function _t(o,t){if(o&1){let i=P();n(0,"div",93),b("click",function(){let c=S(i).$implicit,v=_(2);return C(v.onPartSelect(c))}),n(1,"div",94)(2,"div",58)(3,"div",95),f(4,mt,2,0,"svg",96)(5,ut,2,0,"svg",97)(6,gt,2,0,"svg",97)(7,vt,3,0,"svg",97)(8,ft,2,0,"svg",97)(9,bt,3,0,"svg",97),e(),n(10,"div")(11,"h3",98),l(12),e(),n(13,"p",62),l(14),e()()(),n(15,"span",99),l(16),e()(),n(17,"div",100)(18,"div",101)(19,"span",102),l(20),s(21,"translate"),e(),n(22,"span",50),l(23),e()(),n(24,"div",101)(25,"span",102),l(26),s(27,"translate"),e(),n(28,"span",103),l(29),e()(),n(30,"div",101)(31,"span",102),l(32),s(33,"translate"),e(),n(34,"span",50),l(35),e()(),n(36,"div",101)(37,"span",102),l(38),s(39,"translate"),e(),n(40,"span",50),l(41),e()()(),n(42,"div",78)(43,"div",104)(44,"span"),l(45),s(46,"translate"),e(),n(47,"span"),l(48),e()(),n(49,"div",105),g(50,"div",106),e()(),n(51,"div",107)(52,"button",108),b("click",function(c){let v=S(i).$implicit;return _(2).onEditPart(v),C(c.stopPropagation())}),l(53),s(54,"translate"),e(),n(55,"button",109),b("click",function(c){let v=S(i).$implicit;return _(2).onAdjustStock(v),C(c.stopPropagation())}),l(56),s(57,"translate"),e()()()}if(o&2){let i=t.$implicit,a=_(2);r(3),I(a.getCategoryColor(i.category)),r(),d("ngIf",i.category==="engine"),r(),d("ngIf",i.category==="filters"),r(),d("ngIf",i.category==="fluids"),r(),d("ngIf",i.category==="brakes"),r(),d("ngIf",i.category==="tires"),r(),d("ngIf",!H(48,pe).includes(i.category)),r(3),m(" ",i.name," "),r(2),u(i.partNumber),r(),I(a.getStockStatusBadgeClass(i.stockStatus)),r(),m(" ",a.getStockStatusLabel(i.stockStatus)," "),r(4),m("",p(21,34,"inventory.partsCatalog.brand"),":"),r(3),u(i.brand),r(3),m("",p(27,36,"inventory.partsCatalog.stock"),":"),r(2),I(a.getStockStatusColor(i.stockStatus)),r(),$(" ",i.stockLevel," ",i.unit,"",i.stockLevel!==1?"s":""," "),r(3),m("",p(33,38,"inventory.partsCatalog.price"),":"),r(3),u(a.formatCurrency(i.price)),r(3),m("",p(39,40,"inventory.partsCatalog.supplier"),":"),r(3),u(a.getSupplierName(i.supplierId)),r(4),u(p(46,42,"inventory.partsCatalog.stockLevel")),r(3),O("",i.stockLevel,"/",i.maxStockLevel||"N/A"),r(2),I(i.stockStatus==="out-of-stock"?"bg-red-500":i.stockStatus==="low-stock"?"bg-amber-500":"bg-green-500"),me("width",i.maxStockLevel?i.stockLevel/i.maxStockLevel*100:0,"%"),r(3),m(" ",p(54,44,"inventory.partsCatalog.edit")," "),r(3),m(" ",p(57,46,"inventory.partsCatalog.adjustStock")," ")}}function xt(o,t){if(o&1){let i=P();n(0,"div",112)(1,"div",113)(2,"span",114),l(3,"\u{1F4E6}"),e()(),n(4,"h3",115),l(5),s(6,"translate"),e(),n(7,"p",116),l(8),s(9,"translate"),e(),n(10,"button",117),b("click",function(){S(i);let c=_(2);return C(c.onAddNewPart())}),l(11),s(12,"translate"),e()()}o&2&&(r(5),u(p(6,3,"inventory.partsCatalog.noPartsFound")),r(3),u(p(9,5,"inventory.partsCatalog.noPartsMessage")),r(3),m(" ",p(12,7,"inventory.partsCatalog.addNewPart")," "))}function yt(o,t){if(o&1){let i=P();n(0,"div",19)(1,"div",21)(2,"button",77),b("click",function(){S(i);let c=_();return C(c.toggleMobileFilters())}),l(3),s(4,"translate"),s(5,"translate"),e(),n(6,"div",78)(7,"input",79),s(8,"translate"),b("input",function(c){S(i);let v=_();return C(v.onSearchChange(c))}),e()(),n(9,"div",20)(10,"select",80),b("change",function(c){S(i);let v=_();return C(v.onCategoryChange(c))}),n(11,"option",81),l(12),s(13,"translate"),e(),f(14,dt,2,2,"option",82),e(),n(15,"select",80),b("change",function(c){S(i);let v=_();return C(v.onSupplierChange(c))}),n(16,"option",81),l(17),s(18,"translate"),e(),f(19,ct,2,2,"option",82),e(),n(20,"select",80),b("change",function(c){S(i);let v=_();return C(v.onStockStatusChange(c))}),n(21,"option",81),l(22),s(23,"translate"),e(),n(24,"option",83),l(25),s(26,"translate"),e(),n(27,"option",84),l(28),s(29,"translate"),e(),n(30,"option",85),l(31),s(32,"translate"),e(),n(33,"option",86),l(34),s(35,"translate"),e()(),n(36,"button",87),b("click",function(){S(i);let c=_();return C(c.clearFilters())}),y(),n(37,"svg",68),g(38,"path",88),e(),l(39),s(40,"translate"),e()()(),F(),n(41,"div",89),f(42,_t,58,49,"div",90),e(),f(43,xt,13,9,"div",91),e()}if(o&2){let i=_();r(2),se("active",i.showMobileFilters()),r(),m(" ",i.showMobileFilters()?p(4,23,"inventory.partsCatalog.hideFilters"):p(5,25,"inventory.partsCatalog.showFilters")," "),r(4),d("placeholder",ue(p(8,27,"inventory.partsCatalog.searchPlaceholder")))("value",i.searchQuery()),r(2),se("hidden",!i.showMobileFilters()),r(),d("value",i.selectedCategory()),r(2),u(p(13,29,"inventory.partsCatalog.allCategories")),r(2),d("ngForOf",i.partService.getAvailableCategories()),r(),d("value",i.selectedSupplier()),r(2),u(p(18,31,"inventory.partsCatalog.allSuppliers")),r(2),d("ngForOf",i.suppliers()),r(),d("value",i.selectedStockStatus()),r(2),u(p(23,33,"inventory.partsCatalog.allStockStatus")),r(3),u(p(26,35,"inventory.stockStatus.inStock")),r(3),u(p(29,37,"inventory.stockStatus.lowStock")),r(3),u(p(32,39,"inventory.stockStatus.outOfStock")),r(3),u(p(35,41,"inventory.stockStatus.ordered")),r(5),m(" ",p(40,43,"inventory.partsCatalog.clearFilters")," "),r(3),d("ngForOf",i.filteredParts()),r(),d("ngIf",i.filteredParts().length===0)}}function kt(o,t){if(o&1&&(n(0,"div",121)(1,"div",122)(2,"h4",64),l(3),e(),n(4,"span",123),l(5),s(6,"translate"),e()(),n(7,"div",124)(8,"p",102)(9,"span",103),l(10),s(11,"translate"),e(),l(12),e(),n(13,"p",102)(14,"span",103),l(15),s(16,"translate"),e(),l(17),e(),n(18,"p",102)(19,"span",103),l(20),s(21,"translate"),e(),l(22),s(23,"translate"),e(),n(24,"p",102)(25,"span",103),l(26),s(27,"translate"),e(),l(28),e()()()),o&2){let i=t.$implicit;r(3),u(i.name),r(2),m(" ",p(6,11,"inventory.suppliers.active")," "),r(5),m("",p(11,13,"inventory.suppliers.contact"),":"),r(2),m(" ",i.contactPerson," "),r(3),m("",p(16,15,"inventory.suppliers.phone"),":"),r(2),m(" ",i.phone," "),r(3),m("",p(21,17,"inventory.suppliers.delivery"),":"),r(2),O(" ",i.deliveryTime," ",p(23,19,"inventory.suppliers.days")," "),r(4),m("",p(27,21,"inventory.suppliers.payment"),":"),r(2),m(" ",i.paymentTerms," ")}}function ht(o,t){if(o&1&&(n(0,"div",19)(1,"div",21)(2,"h2",118),l(3),s(4,"translate"),e(),n(5,"div",119),f(6,kt,29,23,"div",120),e()()()),o&2){let i=_();r(3),u(p(4,2,"inventory.suppliers.title")),r(3),d("ngForOf",i.suppliers())}}function St(o,t){o&1&&(n(0,"div",125)(1,"div",126),g(2,"div",127),n(3,"span",128),l(4),s(5,"translate"),e()()()),o&2&&(r(4),u(p(5,1,"inventory.loading")))}function Ct(o,t){if(o&1){let i=P();n(0,"app-part-modal",129),b("close",function(){S(i);let c=_();return C(c.onPartModalClose())})("save",function(c){S(i);let v=_();return C(v.onPartModalSave(c))}),e()}if(o&2){let i=_();d("part",i.selectedPart())("isOpen",i.showPartModal())}}function wt(o,t){if(o&1){let i=P();n(0,"app-stock-adjustment-modal",130),b("close",function(){S(i);let c=_();return C(c.onStockAdjustmentModalClose())})("adjust",function(c){S(i);let v=_();return C(v.onStockAdjustmentApply(c))}),e()}if(o&2){let i=_();d("part",i.selectedPart())("isOpen",i.showStockAdjustmentModal())}}var he=class o{partService=M(q);translationService=M(re);parts=k([]);alerts=k([]);stats=k(null);suppliers=k([]);isLoading=k(!1);searchQuery=k("");selectedCategory=k("all");selectedSupplier=k("all");selectedStockStatus=k("all");showMobileFilters=k(!1);currentView=k("dashboard");showPartModal=k(!1);showStockAdjustmentModal=k(!1);selectedPart=k(null);filteredParts=Y(()=>{let t=[...this.parts()],i=this.searchQuery().toLowerCase();return i&&(t=t.filter(a=>a.name.toLowerCase().includes(i)||a.partNumber.toLowerCase().includes(i)||a.brand.toLowerCase().includes(i)||a.description?.toLowerCase().includes(i))),this.selectedCategory()!=="all"&&(t=t.filter(a=>a.category===this.selectedCategory())),this.selectedSupplier()!=="all"&&(t=t.filter(a=>a.supplierId===this.selectedSupplier())),this.selectedStockStatus()!=="all"&&(t=t.filter(a=>a.stockStatus===this.selectedStockStatus())),t});unreadAlerts=Y(()=>this.alerts().filter(t=>!t.isRead));criticalAlerts=Y(()=>this.alerts().filter(t=>t.severity==="critical"));ngOnInit(){this.loadData()}loadData(){this.isLoading.set(!0),this.partService.getParts().subscribe({next:t=>{this.parts.set(t)},error:t=>console.error("Failed to load parts:",t)}),this.partService.getAlerts().subscribe({next:t=>{this.alerts.set(t)},error:t=>console.error("Failed to load alerts:",t)}),this.partService.getInventoryStats().subscribe({next:t=>{this.stats.set(t),this.isLoading.set(!1)},error:t=>{console.error("Failed to load stats:",t),this.isLoading.set(!1)}}),this.partService.getSuppliers().subscribe({next:t=>{this.suppliers.set(t)},error:t=>console.error("Failed to load suppliers:",t)})}setView(t){this.currentView.set(t)}onSearchChange(t){let i=t.target;this.searchQuery.set(i.value)}onCategoryChange(t){let i=t.target;this.selectedCategory.set(i.value)}onSupplierChange(t){let i=t.target;this.selectedSupplier.set(i.value)}onStockStatusChange(t){let i=t.target;this.selectedStockStatus.set(i.value)}setStockStatusFilter(t){this.selectedStockStatus.set(t),this.setView("parts")}toggleMobileFilters(){this.showMobileFilters.set(!this.showMobileFilters())}clearFilters(){this.searchQuery.set(""),this.selectedCategory.set("all"),this.selectedSupplier.set("all"),this.selectedStockStatus.set("all")}getStockStatusColor(t){return this.partService.getStockStatusColor(t)}getStockStatusBadgeClass(t){return this.partService.getStockStatusBadgeClass(t)}getCategoryIcon(t){return this.partService.getCategoryIcon(t)}getCategoryColor(t){return{engine:"bg-red-600",transmission:"bg-purple-600",brakes:"bg-orange-600",suspension:"bg-indigo-600",electrical:"bg-yellow-600",filters:"bg-green-600",fluids:"bg-blue-600",tires:"bg-gray-600",body:"bg-pink-600",accessories:"bg-teal-600",consumables:"bg-cyan-600"}[t]||"bg-gray-600"}getSupplierName(t){return this.suppliers().find(a=>a.id===t)?.name||"Unknown Supplier"}onPartSelect(t){this.selectedPart.set(t),this.showPartModal.set(!0)}onEditPart(t){this.selectedPart.set(t),this.showPartModal.set(!0)}onAdjustStock(t){this.selectedPart.set(t),this.showStockAdjustmentModal.set(!0)}onAddNewPart(){this.selectedPart.set(null),this.showPartModal.set(!0)}onPartModalClose(){this.showPartModal.set(!1),this.selectedPart.set(null)}onPartModalSave(t){this.loadData()}onStockAdjustmentModalClose(){this.showStockAdjustmentModal.set(!1),this.selectedPart.set(null)}onStockAdjustmentApply(t){this.loadData()}onMarkAlertRead(t){this.partService.markAlertAsRead(t.id).subscribe({next:()=>{let i=this.alerts().map(a=>a.id===t.id?ce(de({},a),{isRead:!0}):a);this.alerts.set(i)},error:i=>console.error("Failed to mark alert as read:",i)})}getAlertIcon(t){return{"low-stock":"alert-triangle","out-of-stock":"x-circle","reorder-point":"shopping-cart",expired:"clock","price-change":"trending-up"}[t]||"info"}getAlertSeverityClass(t){let i={info:"alert-info",warning:"alert-warning",critical:"alert-critical"};return i[t]||i.info}formatCurrency(t,i="TND"){return new Intl.NumberFormat("fr-TN",{style:"currency",currency:i}).format(t)}formatDate(t){return new Intl.DateTimeFormat("fr-TN",{year:"numeric",month:"short",day:"numeric"}).format(t)}isMobile(){return typeof window<"u"&&window.innerWidth<1024}getStockStatusLabel(t){let a={"in-stock":"inStock","low-stock":"lowStock","out-of-stock":"outOfStock",ordered:"ordered"}[t]||"inStock";return this.translationService.instant(`inventory.stockStatus.${a}`)}getCategoryLabel(t){let a={engine:"engine",transmission:"transmission",brakes:"brakes",suspension:"suspension",electrical:"electrical",filters:"filters",fluids:"fluids",tires:"tires",body:"body",accessories:"accessories",consumables:"consumables"}[t]||t;return this.translationService.instant(`inventory.categories.${a}`)}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=T({type:o,selectors:[["app-inventory"]],decls:42,vars:30,consts:[[1,"min-h-screen","inventory-container","p-4","lg:p-6"],[1,"mb-6"],[1,"flex","flex-col","lg:flex-row","lg:items-center","lg:justify-between","gap-4"],[1,"text-2xl","lg:text-3xl","font-bold","text-white"],[1,"mt-1","text-gray-300"],[1,"flex","flex-wrap","items-center","gap-2","justify-start","sm:justify-end"],[1,"nav-button","flex","items-center","gap-2","px-4","py-2","rounded-lg","backdrop-blur-sm","border-2","transition-all","duration-300","font-medium","hover:scale-105",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 5a2 2 0 012-2h4a2 2 0 012 2v6a2 2 0 01-2 2H10a2 2 0 01-2-2V5zM16 7h.01M16 11h.01M8 21l8-8"],[1,"text-sm"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"btn-primary",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],["class","space-y-6",4,"ngIf"],["class","fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",4,"ngIf"],[3,"part","isOpen","close","save",4,"ngIf"],[3,"part","isOpen","close","adjust",4,"ngIf"],[1,"space-y-6"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"glass-card"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium",2,"color","var(--color-text-secondary)"],[1,"text-2xl","font-bold",2,"color","var(--color-text-primary)"],[1,"h-12","w-12","rounded-lg","flex","items-center","justify-center",2,"background-color","rgba(59, 130, 246, 0.1)"],[1,"text-xl",2,"color","#3b82f6"],[1,"h-12","w-12","rounded-lg","flex","items-center","justify-center",2,"background-color","rgba(34, 197, 94, 0.1)"],[1,"text-xl",2,"color","#22c55e"],[1,"text-2xl","font-bold",2,"color","#f59e0b"],[1,"h-12","w-12","rounded-lg","flex","items-center","justify-center",2,"background-color","rgba(245, 158, 11, 0.1)"],[1,"text-xl",2,"color","#f59e0b"],[1,"btn-tertiary","btn-sm","mt-2",3,"click"],[1,"text-2xl","font-bold",2,"color","#ef4444"],[1,"h-12","w-12","rounded-lg","flex","items-center","justify-center",2,"background-color","rgba(239, 68, 68, 0.1)"],[1,"text-xl",2,"color","#ef4444"],["class","glass-card",4,"ngIf"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"text-lg","font-semibold","mb-4",2,"color","var(--color-text-primary)"],[1,"space-y-3"],["class","flex items-center justify-between p-3 inventory-list-item rounded-lg",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold",2,"color","var(--color-text-primary)"],[1,"ml-2","px-2","py-1","text-xs","rounded-full",2,"background-color","rgba(239, 68, 68, 0.1)","color","#ef4444"],["class","flex items-center gap-4 p-4 rounded-lg border transition-all hover:shadow-sm",3,"class",4,"ngFor","ngForOf"],[1,"flex","items-center","gap-4","p-4","rounded-lg","border","transition-all","hover:shadow-sm"],[1,"flex-shrink-0","w-8","h-8","flex","items-center","justify-center"],["class","w-5 h-5 text-red-500","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["class","w-5 h-5 text-amber-500","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],[1,"flex-1","min-w-0"],[1,"font-medium","text-primary-themed"],[1,"text-sm","text-tertiary-themed","mt-1"],[1,"flex-shrink-0","text-xs","px-3","py-1","rounded-md","mark-read-button","transition-colors","font-medium",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5","text-amber-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z"],[1,"flex","items-center","justify-between","p-3","inventory-list-item","rounded-lg"],[1,"flex","items-center","gap-3"],[1,"w-8","h-8","rounded-lg","flex","items-center","justify-center","text-white","font-bold","text-sm"],["class","w-4 h-4","fill","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","w-4 h-4","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],[1,"text-sm","text-secondary-themed"],[1,"text-right"],[1,"font-semibold","text-primary-themed"],[1,"text-xs","text-secondary-themed"],["fill","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["d","M12 2.5L8.42 6.07c-.58.58-.42 1.61.35 1.97L10 8.5v2l-1.23.46c-.77.36-.93 1.39-.35 1.97L12 16.5l3.58-3.57c.58-.58.42-1.61-.35-1.97L14 10.5v-2l1.23-.46c.77-.36.93-1.39.35-1.97L12 2.5z"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547A1.001 1.001 0 004 17v4a1 1 0 001.053.999l1.864-.218a1 1 0 01.17-.014h8.826c.06 0 .119.005.17.014l1.864.218A1 1 0 0020 21v-4a1.001 1.001 0 00-.572-1.428z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"font-medium","text-primary-themed","capitalize"],[1,"text-sm","font-semibold","text-secondary-themed"],[1,"w-full","lg:w-auto","mb-4","btn-filter-toggle",3,"click"],[1,"mb-4"],["type","text",1,"w-full","px-4","py-3","bg-white/50","dark:bg-gray-700/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","dark:focus:ring-blue-400","text-primary-themed","placeholder-gray-500","dark:placeholder-gray-400","backdrop-blur-sm",3,"input","placeholder","value"],[1,"filter-select",3,"change","value"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["value","in-stock"],["value","low-stock"],["value","out-of-stock"],["value","ordered"],[1,"btn-clear-filters",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"grid","grid-cols-1","md:grid-cols-2","xl:grid-cols-3","gap-6"],["class","glass-card hover:shadow-lg transition-all cursor-pointer group",3,"click",4,"ngFor","ngForOf"],["class","glass-card p-12 text-center",4,"ngIf"],[3,"value"],[1,"glass-card","hover:shadow-lg","transition-all","cursor-pointer","group",3,"click"],[1,"flex","items-start","justify-between","mb-4"],[1,"h-10","w-10","rounded-lg","flex","items-center","justify-center","text-white","font-bold","text-sm"],["class","w-5 h-5","fill","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","w-5 h-5","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],[1,"font-semibold","text-primary-themed","group-hover:text-blue-600","dark:group-hover:text-blue-400","transition-colors"],[1,"px-2","py-1","rounded-full","text-xs","font-medium","border"],[1,"space-y-2","mb-4"],[1,"flex","justify-between","text-sm"],[1,"text-secondary-themed"],[1,"font-medium"],[1,"flex","justify-between","text-xs","text-secondary-themed","mb-1"],[1,"w-full","bg-gray-200","dark:bg-gray-700","rounded-full","h-2"],[1,"h-2","rounded-full","transition-all"],[1,"flex","gap-2"],[1,"btn-primary","flex-1",3,"click"],[1,"btn-tertiary","flex-1",3,"click"],["fill","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5"],[1,"glass-card","p-12","text-center"],[1,"h-16","w-16","bg-gray-100","dark:bg-gray-700","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-2xl","text-gray-400","dark:text-gray-600"],[1,"text-lg","font-medium","text-primary-themed","mb-2"],[1,"text-secondary-themed","mb-4"],[1,"px-4","py-2","bg-blue-600","hover:bg-blue-700","text-white","rounded-lg","transition-colors",3,"click"],[1,"text-lg","font-semibold","text-primary-themed","mb-4"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-4"],["class","supplier-card p-4 rounded-lg transition-all",4,"ngFor","ngForOf"],[1,"supplier-card","p-4","rounded-lg","transition-all"],[1,"flex","items-start","justify-between","mb-3"],[1,"badge","badge-active"],[1,"space-y-1","text-sm"],[1,"fixed","inset-0","bg-black/20","backdrop-blur-sm","flex","items-center","justify-center","z-50"],[1,"bg-white","dark:bg-gray-800","rounded-xl","p-6","flex","items-center","gap-3"],[1,"animate-spin","h-5","w-5","border-2","border-blue-600","border-t-transparent","rounded-full"],[1,"text-primary-themed"],[3,"close","save","part","isOpen"],[3,"close","adjust","part","isOpen"]],template:function(i,a){i&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),l(5),s(6,"translate"),e(),n(7,"p",4),l(8),s(9,"translate"),e()(),n(10,"div",5)(11,"button",6),b("click",function(){return a.setView("dashboard")}),y(),n(12,"svg",7),g(13,"path",8)(14,"path",9),e(),F(),n(15,"span",10),l(16),s(17,"translate"),e()(),n(18,"button",6),b("click",function(){return a.setView("parts")}),y(),n(19,"svg",7),g(20,"path",11),e(),F(),n(21,"span",10),l(22),s(23,"translate"),e()(),n(24,"button",6),b("click",function(){return a.setView("suppliers")}),y(),n(25,"svg",7),g(26,"path",12),e(),F(),n(27,"span",10),l(28),s(29,"translate"),e()(),n(30,"button",13),b("click",function(){return a.onAddNewPart()}),y(),n(31,"svg",7),g(32,"path",14),e(),F(),n(33,"span"),l(34),s(35,"translate"),e()()()()(),f(36,pt,66,31,"div",15)(37,yt,44,45,"div",15)(38,ht,7,4,"div",15)(39,St,6,3,"div",16)(40,Ct,1,2,"app-part-modal",17)(41,wt,1,2,"app-stock-adjustment-modal",18),e()),i&2&&(r(5),u(p(6,18,"inventory.title")),r(3),u(p(9,20,"inventory.subtitle")),r(3),I(a.currentView()==="dashboard"?"nav-button-active":"nav-button-inactive"),r(5),u(p(17,22,"inventory.navigation.dashboard")),r(2),I(a.currentView()==="parts"?"nav-button-active":"nav-button-inactive"),r(4),u(p(23,24,"inventory.navigation.partsCatalog")),r(2),I(a.currentView()==="suppliers"?"nav-button-active":"nav-button-inactive"),r(4),u(p(29,26,"inventory.navigation.suppliers")),r(6),u(p(35,28,"inventory.navigation.addPart")),r(2),d("ngIf",a.currentView()==="dashboard"),r(),d("ngIf",a.currentView()==="parts"),r(),d("ngIf",a.currentView()==="suppliers"),r(),d("ngIf",a.isLoading()),r(),d("ngIf",a.showPartModal()),r(),d("ngIf",a.showStockAdjustmentModal()))},dependencies:[A,B,V,be,L,N,ve,oe,le,ae],styles:[".nav-button-active[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-primary),var(--color-primary-hover))!important;border-color:var(--color-primary)!important;color:#fff!important;box-shadow:0 4px 15px #2563eb4d}.nav-button-inactive[_ngcontent-%COMP%]{background-color:var(--color-bg-primary)!important;border-color:var(--color-border)!important;color:var(--color-text-secondary)!important}.nav-button-inactive[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-tertiary)!important;border-color:var(--color-primary)!important;color:var(--color-text-primary)!important;box-shadow:0 2px 8px #2563eb33}.nav-button-add[_ngcontent-%COMP%]{background:linear-gradient(135deg,#059669,#047857)!important;border-color:#059669!important;color:#fff!important;box-shadow:0 4px 15px #0596694d}.nav-button-add[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#047857,#065f46)!important;box-shadow:0 6px 20px #05966966;transform:translateY(-1px)}.glass-card[_ngcontent-%COMP%]{background:#111827f2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(75,85,99,.6);border-radius:20px;padding:1.5rem;box-shadow:0 8px 32px #000000b3;transition:all .3s cubic-bezier(.4,0,.2,1)}.glass-card[_ngcontent-%COMP%]:hover{background:#1f2937fa;box-shadow:0 12px 40px #000c;border-color:#3b82f6b3;transform:translateY(-2px)}.stock-bar[_ngcontent-%COMP%]{transition:width .3s ease}@media (max-width: 767px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.parts-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.part-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px #0000001a}@media (prefers-color-scheme: dark){.part-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 25px #0000004d}}.alert-enter[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(-100%);opacity:0}to{transform:translate(0);opacity:1}}*[_ngcontent-%COMP%]{transition:background-color .2s ease,border-color .2s ease,color .2s ease}.inventory-container[_ngcontent-%COMP%]{background:transparent;color:#fff;min-height:100vh}.inventory-card[_ngcontent-%COMP%]{background:#111827f2;border:1px solid rgba(75,85,99,.6);color:#fff;border-radius:20px;padding:1.5rem;box-shadow:0 8px 32px #000000b3;transition:all .3s cubic-bezier(.4,0,.2,1)}.inventory-card[_ngcontent-%COMP%]:hover{background:#1f2937fa;border-color:#3b82f6b3;transform:translateY(-2px);box-shadow:0 12px 40px #000c}.inventory-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .inventory-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .inventory-card[_ngcontent-%COMP%]   .font-bold[_ngcontent-%COMP%], .inventory-card[_ngcontent-%COMP%]   .font-semibold[_ngcontent-%COMP%]{color:#fff!important}.inventory-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .inventory-card[_ngcontent-%COMP%]   .text-gray-600[_ngcontent-%COMP%]{color:#d1d5db!important}.inventory-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6cc,#1d4ed8cc);border:1px solid rgba(59,130,246,.3);color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;text-align:center}.inventory-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3b82f6e6,#1d4ed8e6);transform:translateY(-1px)}.text-primary-themed[_ngcontent-%COMP%]{color:var(--color-text-primary)}.text-secondary-themed[_ngcontent-%COMP%]{color:var(--color-text-secondary)}.text-tertiary-themed[_ngcontent-%COMP%]{color:var(--color-text-tertiary)}.inventory-card-bg[_ngcontent-%COMP%]{background-color:var(--color-bg-primary)}.inventory-border[_ngcontent-%COMP%]{border-color:var(--color-border)}.alert-info[_ngcontent-%COMP%]{background:#3b82f633;border:1px solid rgba(59,130,246,.4);color:#93c5fd;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.alert-warning[_ngcontent-%COMP%]{background:#f59e0b33;border:1px solid rgba(245,158,11,.4);color:#fcd34d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.alert-critical[_ngcontent-%COMP%]{background:#ef444433;border:1px solid rgba(239,68,68,.4);color:#fca5a5;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.mark-read-button[_ngcontent-%COMP%]{background-color:var(--color-bg-secondary);border-color:var(--color-border);color:var(--color-text-secondary)}.mark-read-button[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-tertiary)}.inventory-list-item[_ngcontent-%COMP%]{background:#1f293799!important;-webkit-backdrop-filter:blur(10px)!important;backdrop-filter:blur(10px)!important;border:1px solid rgba(75,85,99,.4)!important;transition:all .2s ease!important}.inventory-list-item[_ngcontent-%COMP%]:hover{background:#1f2937cc!important;border-color:#4b556399!important;transform:translateY(-1px)!important;box-shadow:0 4px 12px #0000004d!important}.supplier-card[_ngcontent-%COMP%]{background:#1f293799;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(75,85,99,.4)}.supplier-card[_ngcontent-%COMP%]:hover{background:#1f2937cc;border-color:#4b556399;transform:translateY(-1px);box-shadow:0 4px 12px #0000004d}button[_ngcontent-%COMP%]:focus-visible, input[_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3b82f6;outline-offset:2px}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};export{he as InventoryComponent};
