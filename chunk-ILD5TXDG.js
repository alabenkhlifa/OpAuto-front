import{a as A}from"./chunk-CEJGX6BW.js";import{b as K,c as h,d as J,e as X,h as Z,i as ee,j as te,k as ie,n as ne,o as re,p as H,q as z,r as ae,s as oe,u as le,v as se,w as de}from"./chunk-7OTNPXYV.js";import{b as L,c as T}from"./chunk-T7UWPKEK.js";import{$ as F,$a as Q,A as P,B as _,C as y,Da as s,Ea as d,F as S,Ia as R,K as i,N as E,Na as Y,Pa as $,S as G,T as I,Ta as O,X as g,Y as f,_ as W,aa as B,ab as U,ba as b,ca as r,da as a,ea as u,fa as V,ga as v,ha as x,na as k,pa as l,qa as c,ra as p,sa as N,x as M,ya as D,z as w}from"./chunk-4Y4AIMEU.js";function ge(o,n){if(o&1&&(r(0,"div",16)(1,"span",17),l(2),s(3,"translate"),a(),r(4,"span",25),l(5),a()()),o&2){let e=x();i(2),p("",d(3,3,"cars.nextDue"),":"),i(2),b("ngClass",e.getDateColor(e.car.nextServiceDue)),i(),p(" ",e.formatDate(e.car.nextServiceDue)," ")}}var q=class o{translationService=M(L);car;customerName;carSelected=new I;scheduleService=new I;viewHistory=new I;onCardClick(){this.carSelected.emit(this.car)}onScheduleClick(n){n.stopPropagation(),this.scheduleService.emit(this.car)}onHistoryClick(n){n.stopPropagation(),this.viewHistory.emit(this.car)}getStatusBadgeClass(n){return{"up-to-date":"badge badge-up-to-date","due-soon":"badge badge-due-soon",overdue:"badge badge-overdue"}[n]||"badge badge-unknown"}getStatusLabel(n){return{"up-to-date":this.translationService.instant("cars.upToDate"),"due-soon":this.translationService.instant("cars.dueSoon"),overdue:this.translationService.instant("cars.overdue")}[n]||this.translationService.instant("cars.unknown")}getDateColor(n){if(!n)return"";let e=new Date,t=n.getTime()-e.getTime(),m=Math.ceil(t/(1e3*60*60*24));return m<0?"text-red-600 dark:text-red-400":m<=7?"text-amber-600 dark:text-amber-400":"text-green-600 dark:text-green-400"}formatMileage(n){return new Intl.NumberFormat("en-US").format(n)+" km"}formatDate(n){return n?new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(n):"N/A"}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=E({type:o,selectors:[["app-car-card"]],inputs:{car:"car",customerName:"customerName"},outputs:{carSelected:"carSelected",scheduleService:"scheduleService",viewHistory:"viewHistory"},decls:53,vars:26,consts:[[1,"car-card",3,"click"],[1,"car-header"],[1,"car-image"],["fill","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-gray-400"],["d","M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.22.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"],[1,"car-info"],[1,"car-title"],[1,"car-year"],[1,"status-badge",3,"ngClass"],[1,"license-plate"],[1,"customer-section"],[1,"flex","items-center","gap-2","text-gray-600","dark:text-gray-400"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"font-medium"],[1,"service-stats"],[1,"stat-row"],[1,"stat-label"],[1,"stat-value"],[1,"card-actions"],[1,"action-btn","primary",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"hidden","lg:inline"],[1,"action-btn","secondary",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"stat-value",3,"ngClass"]],template:function(e,t){e&1&&(r(0,"div",0),v("click",function(){return t.onCardClick()}),r(1,"div",1)(2,"div",2),_(),r(3,"svg",3),u(4,"path",4),a()(),y(),r(5,"div",5)(6,"h3",6),l(7),a(),r(8,"p",7),l(9),a()(),r(10,"div",8),l(11),a()(),r(12,"div",9),l(13),a(),r(14,"div",10)(15,"div",11),_(),r(16,"svg",12),u(17,"path",13),a(),y(),r(18,"span",14),l(19),a()()(),r(20,"div",15)(21,"div",16)(22,"span",17),l(23),s(24,"translate"),a(),r(25,"span",18),l(26),a()(),r(27,"div",16)(28,"span",17),l(29),s(30,"translate"),a(),r(31,"span",18),l(32),a()(),r(33,"div",16)(34,"span",17),l(35),s(36,"translate"),a(),r(37,"span",18),l(38),a()(),g(39,ge,6,5,"div",16),a(),r(40,"div",19)(41,"button",20),v("click",function(C){return t.onScheduleClick(C)}),_(),r(42,"svg",12),u(43,"path",21),a(),y(),r(44,"span",22),l(45),s(46,"translate"),a()(),r(47,"button",23),v("click",function(C){return t.onHistoryClick(C)}),_(),r(48,"svg",12),u(49,"path",24),a(),y(),r(50,"span",22),l(51),s(52,"translate"),a()()()()),e&2&&(i(7),N("",t.car.make," ",t.car.model),i(2),c(t.car.year),i(),b("ngClass",t.getStatusBadgeClass(t.car.serviceStatus)),i(),p(" ",t.getStatusLabel(t.car.serviceStatus)," "),i(2),p(" ",t.car.licensePlate," "),i(6),c(t.customerName),i(4),p("",d(24,16,"cars.mileage"),":"),i(3),c(t.formatMileage(t.car.currentMileage)),i(3),p("",d(30,18,"cars.totalServices"),":"),i(3),c(t.car.totalServices),i(3),p("",d(36,20,"cars.lastService"),":"),i(3),c(t.formatDate(t.car.lastServiceDate)),i(),f(t.car.nextServiceDue?39:-1),i(6),c(d(46,22,"cars.schedule")),i(6),c(d(52,24,"cars.history")))},dependencies:[O,Y,T],styles:[".car-card[_ngcontent-%COMP%]{background:#111827f2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(75,85,99,.6);border-radius:20px;padding:1.5rem;box-shadow:0 8px 32px #000000b3;transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer;margin-bottom:1rem}.car-card[_ngcontent-%COMP%]:hover{background:#1f2937fa;box-shadow:0 12px 40px #000c;border-color:#3b82f6b3;transform:translateY(-2px)}.car-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;margin-bottom:1rem}.car-image[_ngcontent-%COMP%]{flex-shrink:0;width:3rem;height:3rem;background:#3b82f61a;border-radius:12px;display:flex;align-items:center;justify-content:center}.car-info[_ngcontent-%COMP%]{flex:1;min-width:0}.car-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#fff;margin:0;line-height:1.2}.car-year[_ngcontent-%COMP%]{font-size:.875rem;color:#9ca3af;margin:0}.status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:12px;font-size:.75rem;font-weight:600;border:1px solid}.license-plate[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1f2937,#374151);color:#fff;padding:.75rem;border-radius:8px;text-align:center;font-family:Courier New,monospace;font-size:1.125rem;font-weight:700;letter-spacing:2px;margin-bottom:1rem;border:2px solid #4b5563}.customer-section[_ngcontent-%COMP%]{margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px solid rgba(255,255,255,.1)}.customer-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.service-stats[_ngcontent-%COMP%]{margin-bottom:1rem}.stat-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;font-size:.875rem}.stat-label[_ngcontent-%COMP%]{color:#9ca3af}.stat-value[_ngcontent-%COMP%]{font-weight:600;color:#fff}.card-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.action-btn[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1rem;border-radius:12px;font-size:.875rem;font-weight:600;transition:all .3s cubic-bezier(.4,0,.2,1);border:1px solid;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);cursor:pointer}.action-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#059669,#047857);border-color:#059669;color:#fff;box-shadow:0 4px 15px #0596694d}.action-btn.primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#047857,#065f46);box-shadow:0 6px 20px #05966966;transform:translateY(-1px)}.action-btn.secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);border-color:#f59e0b;color:#fff;box-shadow:0 4px 15px #f59e0b4d}.action-btn.secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#d97706,#b45309);box-shadow:0 6px 20px #f59e0b66;transform:translateY(-1px)}"]})};var be=(o,n)=>n.id;function ve(o,n){o&1&&(l(0),s(1,"translate")),o&2&&p(" ",d(1,1,"cars.licensePlate")," is required ")}function Ce(o,n){o&1&&(l(0),s(1,"translate")),o&2&&p(" ",d(1,1,"cars.licensePlate")," must be at least 3 characters ")}function xe(o,n){if(o&1&&(r(0,"div",12),g(1,ve,2,3),g(2,Ce,2,3),a()),o&2){let e=x();i(),f(!(e.licensePlate==null||e.licensePlate.errors==null)&&e.licensePlate.errors.required?1:-1),i(),f(!(e.licensePlate==null||e.licensePlate.errors==null)&&e.licensePlate.errors.minlength?2:-1)}}function he(o,n){o&1&&(r(0,"div",12),l(1),s(2,"translate"),a()),o&2&&(i(),p("",d(2,1,"cars.make")," is required"))}function _e(o,n){o&1&&(r(0,"div",12),l(1),s(2,"translate"),a()),o&2&&(i(),p("",d(2,1,"cars.model")," is required"))}function ye(o,n){o&1&&(l(0),s(1,"translate")),o&2&&p(" ",d(1,1,"cars.year")," is required ")}function ke(o,n){if(o&1&&(l(0),s(1,"translate")),o&2){let e=x(2);N(" ",d(1,2,"cars.year")," must be between 1990 and ",e.currentYear+1," ")}}function Se(o,n){if(o&1&&(r(0,"div",12),g(1,ye,2,3),g(2,ke,2,4),a()),o&2){let e=x();i(),f(!(e.year==null||e.year.errors==null)&&e.year.errors.required?1:-1),i(),f(!(e.year==null||e.year.errors==null)&&e.year.errors.min||!(e.year==null||e.year.errors==null)&&e.year.errors.max?2:-1)}}function Me(o,n){o&1&&(l(0),s(1,"translate")),o&2&&p(" ",d(1,1,"cars.currentMileage")," is required ")}function we(o,n){o&1&&(l(0),s(1,"translate")),o&2&&p(" ",d(1,1,"cars.mileage")," cannot be negative ")}function Pe(o,n){if(o&1&&(r(0,"div",12),g(1,Me,2,3),g(2,we,2,3),a()),o&2){let e=x();i(),f(!(e.currentMileage==null||e.currentMileage.errors==null)&&e.currentMileage.errors.required?1:-1),i(),f(!(e.currentMileage==null||e.currentMileage.errors==null)&&e.currentMileage.errors.min?2:-1)}}function Ie(o,n){if(o&1&&(r(0,"option",36),l(1),a()),o&2){let e=n.$implicit;b("value",e.id),i(),N("",e.name," - ",e.phone)}}function Ee(o,n){o&1&&(r(0,"div",12),l(1),s(2,"translate"),a()),o&2&&(i(),p("Please select a ",d(2,1,"common.customer")))}function Oe(o,n){if(o&1&&(r(0,"div",9)(1,"label",33),l(2),s(3,"translate"),a(),r(4,"select",34)(5,"option",35),l(6),s(7,"translate"),a(),F(8,Ie,2,3,"option",36,be),a(),g(10,Ee,3,3,"div",12),a()),o&2){let e=x();i(2),c(d(3,5,"cars.selectCustomerRequired")),i(2),k("error",(e.customerId==null?null:e.customerId.invalid)&&((e.customerId==null?null:e.customerId.dirty)||(e.customerId==null?null:e.customerId.touched))),i(2),c(d(7,7,"cars.chooseCustomer")),i(2),B(e.customers()),i(2),f(e.customerId!=null&&e.customerId.invalid&&(e.customerId!=null&&e.customerId.dirty||e.customerId!=null&&e.customerId.touched)?10:-1)}}function Te(o,n){o&1&&(r(0,"div",12),l(1),s(2,"translate"),a()),o&2&&(i(),p("",d(2,1,"cars.customerName")," is required"))}function Fe(o,n){o&1&&(l(0),s(1,"translate")),o&2&&p(" ",d(1,1,"cars.phoneNumber")," is required ")}function Be(o,n){o&1&&(l(0),s(1,"translate")),o&2&&p(" Please enter a valid ",d(1,1,"cars.phoneNumber")," ")}function Ne(o,n){if(o&1&&(r(0,"div",12),g(1,Fe,2,3),g(2,Be,2,3),a()),o&2){let e=x(2);i(),f(!(e.customerPhone==null||e.customerPhone.errors==null)&&e.customerPhone.errors.required?1:-1),i(),f(!(e.customerPhone==null||e.customerPhone.errors==null)&&e.customerPhone.errors.pattern?2:-1)}}function Re(o,n){o&1&&(r(0,"div",12),l(1),s(2,"translate"),a()),o&2&&(i(),p("Please enter a valid ",d(2,1,"cars.email")))}function Ve(o,n){if(o&1&&(r(0,"div",29)(1,"div",9)(2,"label",37),l(3),s(4,"translate"),a(),u(5,"input",38),g(6,Te,3,3,"div",12),a(),r(7,"div",9)(8,"label",39),l(9),s(10,"translate"),a(),u(11,"input",40),g(12,Ne,3,2,"div",12),a(),r(13,"div",9)(14,"label",41),l(15),s(16,"translate"),a(),u(17,"input",42),g(18,Re,3,3,"div",12),a()()),o&2){let e=x();i(3),p("",d(4,12,"cars.customerName")," *"),i(2),k("error",(e.customerName==null?null:e.customerName.invalid)&&((e.customerName==null?null:e.customerName.dirty)||(e.customerName==null?null:e.customerName.touched))),i(),f(e.customerName!=null&&e.customerName.invalid&&(e.customerName!=null&&e.customerName.dirty||e.customerName!=null&&e.customerName.touched)?6:-1),i(3),p("",d(10,14,"cars.phoneNumber")," *"),i(2),k("error",(e.customerPhone==null?null:e.customerPhone.invalid)&&((e.customerPhone==null?null:e.customerPhone.dirty)||(e.customerPhone==null?null:e.customerPhone.touched))),i(),f(e.customerPhone!=null&&e.customerPhone.invalid&&(e.customerPhone!=null&&e.customerPhone.dirty||e.customerPhone!=null&&e.customerPhone.touched)?12:-1),i(3),p("",d(16,16,"cars.email")," (Optional)"),i(2),k("error",(e.customerEmail==null?null:e.customerEmail.invalid)&&((e.customerEmail==null?null:e.customerEmail.dirty)||(e.customerEmail==null?null:e.customerEmail.touched))),i(),f(e.customerEmail!=null&&e.customerEmail.invalid&&(e.customerEmail!=null&&e.customerEmail.dirty||e.customerEmail!=null&&e.customerEmail.touched)?18:-1)}}function De(o,n){o&1&&(_(),r(0,"svg",43),u(1,"circle",44)(2,"path",45),a(),l(3),s(4,"translate")),o&2&&(i(3),p(" ",d(4,1,"cars.registering"),"... "))}function He(o,n){o&1&&(l(0),s(1,"translate")),o&2&&p(" ",d(1,1,"cars.registerCar")," ")}var j=class o{formBuilder=M(le);carService=M(A);translationService=M(L);close=new I;carRegistered=new I;customers=S([]);isSubmitting=S(!1);currentYear=new Date().getFullYear();carForm;constructor(){this.carForm=this.formBuilder.group({licensePlate:["",[h.required,h.minLength(3)]],make:["",[h.required]],model:["",[h.required]],year:[this.currentYear,[h.required,h.min(1990),h.max(this.currentYear+1)]],currentMileage:[0,[h.required,h.min(0)]],customerType:["existing",[h.required]],customerId:[""],customerName:[""],customerPhone:["",[h.pattern(/^\+?[0-9\-\s\(\)]+$/)]],customerEmail:["",[h.email]]}),this.loadCustomers(),this.setupValidationRules()}get licensePlate(){return this.carForm.get("licensePlate")}get make(){return this.carForm.get("make")}get model(){return this.carForm.get("model")}get year(){return this.carForm.get("year")}get currentMileage(){return this.carForm.get("currentMileage")}get customerType(){return this.carForm.get("customerType")}get customerId(){return this.carForm.get("customerId")}get customerName(){return this.carForm.get("customerName")}get customerPhone(){return this.carForm.get("customerPhone")}get customerEmail(){return this.carForm.get("customerEmail")}setupValidationRules(){this.customerType?.valueChanges.subscribe(n=>{n==="existing"?(this.customerId?.setValidators([h.required]),this.customerName?.clearValidators(),this.customerPhone?.clearValidators()):(this.customerId?.clearValidators(),this.customerName?.setValidators([h.required]),this.customerPhone?.setValidators([h.required,h.pattern(/^\+?[0-9\-\s\(\)]+$/)])),this.customerId?.updateValueAndValidity(),this.customerName?.updateValueAndValidity(),this.customerPhone?.updateValueAndValidity()})}loadCustomers(){let n=[{id:"customer1",name:"Ahmed Ben Ali",phone:"+216-20-123-456",email:"ahmed.benali@email.tn",registrationDate:new Date,totalCars:2,totalAppointments:5,totalInvoices:3,totalSpent:1200,averageSpending:400,status:"active",preferredContactMethod:"phone",loyaltyPoints:50,createdAt:new Date,updatedAt:new Date},{id:"customer2",name:"Fatma Trabelsi",phone:"+216-25-789-123",email:"fatma.trabelsi@email.tn",registrationDate:new Date,totalCars:1,totalAppointments:3,totalInvoices:2,totalSpent:800,averageSpending:400,status:"active",preferredContactMethod:"email",loyaltyPoints:30,createdAt:new Date,updatedAt:new Date},{id:"customer3",name:"Mohamed Khemir",phone:"+216-22-456-789",email:"mohamed.khemir@email.tn",registrationDate:new Date,totalCars:1,totalAppointments:2,totalInvoices:1,totalSpent:500,averageSpending:500,status:"vip",preferredContactMethod:"phone",loyaltyPoints:75,createdAt:new Date,updatedAt:new Date},{id:"customer4",name:"Leila Mansouri",phone:"+216-28-654-321",email:"leila.mansouri@email.tn",registrationDate:new Date,totalCars:3,totalAppointments:8,totalInvoices:6,totalSpent:2100,averageSpending:350,status:"vip",preferredContactMethod:"whatsapp",loyaltyPoints:120,createdAt:new Date,updatedAt:new Date}];this.customers.set(n)}onSubmit(){if(this.carForm.valid){this.isSubmitting.set(!0);let n=this.carForm.value,e=n.customerId;n.customerType==="new"&&(e="customer_"+Date.now());let t={licensePlate:n.licensePlate,make:n.make,model:n.model,year:n.year,customerId:e,currentMileage:n.currentMileage,totalServices:0,serviceStatus:"up-to-date"};this.carService.createCar(t).subscribe({next:m=>{this.isSubmitting.set(!1),this.carRegistered.emit(m),this.onClose()},error:m=>{console.error("Failed to register car:",m),this.isSubmitting.set(!1)}})}}onClose(){this.close.emit()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=E({type:o,selectors:[["app-car-registration-form"]],outputs:{close:"close",carRegistered:"carRegistered"},decls:69,vars:64,consts:[[1,"modal-overlay",3,"click"],[1,"modal-container","glass-card",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"close-btn",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[3,"ngSubmit","formGroup"],[1,"form-grid"],[1,"form-group"],["for","licensePlate",1,"form-label"],["id","licensePlate","type","text","formControlName","licensePlate",1,"form-input",3,"placeholder"],[1,"error-message"],["for","make",1,"form-label"],["id","make","type","text","formControlName","make",1,"form-input",3,"placeholder"],["for","model",1,"form-label"],["id","model","type","text","formControlName","model",1,"form-input",3,"placeholder"],["for","year",1,"form-label"],["id","year","type","number","formControlName","year","placeholder","e.g., 2020",1,"form-input",3,"min","max"],["for","currentMileage",1,"form-label"],["id","currentMileage","type","number","formControlName","currentMileage","placeholder","e.g., 45000","min","0",1,"form-input"],[1,"customer-section"],[1,"section-title"],[1,"customer-toggle"],[1,"toggle-group"],[1,"toggle-option"],["type","radio","value","existing","formControlName","customerType",1,"toggle-input"],[1,"toggle-label"],["type","radio","value","new","formControlName","customerType",1,"toggle-input"],[1,"new-customer-form"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],["for","customerId",1,"form-label"],["id","customerId","formControlName","customerId",1,"form-select"],["value",""],[3,"value"],["for","customerName",1,"form-label"],["id","customerName","type","text","formControlName","customerName","placeholder","e.g., Ahmed Ben Ali",1,"form-input"],["for","customerPhone",1,"form-label"],["id","customerPhone","type","tel","formControlName","customerPhone","placeholder","e.g., +216-20-123-456",1,"form-input"],["for","customerEmail",1,"form-label"],["id","customerEmail","type","email","formControlName","customerEmail","placeholder","e.g., ahmed.benali@email.tn",1,"form-input"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-4","h-4","mr-2"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,t){e&1&&(r(0,"div",0),v("click",function(){return t.onClose()}),r(1,"div",1),v("click",function(C){return C.stopPropagation()}),r(2,"div",2)(3,"h2",3),l(4),s(5,"translate"),a(),r(6,"button",4),v("click",function(){return t.onClose()}),_(),r(7,"svg",5),u(8,"path",6),a()()(),y(),r(9,"form",7),v("ngSubmit",function(){return t.onSubmit()}),r(10,"div",8)(11,"div",9)(12,"label",10),l(13),s(14,"translate"),a(),u(15,"input",11),s(16,"translate"),g(17,xe,3,2,"div",12),a(),r(18,"div",9)(19,"label",13),l(20),s(21,"translate"),a(),u(22,"input",14),s(23,"translate"),g(24,he,3,3,"div",12),a(),r(25,"div",9)(26,"label",15),l(27),s(28,"translate"),a(),u(29,"input",16),s(30,"translate"),g(31,_e,3,3,"div",12),a(),r(32,"div",9)(33,"label",17),l(34),s(35,"translate"),a(),u(36,"input",18),g(37,Se,3,2,"div",12),a(),r(38,"div",9)(39,"label",19),l(40),s(41,"translate"),a(),u(42,"input",20),g(43,Pe,3,2,"div",12),a()(),r(44,"div",21)(45,"h3",22),l(46),s(47,"translate"),a(),r(48,"div",23)(49,"div",24)(50,"label",25),u(51,"input",26),r(52,"span",27),l(53),s(54,"translate"),a()(),r(55,"label",25),u(56,"input",28),r(57,"span",27),l(58),s(59,"translate"),a()()()(),g(60,Oe,11,9,"div",9),g(61,Ve,19,18,"div",29),a(),r(62,"div",30)(63,"button",31),v("click",function(){return t.onClose()}),l(64),s(65,"translate"),a(),r(66,"button",32),g(67,De,5,3)(68,He,2,3),a()()()()()),e&2&&(i(4),c(d(5,38,"cars.registerNewCar")),i(5),b("formGroup",t.carForm),i(4),c(d(14,40,"cars.licensePlateRequired")),i(2),k("error",(t.licensePlate==null?null:t.licensePlate.invalid)&&((t.licensePlate==null?null:t.licensePlate.dirty)||(t.licensePlate==null?null:t.licensePlate.touched))),b("placeholder",D(d(16,42,"cars.licensePlatePlaceholder"))),i(2),f(t.licensePlate!=null&&t.licensePlate.invalid&&(t.licensePlate!=null&&t.licensePlate.dirty||t.licensePlate!=null&&t.licensePlate.touched)?17:-1),i(3),c(d(21,44,"cars.makeRequired")),i(2),k("error",(t.make==null?null:t.make.invalid)&&((t.make==null?null:t.make.dirty)||(t.make==null?null:t.make.touched))),b("placeholder",D(d(23,46,"cars.makePlaceholder"))),i(2),f(t.make!=null&&t.make.invalid&&(t.make!=null&&t.make.dirty||t.make!=null&&t.make.touched)?24:-1),i(3),c(d(28,48,"cars.modelRequired")),i(2),k("error",(t.model==null?null:t.model.invalid)&&((t.model==null?null:t.model.dirty)||(t.model==null?null:t.model.touched))),b("placeholder",D(d(30,50,"cars.modelPlaceholder"))),i(2),f(t.model!=null&&t.model.invalid&&(t.model!=null&&t.model.dirty||t.model!=null&&t.model.touched)?31:-1),i(3),c(d(35,52,"cars.yearRequired")),i(2),k("error",(t.year==null?null:t.year.invalid)&&((t.year==null?null:t.year.dirty)||(t.year==null?null:t.year.touched))),b("min",1990)("max",t.currentYear+1),i(),f(t.year!=null&&t.year.invalid&&(t.year!=null&&t.year.dirty||t.year!=null&&t.year.touched)?37:-1),i(3),c(d(41,54,"cars.currentMileageRequired")),i(2),k("error",(t.currentMileage==null?null:t.currentMileage.invalid)&&((t.currentMileage==null?null:t.currentMileage.dirty)||(t.currentMileage==null?null:t.currentMileage.touched))),i(),f(t.currentMileage!=null&&t.currentMileage.invalid&&(t.currentMileage!=null&&t.currentMileage.dirty||t.currentMileage!=null&&t.currentMileage.touched)?43:-1),i(3),c(d(47,56,"cars.customerInformation")),i(7),c(d(54,58,"cars.existingCustomer")),i(5),c(d(59,60,"cars.newCustomer")),i(2),f((t.customerType==null?null:t.customerType.value)==="existing"?60:-1),i(),f((t.customerType==null?null:t.customerType.value)==="new"?61:-1),i(3),p(" ",d(65,62,"common.cancel")," "),i(2),b("disabled",t.carForm.invalid||t.isSubmitting()),i(),f(t.isSubmitting()?67:68))},dependencies:[O,de,Z,H,z,K,ee,re,te,J,X,oe,ae,ie,ne,T],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:50;padding:1rem}.modal-container[_ngcontent-%COMP%]{width:100%;max-width:600px;max-height:90vh;overflow-y:auto;overflow-x:hidden;background:#111827f2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:20px;border:1px solid rgba(75,85,99,.6);box-shadow:0 20px 60px #000000b3}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:2rem 2rem 1rem;border-bottom:1px solid rgba(75,85,99,.3);margin-bottom:1.5rem}.modal-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;margin:0}.close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#9ca3af;cursor:pointer;padding:.5rem;border-radius:8px;transition:all .2s ease}.close-btn[_ngcontent-%COMP%]:hover{color:#fff;background:#ffffff1a}form[_ngcontent-%COMP%]{padding:0 2rem 2rem;width:100%;box-sizing:border-box}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1.5rem;margin-bottom:2rem;width:100%;box-sizing:border-box}@media (max-width: 640px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#d1d5db}.form-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border:2px solid rgba(75,85,99,.4);border-radius:12px;background:#1f2937cc;color:#fff;font-size:1rem;transition:all .2s ease;width:100%;box-sizing:border-box;min-width:0;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;background:#1f2937f2;box-shadow:0 0 0 3px #3b82f61a}.form-input.error[_ngcontent-%COMP%]{border-color:#ef4444;background:#7f1d1d4d}.error-message[_ngcontent-%COMP%]{font-size:.75rem;color:#ef4444;margin-top:.25rem}.customer-section[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1.5rem;background:#1f293799;border:1px solid rgba(75,85,99,.6);border-radius:12px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.section-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#fff;margin-bottom:1rem}.customer-toggle[_ngcontent-%COMP%]{margin-bottom:1.5rem}.toggle-group[_ngcontent-%COMP%]{display:flex;background:#37415180;border-radius:12px;padding:.25rem;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.toggle-option[_ngcontent-%COMP%]{flex:1;display:block;cursor:pointer}.toggle-input[_ngcontent-%COMP%]{display:none}.toggle-label[_ngcontent-%COMP%]{display:block;padding:.75rem 1rem;text-align:center;border-radius:8px;font-weight:500;color:#9ca3af;transition:all .2s ease}.toggle-input[_ngcontent-%COMP%]:checked + .toggle-label[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6cc,#2563ebcc);color:#fff;box-shadow:0 4px 12px #3b82f64d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.new-customer-form[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1.5rem}@media (max-width: 640px){.new-customer-form[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:2rem;padding-top:1.5rem;border-top:1px solid rgba(75,85,99,.3)}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:12px;font-weight:600;border:none;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;min-width:120px}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#4b556399;color:#d1d5db;border:1px solid rgba(75,85,99,.4);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#6b728099;border-color:#6b728099;color:#fff}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6cc,#2563ebcc);color:#fff;border:1px solid rgba(59,130,246,.6);box-shadow:0 4px 12px #3b82f64d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#2563ebe6,#1d4ed8e6);border-color:#2563ebb3;box-shadow:0 6px 16px #3b82f666;transform:translateY(-1px)}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 640px){.modal-container[_ngcontent-%COMP%]{margin:1rem;max-height:calc(100vh - 2rem)}.modal-header[_ngcontent-%COMP%]{padding:1.5rem 1.5rem 1rem}form[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.btn[_ngcontent-%COMP%]{width:100%}}"]})};var ze=(o,n)=>n.id;function Le(o,n){if(o&1&&(r(0,"option",29),l(1),a()),o&2){let e=n.$implicit;b("value",e),i(),c(e)}}function Ae(o,n){o&1&&(r(0,"div",40)(1,"h3",41),l(2),s(3,"translate"),a(),r(4,"div",42)(5,"div",43)(6,"span",44),l(7),s(8,"translate"),a(),r(9,"span",45),l(10),s(11,"translate"),a()(),r(12,"div",43)(13,"span",46),l(14),s(15,"translate"),a(),r(16,"span",45),l(17),s(18,"translate"),a()(),r(19,"div",43)(20,"span",47),l(21),s(22,"translate"),a(),r(23,"span",45),l(24),s(25,"translate"),a()(),r(26,"div",43)(27,"span",48),l(28),s(29,"translate"),a(),r(30,"span",45),l(31),s(32,"translate"),a()()()()),o&2&&(i(2),c(d(3,9,"cars.statusLegend")),i(5),c(d(8,11,"cars.upToDate")),i(3),c(d(11,13,"cars.maintenanceIsCurrent")),i(4),c(d(15,15,"cars.dueSoon")),i(3),c(d(18,17,"cars.serviceNeededWithin7Days")),i(4),c(d(22,19,"cars.overdue")),i(3),c(d(25,21,"cars.serviceIsPastDue")),i(4),c(d(29,23,"cars.unknown")),i(3),c(d(32,25,"cars.statusInformationUnavailable")))}function qe(o,n){o&1&&(r(0,"div",49),u(1,"div",50),r(2,"p",51),l(3),s(4,"translate"),a()()),o&2&&(i(3),c(d(4,1,"cars.loadingCars")))}function je(o,n){if(o&1){let e=V();r(0,"div",52)(1,"div",53),_(),r(2,"svg",54),u(3,"path",55),a()(),y(),r(4,"h3",56),l(5),s(6,"translate"),a(),r(7,"p",57),l(8),s(9,"translate"),a(),r(10,"button",58),v("click",function(){w(e);let m=x();return P(m.clearFilters())}),_(),r(11,"svg",12),u(12,"path",59),a(),l(13),s(14,"translate"),a()()}o&2&&(i(5),c(d(6,3,"cars.noCarsFound")),i(3),c(d(9,5,"cars.noCarsMatchFilters")),i(5),p(" ",d(14,7,"common.clearFilters")," "))}function Ge(o,n){if(o&1){let e=V();r(0,"app-car-card",62),v("carSelected",function(m){w(e);let C=x(2);return P(C.onCarSelect(m))})("scheduleService",function(m){w(e);let C=x(2);return P(C.onScheduleService(m))})("viewHistory",function(m){w(e);let C=x(2);return P(C.onViewHistory(m))}),a()}if(o&2){let e=n.$implicit,t=x(2);b("car",e)("customerName",t.getCustomerName(e.customerId))}}function We(o,n){if(o&1&&(r(0,"div",60),F(1,Ge,1,2,"app-car-card",61,ze),a()),o&2){let e=x();i(),B(e.filteredCars())}}function Ye(o,n){if(o&1){let e=V();r(0,"app-car-registration-form",63),v("close",function(){w(e);let m=x();return P(m.closeRegistrationForm())})("carRegistered",function(m){w(e);let C=x();return P(C.onCarRegistered(m))}),a()}}var pe=class o{carService=M(A);router=M(Q);cars=S([]);isLoading=S(!1);showRegistrationForm=S(!1);searchQuery=S("");selectedMake=S("all");selectedStatus=S("all");showMobileFilters=S(!1);availableMakes=R(()=>this.carService.getAvailableMakes());hasActiveFilters=R(()=>this.searchQuery()!==""||this.selectedMake()!=="all"||this.selectedStatus()!=="all");filteredCars=R(()=>{let n=[...this.cars()],e=this.searchQuery().toLowerCase();return e&&(n=n.filter(t=>t.licensePlate.toLowerCase().includes(e)||t.make.toLowerCase().includes(e)||t.model.toLowerCase().includes(e)||this.getCustomerName(t.customerId).toLowerCase().includes(e))),this.selectedMake()!=="all"&&(n=n.filter(t=>t.make===this.selectedMake())),this.selectedStatus()!=="all"&&(n=n.filter(t=>t.serviceStatus===this.selectedStatus())),n});statusCounts=R(()=>({total:this.cars().length,upToDate:this.cars().filter(n=>n.serviceStatus==="up-to-date").length,dueSoon:this.cars().filter(n=>n.serviceStatus==="due-soon").length,overdue:this.cars().filter(n=>n.serviceStatus==="overdue").length}));ngOnInit(){this.loadCars()}loadCars(){this.isLoading.set(!0),this.carService.getCars().subscribe({next:n=>{this.cars.set(n),this.isLoading.set(!1)},error:n=>{console.error("Failed to load cars:",n),this.isLoading.set(!1)}})}getCustomerName(n){let e=this.carService.getCustomerById(n);return e?e.name:"Unknown Customer"}getStatusColor(n){return{"up-to-date":"text-green-600","due-soon":"text-amber-600",overdue:"text-red-600"}[n]||"text-gray-600"}getStatusBadgeClass(n){return{"up-to-date":"badge badge-up-to-date","due-soon":"badge badge-due-soon",overdue:"badge badge-overdue"}[n]||"badge badge-unknown"}onSearchChange(n){let e=n.target;this.searchQuery.set(e.value)}onMakeChange(n){let e=n.target;this.selectedMake.set(e.value)}onStatusChange(n){let e=n.target;this.selectedStatus.set(e.value)}setStatusFilter(n){this.selectedStatus.set(n)}toggleMobileFilters(){this.showMobileFilters.set(!this.showMobileFilters())}clearFilters(){this.searchQuery.set(""),this.selectedMake.set("all"),this.selectedStatus.set("all")}onCarSelect(n){console.log("Selected car:",n)}onScheduleService(n){this.router.navigate(["/appointments"],{queryParams:{carId:n.id,licensePlate:n.licensePlate,make:n.make,model:n.model,customerId:n.customerId}})}onViewHistory(n){this.router.navigate(["/maintenance"],{queryParams:{carId:n.id,filter:"history"}})}openRegistrationForm(){this.showRegistrationForm.set(!0)}closeRegistrationForm(){this.showRegistrationForm.set(!1)}onCarRegistered(n){this.loadCars(),this.showRegistrationForm.set(!1)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=E({type:o,selectors:[["app-cars"]],decls:87,vars:61,consts:[[1,"cars-container","p-4","lg:p-8"],[1,"glass-card","cars-header"],[1,"flex","flex-col","lg:flex-row","justify-between","items-start","lg:items-center","gap-4"],[1,"flex-1"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white","mb-1"],[1,"text-gray-600","dark:text-gray-300"],[1,"flex","flex-col","lg:flex-row","lg:items-center","gap-3","items-start"],[1,"relative","w-full","lg:w-auto"],["type","text",1,"search-input","w-full",3,"input","placeholder","value"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","w-4","h-4","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"add-btn","w-auto",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"glass-card","stats-nav"],[1,"grid","grid-cols-2","lg:grid-cols-4","gap-3"],[1,"text-center"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"text-xs","text-gray-600","dark:text-gray-400"],[1,"text-2xl","font-bold","text-green-600","dark:text-green-400"],[1,"text-2xl","font-bold","text-amber-600","dark:text-amber-400"],[1,"text-2xl","font-bold","text-red-600","dark:text-red-400"],[1,"filter-toggle",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"],[1,"filters-panel"],[1,"p-4"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-4"],[1,"filter-select",3,"change","value"],["value","all"],[3,"value"],["value","up-to-date"],["value","due-soon"],["value","overdue"],[1,"btn-clear-filters",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"cars-main"],["class","glass-card status-legend",4,"ngIf"],["class","flex flex-col items-center justify-center py-12",4,"ngIf"],["class","glass-card empty-state",4,"ngIf"],["class","grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",4,"ngIf"],[1,"glass-card","status-legend"],[1,"legend-title"],[1,"legend-items"],[1,"legend-item"],[1,"legend-badge","badge","badge-up-to-date"],[1,"legend-text"],[1,"legend-badge","badge","badge-due-soon"],[1,"legend-badge","badge","badge-overdue"],[1,"legend-badge","badge","badge-unknown"],[1,"flex","flex-col","items-center","justify-center","py-12"],[1,"loading-spinner"],[1,"mt-4","text-gray-600","dark:text-gray-400"],[1,"glass-card","empty-state"],[1,"mb-4"],["fill","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","mx-auto","text-gray-400","dark:text-gray-500"],["d","M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.22.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","mb-2"],[1,"text-gray-600","dark:text-gray-400","mb-6"],[1,"flex","items-center","gap-2","px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"grid","grid-cols-1","lg:grid-cols-2","xl:grid-cols-3","gap-6"],[3,"car","customerName"],[3,"carSelected","scheduleService","viewHistory","car","customerName"],[3,"close","carRegistered"]],template:function(e,t){e&1&&(r(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"h1",4),l(5),s(6,"translate"),a(),r(7,"p",5),l(8),s(9,"translate"),a()(),r(10,"div",6)(11,"div",7)(12,"input",8),s(13,"translate"),v("input",function(C){return t.onSearchChange(C)}),a(),_(),r(14,"svg",9),u(15,"path",10),a()(),y(),r(16,"button",11),v("click",function(){return t.openRegistrationForm()}),_(),r(17,"svg",12),u(18,"path",13),a(),y(),r(19,"span"),l(20),s(21,"translate"),a()()()()(),r(22,"div",14)(23,"div",15)(24,"div",16)(25,"div",17),l(26),a(),r(27,"div",18),l(28),s(29,"translate"),a()(),r(30,"div",16)(31,"div",19),l(32),a(),r(33,"div",18),l(34),s(35,"translate"),a()(),r(36,"div",16)(37,"div",20),l(38),a(),r(39,"div",18),l(40),s(41,"translate"),a()(),r(42,"div",16)(43,"div",21),l(44),a(),r(45,"div",18),l(46),s(47,"translate"),a()()()(),r(48,"button",22),v("click",function(){return t.toggleMobileFilters()}),_(),r(49,"svg",12),u(50,"path",23),a(),y(),r(51,"span"),l(52),s(53,"translate"),a()(),r(54,"div",24)(55,"div",25)(56,"div",26)(57,"select",27),v("change",function(C){return t.onMakeChange(C)}),r(58,"option",28),l(59),s(60,"translate"),a(),F(61,Le,2,2,"option",29,W),a(),r(63,"select",27),v("change",function(C){return t.onStatusChange(C)}),r(64,"option",28),l(65),s(66,"translate"),a(),r(67,"option",30),l(68),s(69,"translate"),a(),r(70,"option",31),l(71),s(72,"translate"),a(),r(73,"option",32),l(74),s(75,"translate"),a()(),r(76,"button",33),v("click",function(){return t.clearFilters()}),_(),r(77,"svg",12),u(78,"path",34),a(),l(79),s(80,"translate"),a()()()(),y(),r(81,"main",35),G(82,Ae,33,27,"div",36)(83,qe,5,3,"div",37)(84,je,15,9,"div",38)(85,We,3,0,"div",39),a(),g(86,Ye,1,0,"app-car-registration-form"),a()),e&2&&(i(5),c(d(6,31,"cars.title")),i(3),c(d(9,33,"cars.subtitle")),i(4),b("placeholder",d(13,35,"common.search"))("value",t.searchQuery()),i(8),c(d(21,37,"cars.addCar")),i(6),c(t.statusCounts().total),i(2),c(d(29,39,"cars.totalCars")),i(4),c(t.statusCounts().upToDate),i(2),c(d(35,41,"cars.upToDate")),i(4),c(t.statusCounts().dueSoon),i(2),c(d(41,43,"cars.dueSoon")),i(4),c(t.statusCounts().overdue),i(2),c(d(47,45,"cars.overdue")),i(2),k("active",t.showMobileFilters()),i(4),c(d(53,47,"common.filters")),i(2),k("open",t.showMobileFilters()),i(3),b("value",t.selectedMake()),i(2),c(d(60,49,"cars.allMakes")),i(2),B(t.availableMakes()),i(2),b("value",t.selectedStatus()),i(2),c(d(66,51,"cars.allStatus")),i(3),c(d(69,53,"cars.upToDate")),i(3),c(d(72,55,"cars.dueSoon")),i(3),c(d(75,57,"cars.overdue")),i(5),p(" ",d(80,59,"common.clearFilters")," "),i(3),b("ngIf",!t.isLoading()&&t.filteredCars().length>0),i(),b("ngIf",t.isLoading()),i(),b("ngIf",!t.isLoading()&&t.filteredCars().length===0),i(),b("ngIf",!t.isLoading()&&t.filteredCars().length>0),i(),f(t.showRegistrationForm()?86:-1))},dependencies:[O,$,se,H,z,U,q,j,T],styles:[`.cars-container[_ngcontent-%COMP%]{min-height:100vh;background:transparent}.glass-card[_ngcontent-%COMP%]{background:#111827f2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(75,85,99,.6);border-radius:20px;padding:1.5rem;box-shadow:0 8px 32px #000000b3;transition:all .3s cubic-bezier(.4,0,.2,1);margin-bottom:1rem}.glass-card[_ngcontent-%COMP%]:hover{background:#1f2937fa;box-shadow:0 12px 40px #000c;border-color:#3b82f6b3;transform:translateY(-2px)}.cars-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff}.cars-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#d1d5db}.search-input[_ngcontent-%COMP%]{width:100%;min-width:200px;padding:.75rem 1rem .75rem 2.5rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#1f2937b3;border:1px solid rgba(255,255,255,.1);border-radius:12px;font-size:.875rem;transition:all .2s ease;color:#fff}@media (max-width: 640px){.search-input[_ngcontent-%COMP%]{min-width:0;width:100%}}.search-input[_ngcontent-%COMP%]:focus{outline:none;background:#1f2937e6;border-color:#3b82f680;box-shadow:0 0 0 3px #3b82f61a}.search-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.add-btn[_ngcontent-%COMP%], .mobile-fab[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);background:linear-gradient(135deg,#3b82f6cc,#1d4ed8cc);border:1px solid rgba(59,130,246,.3);border-radius:12px;color:#fff;padding:.75rem 1rem;display:flex;align-items:center;gap:.5rem;transition:all .2s ease;font-weight:600}.add-btn[_ngcontent-%COMP%]:hover, .mobile-fab[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3b82f6e6,#1d4ed8e6);transform:translateY(-1px)}.stats-nav[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]:first-child   .text-2xl[_ngcontent-%COMP%]{color:#fff!important}.stats-nav[_ngcontent-%COMP%]   .text-xs[_ngcontent-%COMP%]{color:#d1d5db!important}.filter-toggle[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;font-size:.875rem;color:#d1d5db;background:#1f293799;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;transition:all .2s ease;margin-bottom:.75rem}.filter-toggle[_ngcontent-%COMP%]:hover{background:#1f2937cc}.filter-toggle.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6cc,#1d4ed8cc)!important;border-color:#3b82f680!important;color:#fff!important;box-shadow:0 4px 15px #3b82f64d}.filter-toggle.active[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3b82f6e6,#1d4ed8e6)!important;transform:translateY(-1px);box-shadow:0 6px 20px #3b82f666}.filters-panel[_ngcontent-%COMP%]{background:#111827e6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(75,85,99,.4);border-radius:20px;box-shadow:0 8px 32px #00000080;transition:all .3s cubic-bezier(.4,0,.2,1);margin-bottom:1rem;max-height:0;overflow:hidden}.filters-panel.open[_ngcontent-%COMP%]{max-height:300px}.filters-panel[_ngcontent-%COMP%]:hover{transform:translateY(-2px);background:#1f2937f2;box-shadow:0 12px 40px #0009}.filter-select[_ngcontent-%COMP%]{width:100%;padding:.75rem 2.5rem .75rem .75rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#1f2937b3;border:1px solid rgba(255,255,255,.1);border-radius:12px;font-size:.875rem;transition:all .2s ease;color:#fff;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:1rem}.filter-select[_ngcontent-%COMP%]:focus{outline:none;background:#1f2937e6;border-color:#3b82f680;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:1rem}.filter-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#374151;color:#fff}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   .text-gray-900[_ngcontent-%COMP%]{color:#fff!important}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   .text-gray-600[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   .text-gray-400[_ngcontent-%COMP%]{color:#d1d5db!important}.status-legend[_ngcontent-%COMP%]{background:#11182799!important;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:1rem;margin-bottom:1rem;box-shadow:0 4px 16px #0000004d;transition:all .3s cubic-bezier(.4,0,.2,1)}.status-legend[_ngcontent-%COMP%]:hover{background:#1f2937b3!important;transform:translateY(-1px);box-shadow:0 6px 20px #0006}.legend-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#fff;margin:0 0 .75rem;display:flex;align-items:center;gap:.5rem}.legend-title[_ngcontent-%COMP%]:before{content:"";width:4px;height:1rem;background:linear-gradient(135deg,#3b82f6,#1d4ed8);border-radius:2px}.legend-items[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:.75rem}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.legend-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:12px;font-size:.75rem;font-weight:600;border:1px solid;white-space:nowrap}.legend-text[_ngcontent-%COMP%]{font-size:.875rem;color:#d1d5db;flex:1}.loading-spinner[_ngcontent-%COMP%]{width:2rem;height:2rem;border:3px solid rgba(59,130,246,.3);border-top:3px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}`]})};export{pe as CarsComponent};
