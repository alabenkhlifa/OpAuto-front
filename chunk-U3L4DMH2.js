import{a as oe}from"./chunk-YPJIBZY7.js";import{b as ee,d as te,g as ie,o as ne,p as le,q as ae,v as L}from"./chunk-VYILSR5J.js";import{$ as b,A as h,B as y,Ba as q,C as f,E as k,Ea as K,J as r,La as Q,M as w,Na as X,Pa as M,R as z,S as T,W as v,Wa as Y,X as g,Xa as Z,Z as U,_,a as R,aa as S,ba as i,ca as l,da as d,ea as F,fa as c,ga as p,la as V,ma as J,na as x,oa as o,pa as u,qa as C,ra as P,ta as A,ua as D,va as I,x as O,z as E,za as $}from"./chunk-JES5V5RQ.js";function me(a,t){if(a&1&&(i(0,"div",25)(1,"span",26),o(2,"Current Workload"),l(),i(3,"span",27),o(4),l()(),i(5,"div",28),d(6,"div",29),l()),a&2){let e=p();r(4),P("",e.employee.availability.currentWorkload,"/",e.employee.availability.maxWorkload),r(2),V("width",e.getWorkloadPercentage(e.employee),"%")}}function pe(a,t){if(a&1&&(i(0,"p",31),o(1),$(2,"date"),l()),a&2){let e=p(2);r(),C("Until: ",q(2,1,e.employee.availability.unavailableUntil,"short"))}}function de(a,t){if(a&1&&(i(0,"p",30),o(1),l(),v(2,pe,3,4,"p",31)),a&2){let e=p();r(),u(e.employee.availability.unavailableReason),r(),g(e.employee.availability.unavailableUntil?2:-1)}}function ce(a,t){if(a&1&&(i(0,"span",18),o(1),l()),a&2){let e=t.$implicit;r(),C(" ",e," ")}}function ue(a,t){if(a&1&&(i(0,"span",19),o(1),l()),a&2){let e=p();r(),C(" +",e.employee.skills.specialties.length-3," more ")}}function ye(a,t){if(a&1&&(i(0,"div",20)(1,"div")(2,"p",26),o(3,"Completed Jobs"),l(),i(4,"p",32),o(5),l()()()),a&2){let e=p();r(5),u(e.employee.performance.completedJobs)}}function ve(a,t){a&1&&(y(),i(0,"svg",34),d(1,"path",35),l(),o(2," Mark Unavailable "))}function ge(a,t){a&1&&(y(),i(0,"svg",34),d(1,"path",36),l(),o(2," Mark Available "))}function fe(a,t){if(a&1){let e=F();i(0,"button",33),c("click",function(){E(e);let m=p();return h(m.toggleAvailability.emit({employeeId:m.employee.id,isAvailable:!m.employee.availability.isAvailable}))}),v(1,ve,3,0)(2,ge,3,0),l()}if(a&2){let e=p();x(e.employee.availability.isAvailable?"btn-warning":"btn-success"),r(),g(e.employee.availability.isAvailable?1:2)}}var j=class a{employee;view="grid";edit=new T;viewDetails=new T;toggleAvailability=new T;getInitials(t){return t.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2)}getRoleLabel(t){return{admin:"Administrator","senior-mechanic":"Senior Mechanic","junior-mechanic":"Junior Mechanic",apprentice:"Apprentice","service-advisor":"Service Advisor"}[t]||t}getDepartmentLabel(t){return{management:"Management",mechanical:"Mechanical",bodywork:"Bodywork",electrical:"Electrical",service:"Service"}[t]||t}getStatusLabel(t){return{active:"Active",inactive:"Inactive","on-leave":"On Leave",terminated:"Terminated"}[t]||t}getStatusClasses(t){let e={active:"badge-active",inactive:"badge-inactive","on-leave":"badge-pending",terminated:"badge-cancelled"};return e[t]||e.inactive}getAvailabilityColor(t){return t?"bg-green-500":"bg-red-500"}getAvailabilityTextColor(t){return t?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}getWorkloadPercentage(t){return t.availability.maxWorkload===0?0:Math.round(t.availability.currentWorkload/t.availability.maxWorkload*100)}getStarArray(t){return Array(Math.floor(t)).fill(0)}formatCurrency(t){return new Intl.NumberFormat("fr-TN",{style:"currency",currency:"TND",minimumFractionDigits:0}).format(t)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=w({type:a,selectors:[["app-employee-card"]],inputs:{employee:"employee",view:"view"},outputs:{edit:"edit",viewDetails:"viewDetails",toggleAvailability:"toggleAvailability"},decls:47,vars:18,consts:[[1,"glass-card"],[1,"flex","items-start","justify-between","mb-4"],[1,"flex","items-center","space-x-3"],[1,"w-12","h-12","bg-gradient-to-br","from-blue-500","to-purple-600","rounded-full","flex","items-center","justify-center","text-white","font-semibold","text-lg"],[1,"flex-1","min-w-0"],[1,"text-lg","font-semibold","text-white","truncate"],[1,"text-sm","text-gray-400"],[1,"badge"],[1,"grid","grid-cols-2","gap-4","mb-4"],[1,"text-xs","text-gray-400","uppercase","tracking-wide"],[1,"text-sm","font-medium","text-white"],[1,"mb-4"],[1,"flex","items-center","justify-between","mb-2"],[1,"flex","items-center"],[1,"w-2","h-2","rounded-full","mr-2"],[1,"text-sm","font-medium"],[1,"text-xs","text-gray-400","uppercase","tracking-wide","mb-2"],[1,"flex","flex-wrap","gap-1"],[1,"badge","badge-active"],[1,"badge","badge-inactive"],[1,"mb-4","text-sm"],[1,"flex","space-x-2"],[1,"flex-1","btn-tertiary","text-sm","justify-center",3,"click"],[1,"flex-1","btn-primary","text-sm","justify-center",3,"click"],[1,"btn-sm","text-xs","justify-center",3,"class"],[1,"flex","justify-between","text-sm","mb-1"],[1,"text-gray-400"],[1,"text-white"],[1,"w-full","bg-gray-700","rounded-full","h-2"],[1,"bg-gradient-to-r","from-blue-500","to-green-500","h-2","rounded-full","transition-all"],[1,"text-sm","text-gray-300"],[1,"text-xs","text-gray-400"],[1,"font-medium","text-white"],[1,"btn-sm","text-xs","justify-center",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-3","h-3","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o(4),l(),i(5,"div",4)(6,"h3",5),o(7),l(),i(8,"p",6),o(9),l()()(),i(10,"span",7),o(11),l()(),i(12,"div",8)(13,"div")(14,"p",9),o(15,"Department"),l(),i(16,"p",10),o(17),l()(),i(18,"div")(19,"p",9),o(20,"Phone"),l(),i(21,"p",10),o(22),l()()(),i(23,"div",11)(24,"div",12)(25,"span",9),o(26," Availability "),l(),i(27,"div",13),d(28,"div",14),i(29,"span",15),o(30),l()()(),v(31,me,7,4)(32,de,3,2),l(),i(33,"div",11)(34,"p",16),o(35,"Specialties"),l(),i(36,"div",17),_(37,ce,2,1,"span",18,U),v(39,ue,2,1,"span",19),l()(),v(40,ye,6,1,"div",20),i(41,"div",21)(42,"button",22),c("click",function(){return n.viewDetails.emit(n.employee.id)}),o(43," View Details "),l(),i(44,"button",23),c("click",function(){return n.edit.emit(n.employee.id)}),o(45," Edit "),l(),v(46,fe,3,3,"button",24),l()()),e&2&&(r(4),C(" ",n.getInitials(n.employee.personalInfo.fullName)," "),r(3),C(" ",n.employee.personalInfo.fullName," "),r(2),P(" ",n.employee.employeeNumber," \u2022 ",n.getRoleLabel(n.employee.employment.role)," "),r(),x(n.getStatusClasses(n.employee.employment.status)),r(),C(" ",n.getStatusLabel(n.employee.employment.status)," "),r(6),u(n.getDepartmentLabel(n.employee.employment.department)),r(5),u(n.employee.personalInfo.phone),r(6),x(n.getAvailabilityColor(n.employee.availability.isAvailable)),r(),x(n.getAvailabilityTextColor(n.employee.availability.isAvailable)),r(),C(" ",n.employee.availability.isAvailable?"Available":"Unavailable"," "),r(),g(n.employee.availability.isAvailable?31:n.employee.availability.unavailableReason?32:-1),r(6),b(n.employee.skills.specialties.slice(0,3)),r(2),g(n.employee.skills.specialties.length>3?39:-1),r(),g(n.view==="grid"?40:-1),r(6),g(n.employee.employment.status==="active"?46:-1))},dependencies:[M,X],encapsulation:2})};var _e=(a,t)=>t.department;function be(a,t){if(a&1&&(i(0,"div",19)(1,"div",2),d(2,"div",20),i(3,"span",21),o(4),l()(),i(5,"div",22)(6,"span",23),o(7),l(),i(8,"div",24),d(9,"div",25),l()()()),a&2){let e=p().$implicit,n=p(2);r(2),x(n.getDepartmentColor(e.department)),r(2),u(n.getDepartmentLabel(e.department)),r(3),u(e.count),r(2),x(n.getDepartmentColor(e.department)),V("width",e.percentage,"%")}}function xe(a,t){if(a&1&&v(0,be,10,8,"div",19),a&2){let e=t.$implicit;g(e.count>0?0:-1)}}function Ce(a,t){if(a&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),y(),i(5,"svg",5),d(6,"path",6),l()()(),f(),i(7,"div",7)(8,"p",8),o(9,"Total Employees"),l(),i(10,"p",9),o(11),l()()()(),i(12,"div",1)(13,"div",2)(14,"div",3)(15,"div",10),y(),i(16,"svg",5),d(17,"path",11),l()()(),f(),i(18,"div",7)(19,"p",8),o(20,"Active"),l(),i(21,"p",9),o(22),l()()()(),i(23,"div",1)(24,"div",2)(25,"div",3)(26,"div",12),y(),i(27,"svg",5),d(28,"path",13),l()()(),f(),i(29,"div",7)(30,"p",8),o(31,"Available Now"),l(),i(32,"p",9),o(33),l()()()(),i(34,"div",1)(35,"div",2)(36,"div",3)(37,"div",14),y(),i(38,"svg",5),d(39,"path",15),l()()(),f(),i(40,"div",7)(41,"p",8),o(42,"Monthly Payroll"),l(),i(43,"p",9),o(44),l()()()()(),i(45,"div",16)(46,"h3",17),o(47,"Department Distribution"),l(),i(48,"div",18),_(49,xe,1,1,null,null,_e),l()()),a&2){let e=p();r(11),u(e.stats.totalEmployees),r(11),u(e.stats.activeEmployees),r(11),u(e.stats.availableEmployees),r(11),u(e.formatCurrency(e.stats.totalSalaryExpense)),r(5),b(e.getDepartmentEntries(e.stats))}}var N=class a{stats=null;formatCurrency(t){return new Intl.NumberFormat("fr-TN",{style:"currency",currency:"TND",minimumFractionDigits:0}).format(t)}getDepartmentEntries(t){let e=t.totalEmployees;return Object.entries(t.departmentDistribution).map(([n,m])=>({department:n,count:m,percentage:e>0?Math.round(m/e*100):0}))}getDepartmentLabel(t){return{management:"Management",mechanical:"Mechanical",bodywork:"Bodywork",electrical:"Electrical",service:"Service"}[t]||t}getDepartmentColor(t){return{management:"bg-purple-500",mechanical:"bg-blue-500",bodywork:"bg-green-500",electrical:"bg-yellow-500",service:"bg-orange-500"}[t]||"bg-gray-500"}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=w({type:a,selectors:[["app-employee-stats"]],inputs:{stats:"stats"},decls:1,vars:1,consts:[[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6"],[1,"glass-card"],[1,"flex","items-center"],[1,"flex-shrink-0"],[1,"w-8","h-8","bg-blue-500","rounded-lg","flex","items-center","justify-center"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-400"],[1,"text-2xl","font-semibold","text-white"],[1,"w-8","h-8","bg-green-500","rounded-lg","flex","items-center","justify-center"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"w-8","h-8","bg-purple-500","rounded-lg","flex","items-center","justify-center"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"w-8","h-8","bg-orange-500","rounded-lg","flex","items-center","justify-center"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],[1,"mt-6","glass-card"],[1,"text-lg","font-semibold","text-white","mb-4"],[1,"space-y-3"],[1,"flex","items-center","justify-between"],[1,"w-3","h-3","rounded-full","mr-3"],[1,"text-sm","font-medium","text-white"],[1,"flex","items-center","space-x-2"],[1,"text-sm","text-gray-400"],[1,"w-20","bg-gray-700","rounded-full","h-2"],[1,"h-2","rounded-full"]],template:function(e,n){e&1&&v(0,Ce,51,4),e&2&&g(n.stats?0:-1)},dependencies:[M],encapsulation:2})};var G=(a,t)=>t.value;function Ee(a,t){if(a&1&&(i(0,"option",12),o(1),l()),a&2){let e=t.$implicit;S("value",e.value),r(),u(e.label)}}function he(a,t){if(a&1&&(i(0,"option",12),o(1),l()),a&2){let e=t.$implicit;S("value",e.value),r(),u(e.label)}}function Se(a,t){if(a&1&&(i(0,"option",12),o(1),l()),a&2){let e=t.$implicit;S("value",e.value),r(),u(e.label)}}var W=class a{filters={};filtersChange=new T;localFilters={};selectedRole="";selectedDepartment="";selectedStatus="";selectedAvailability="";roleOptions=[{value:"admin",label:"Administrator"},{value:"senior-mechanic",label:"Senior Mechanic"},{value:"junior-mechanic",label:"Junior Mechanic"},{value:"apprentice",label:"Apprentice"},{value:"service-advisor",label:"Service Advisor"}];departmentOptions=[{value:"management",label:"Management"},{value:"mechanical",label:"Mechanical"},{value:"bodywork",label:"Bodywork"},{value:"electrical",label:"Electrical"},{value:"service",label:"Service"}];statusOptions=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"on-leave",label:"On Leave"},{value:"terminated",label:"Terminated"}];ngOnInit(){this.localFilters=R({},this.filters),this.initializeSelectValues()}initializeSelectValues(){this.selectedRole=this.localFilters.role?.[0]||"",this.selectedDepartment=this.localFilters.department?.[0]||"",this.selectedStatus=this.localFilters.status?.[0]||"",this.selectedAvailability=this.localFilters.isAvailable!==void 0?String(this.localFilters.isAvailable):""}onFilterChange(){this.emitFilters()}onRoleChange(t){this.localFilters.role=t?[t]:void 0,this.emitFilters()}onDepartmentChange(t){this.localFilters.department=t?[t]:void 0,this.emitFilters()}onStatusChange(t){this.localFilters.status=t?[t]:void 0,this.emitFilters()}onAvailabilityChange(t){this.localFilters.isAvailable=t===""?void 0:t==="true",this.emitFilters()}clearFilters(){this.localFilters={},this.selectedRole="",this.selectedDepartment="",this.selectedStatus="",this.selectedAvailability="",this.emitFilters()}emitFilters(){this.filtersChange.emit(R({},this.localFilters))}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=w({type:a,selectors:[["app-employee-filters"]],inputs:{filters:"filters"},outputs:{filtersChange:"filtersChange"},decls:47,vars:5,consts:[[1,"glass-card"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-white"],[1,"btn-clear-filters",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-6","gap-4"],[1,"lg:col-span-2"],[1,"form-label"],["type","text","placeholder","Name, email, employee #...",1,"form-input",3,"ngModelChange","ngModel"],[1,"form-select",3,"ngModelChange","ngModel"],["value",""],[3,"value"],["value","true"],["value","false"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"h3",2),o(3,"Filters"),l(),i(4,"button",3),c("click",function(){return n.clearFilters()}),y(),i(5,"svg",4),d(6,"path",5),l(),o(7," Clear All "),l()(),f(),i(8,"div",6)(9,"div",7)(10,"label",8),o(11," Search "),l(),i(12,"input",9),I("ngModelChange",function(s){return D(n.localFilters.searchTerm,s)||(n.localFilters.searchTerm=s),s}),c("ngModelChange",function(){return n.onFilterChange()}),l()(),i(13,"div")(14,"label",8),o(15," Role "),l(),i(16,"select",10),I("ngModelChange",function(s){return D(n.selectedRole,s)||(n.selectedRole=s),s}),c("ngModelChange",function(s){return n.onRoleChange(s)}),i(17,"option",11),o(18,"All Roles"),l(),_(19,Ee,2,2,"option",12,G),l()(),i(21,"div")(22,"label",8),o(23," Department "),l(),i(24,"select",10),I("ngModelChange",function(s){return D(n.selectedDepartment,s)||(n.selectedDepartment=s),s}),c("ngModelChange",function(s){return n.onDepartmentChange(s)}),i(25,"option",11),o(26,"All Departments"),l(),_(27,he,2,2,"option",12,G),l()(),i(29,"div")(30,"label",8),o(31," Status "),l(),i(32,"select",10),I("ngModelChange",function(s){return D(n.selectedStatus,s)||(n.selectedStatus=s),s}),c("ngModelChange",function(s){return n.onStatusChange(s)}),i(33,"option",11),o(34,"All Status"),l(),_(35,Se,2,2,"option",12,G),l()(),i(37,"div")(38,"label",8),o(39," Availability "),l(),i(40,"select",10),I("ngModelChange",function(s){return D(n.selectedAvailability,s)||(n.selectedAvailability=s),s}),c("ngModelChange",function(s){return n.onAvailabilityChange(s)}),i(41,"option",11),o(42,"All"),l(),i(43,"option",13),o(44,"Available"),l(),i(45,"option",14),o(46,"Unavailable"),l()()()()()),e&2&&(r(12),A("ngModel",n.localFilters.searchTerm),r(4),A("ngModel",n.selectedRole),r(3),b(n.roleOptions),r(5),A("ngModel",n.selectedDepartment),r(3),b(n.departmentOptions),r(5),A("ngModel",n.selectedStatus),r(3),b(n.statusOptions),r(5),A("ngModel",n.selectedAvailability))},dependencies:[M,L,le,ae,ee,ne,te,ie],encapsulation:2})};var we=(a,t)=>t.value,Me=(a,t)=>t.id;function ke(a,t){if(a&1){let e=F();i(0,"app-employee-filters",20),c("filtersChange",function(m){E(e);let s=p();return h(s.onFiltersChange(m))}),l()}if(a&2){let e=p();S("filters",e.filters())}}function Fe(a,t){if(a&1){let e=F();i(0,"button",21),c("click",function(){let m=E(e).$implicit,s=p();return h(s.setView(m.value))}),o(1),l()}if(a&2){let e=t.$implicit,n=p();x(n.currentView()===e.value?"bg-blue-600 text-white shadow-sm":"text-gray-400 hover:text-gray-200"),r(),C(" ",e.label," ")}}function Te(a,t){if(a&1){let e=F();i(0,"div",18),y(),i(1,"svg",22),d(2,"path",23),l(),f(),i(3,"h3",24),o(4,"No employees found"),l(),i(5,"p",25),o(6,"Get started by adding a new employee to your garage."),l(),i(7,"div",26)(8,"button",9),c("click",function(){E(e);let m=p();return h(m.createNewEmployee())}),y(),i(9,"svg",6),d(10,"path",10),l(),o(11," Add Employee "),l()()()}}function Ae(a,t){if(a&1){let e=F();i(0,"app-employee-card",29),c("edit",function(m){E(e);let s=p(2);return h(s.editEmployee(m))})("viewDetails",function(m){E(e);let s=p(2);return h(s.viewEmployee(m))})("toggleAvailability",function(m){E(e);let s=p(2);return h(s.toggleEmployeeAvailability(m))}),l()}if(a&2){let e=t.$implicit,n=p(2);S("employee",e)("view",n.currentView())}}function De(a,t){if(a&1&&(i(0,"div",27),_(1,Ae,1,2,"app-employee-card",28,Me),l()),a&2){let e=p();x(e.currentView()==="grid"?"grid-cols-1 lg:grid-cols-2 xl:grid-cols-3":"grid-cols-1"),r(),b(e.filteredEmployees())}}var re=class a{employeeService=O(oe);router=O(Y);employees=k([]);stats=k(null);filters=k({});showFilters=k(!1);currentView=k("grid");loading=k(!1);viewOptions=[{value:"grid",label:"Grid"},{value:"list",label:"List"}];filteredEmployees=K(()=>{let t=this.employees(),e=this.filters();return this.applyFilters(t,e)});ngOnInit(){this.loadEmployees(),this.loadStats()}loadEmployees(){this.loading.set(!0),this.employeeService.getEmployees(this.filters()).subscribe({next:t=>{this.employees.set(t),this.loading.set(!1)},error:t=>{console.error("Error loading employees:",t),this.loading.set(!1)}})}loadStats(){this.employeeService.getEmployeeStats().subscribe({next:t=>this.stats.set(t),error:t=>console.error("Error loading stats:",t)})}applyFilters(t,e){return t.filter(n=>{if(e.searchTerm){let m=e.searchTerm.toLowerCase();if(![n.personalInfo.fullName,n.personalInfo.email,n.employeeNumber,n.employment.role,n.employment.department,...n.skills.specialties].join(" ").toLowerCase().includes(m))return!1}return!(e.role&&e.role.length>0&&!e.role.includes(n.employment.role)||e.department&&e.department.length>0&&!e.department.includes(n.employment.department)||e.status&&e.status.length>0&&!e.status.includes(n.employment.status)||e.experienceLevel&&e.experienceLevel.length>0&&!e.experienceLevel.includes(n.skills.experienceLevel)||e.isAvailable!==void 0&&n.availability.isAvailable!==e.isAvailable)})}setView(t){this.currentView.set(t)}onFiltersChange(t){this.filters.set(t),this.loadEmployees()}createNewEmployee(){this.router.navigate(["/employees/new"])}editEmployee(t){this.router.navigate(["/employees/edit",t])}viewEmployee(t){this.router.navigate(["/employees/details",t])}toggleEmployeeAvailability(t){this.employeeService.updateEmployeeAvailability(t.employeeId,t.isAvailable,t.reason).subscribe({next:()=>this.loadEmployees(),error:e=>console.error("Error updating availability:",e)})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=w({type:a,selectors:[["app-employees"]],decls:29,vars:6,consts:[[1,"p-6","space-y-6"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between"],[1,"text-2xl","font-bold","text-white"],[1,"mt-1","text-sm","text-gray-300"],[1,"mt-4","sm:mt-0","flex","space-x-3"],[1,"btn-filter-toggle",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"],[1,"hidden","sm:inline"],[1,"btn-primary",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[3,"stats"],[3,"filters","filtersChange",4,"ngIf"],[1,"space-y-4"],[1,"flex","items-center","justify-between"],[1,"text-lg","font-semibold","text-white"],[1,"flex","bg-gray-800/30","rounded-lg","p-1"],[1,"px-3","py-1","text-sm","font-medium","rounded-md","transition-colors",3,"class"],[1,"text-center","py-12"],[1,"grid","gap-4",3,"class"],[3,"filtersChange","filters"],[1,"px-3","py-1","text-sm","font-medium","rounded-md","transition-colors",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"mt-2","text-sm","font-medium","text-white"],[1,"mt-1","text-sm","text-gray-400"],[1,"mt-6"],[1,"grid","gap-4"],[3,"employee","view"],[3,"edit","viewDetails","toggleAvailability","employee","view"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),o(4," Employee Management "),l(),i(5,"p",3),o(6," Manage garage staff, schedules, and performance "),l()(),i(7,"div",4)(8,"button",5),c("click",function(){return n.showFilters.set(!n.showFilters())}),y(),i(9,"svg",6),d(10,"path",7),l(),f(),i(11,"span",8),o(12,"Filters"),l()(),i(13,"button",9),c("click",function(){return n.createNewEmployee()}),y(),i(14,"svg",6),d(15,"path",10),l(),f(),i(16,"span",8),o(17,"Add Employee"),l()()()(),d(18,"app-employee-stats",11),z(19,ke,1,1,"app-employee-filters",12),i(20,"div",13)(21,"div",14)(22,"h2",15),o(23),l(),i(24,"div",16),_(25,Fe,2,3,"button",17,we),l()(),v(27,Te,12,0,"div",18)(28,De,3,2,"div",19),l()()),e&2&&(r(8),J("active",n.showFilters()),r(10),S("stats",n.stats()),r(),S("ngIf",n.showFilters()),r(4),C(" Employees (",n.filteredEmployees().length,") "),r(2),b(n.viewOptions),r(2),g(n.filteredEmployees().length===0?27:28))},dependencies:[M,Q,Z,L,j,N,W],encapsulation:2})};export{re as EmployeesComponent};
